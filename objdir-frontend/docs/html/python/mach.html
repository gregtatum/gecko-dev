

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mach package &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mach package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/mach.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mach-package">
<h1>mach package<a class="headerlink" href="#mach-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mach.commands.html">mach.commands package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mach.commands.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.commands.html#mach-commands-commandinfo-module">mach.commands.commandinfo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.commands.html#mach-commands-settings-module">mach.commands.settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.commands.html#module-mach.commands">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mach.mixin.html">mach.mixin package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mach.mixin.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.mixin.html#module-mach.mixin.logging">mach.mixin.logging module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.mixin.html#module-mach.mixin.process">mach.mixin.process module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.mixin.html#module-mach.mixin">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mach.test.html">mach.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mach.test.providers.html">mach.test.providers package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers.basic">mach.test.providers.basic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers.commands">mach.test.providers.commands module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers.conditions">mach.test.providers.conditions module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#mach-test-providers-conditions-invalid-module">mach.test.providers.conditions_invalid module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers.throw">mach.test.providers.throw module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers.throw2">mach.test.providers.throw2 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mach.test.providers.html#module-mach.test.providers">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.common">mach.test.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#mach-test-invoke-mach-command-module">mach.test.invoke_mach_command module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_commands">mach.test.test_commands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_conditions">mach.test.test_conditions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_config">mach.test.test_config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_dispatcher">mach.test.test_dispatcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_entry_point">mach.test.test_entry_point module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_error_output">mach.test.test_error_output module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_logger">mach.test.test_logger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_mach">mach.test.test_mach module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test.test_telemetry">mach.test.test_telemetry module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#mach-test-zero-microseconds-module">mach.test.zero_microseconds module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.test.html#module-mach.test">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mach.base">
<span id="mach-base-module"></span><h2>mach.base module<a class="headerlink" href="#module-mach.base" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.base.CommandContext">
<em class="property">class </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">CommandContext</code><span class="sig-paren">(</span><em class="sig-param">cwd=None</em>, <em class="sig-param">settings=None</em>, <em class="sig-param">log_manager=None</em>, <em class="sig-param">commands=None</em>, <em class="sig-param">telemetry=&lt;mach.telemetry.NoopTelemetry object&gt;</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mach.base.CommandContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Holds run-time state so it can easily be passed to command providers.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.FailedCommandError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">FailedCommandError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">exit_code</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">reason</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.base.FailedCommandError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised by commands to signal a handled failure to be printed by mach</p>
<p>When caught by mach a FailedCommandError will print message and exit
with ‘’exit_code’’. The optional ‘’reason’’ is a string in cases where
other scripts may wish to handle the exception, though this is generally
intended to communicate failure to mach.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.MachError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">MachError</code><a class="headerlink" href="#mach.base.MachError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base class for all errors raised by mach itself.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.MissingFileError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">MissingFileError</code><a class="headerlink" href="#mach.base.MissingFileError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.base.MachError" title="mach.base.MachError"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.base.MachError</span></code></a></p>
<p>Attempted to load a mach commands file that doesn’t exist.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.NoCommandError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">NoCommandError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">namespace</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.base.NoCommandError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.base.MachError" title="mach.base.MachError"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.base.MachError</span></code></a></p>
<p>No command was passed into mach.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.UnknownCommandError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">UnknownCommandError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">verb</span></em>, <em class="sig-param"><span class="n">suggested_commands</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.base.UnknownCommandError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.base.MachError" title="mach.base.MachError"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.base.MachError</span></code></a></p>
<p>Raised when we attempted to execute an unknown command.</p>
</dd></dl>

<dl class="py exception">
<dt id="mach.base.UnrecognizedArgumentError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.base.</code><code class="sig-name descname">UnrecognizedArgumentError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">arguments</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.base.UnrecognizedArgumentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.base.MachError" title="mach.base.MachError"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.base.MachError</span></code></a></p>
<p>Raised when an unknown argument is passed to mach.</p>
</dd></dl>

</div>
<div class="section" id="module-mach.config">
<span id="mach-config-module"></span><h2>mach.config module<a class="headerlink" href="#module-mach.config" title="Permalink to this headline">¶</a></h2>
<p>This file defines classes for representing config data/settings.</p>
<p>Config data is modeled as key-value pairs. Keys are grouped together into named
sections. Individual config settings (options) have metadata associated with
them. This metadata includes type, default value, valid values, etc.</p>
<p>The main interface to config data is the ConfigSettings class. 1 or more
ConfigProvider classes are associated with ConfigSettings and define what
settings are available.</p>
<dl class="py class">
<dt id="mach.config.BooleanType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">BooleanType</code><a class="headerlink" href="#mach.config.BooleanType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.config.ConfigType" title="mach.config.ConfigType"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.config.ConfigType</span></code></a></p>
<dl class="py method">
<dt id="mach.config.BooleanType.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.BooleanType.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the value of this type from a RawConfigParser.</p>
<p>Receives a RawConfigParser instance, a str section name, and the str
option in that section to retrieve.</p>
<p>The implementation may assume the option exists in the RawConfigParser
instance.</p>
<p>Implementations are not expected to validate the value. But, they
should return the appropriate Python type.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.BooleanType.to_config">
<em class="property">static </em><code class="sig-name descname">to_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.BooleanType.to_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.config.BooleanType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.BooleanType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="mach.config.ConfigException">
<em class="property">exception </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">ConfigException</code><a class="headerlink" href="#mach.config.ConfigException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mach.config.ConfigSettings">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">ConfigSettings</code><a class="headerlink" href="#mach.config.ConfigSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></p>
<p>Interface for configuration settings.</p>
<p>This is the main interface to the configuration.</p>
<p>A configuration is a collection of sections. Each section contains
key-value pairs.</p>
<p>When an instance is created, the caller first registers ConfigProvider
instances with it. This tells the ConfigSettings what individual settings
are available and defines extra metadata associated with those settings.
This is used for validation, etc.</p>
<p>Once ConfigProvider instances are registered, a config is populated. It can
be loaded from files or populated by hand.</p>
<p>ConfigSettings instances are accessed like dictionaries or by using
attributes. e.g. the section “foo” is accessed through either
settings.foo or settings[‘foo’].</p>
<p>Sections are modeled by the ConfigSection class which is defined inside
this one. They look just like dicts or classes with attributes. To access
the “bar” option in the “foo” section:</p>
<blockquote>
<div><p>value = settings.foo.bar
value = settings[‘foo’][‘bar’]
value = settings.foo[‘bar’]</p>
</div></blockquote>
<p>Assignment is similar:</p>
<blockquote>
<div><p>settings.foo.bar = value
settings[‘foo’][‘bar’] = value
settings[‘foo’].bar = value</p>
</div></blockquote>
<p>You can even delete user-assigned values:</p>
<blockquote>
<div><p>del settings.foo.bar
del settings[‘foo’][‘bar’]</p>
</div></blockquote>
<p>If there is a default, it will be returned.</p>
<p>When settings are mutated, they are validated against the registered
providers. Setting unknown settings or setting values to illegal values
will result in exceptions being raised.</p>
<dl class="py class">
<dt id="mach.config.ConfigSettings.ConfigSection">
<em class="property">class </em><code class="sig-name descname">ConfigSection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">settings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.ConfigSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents an individual config section.</p>
<dl class="py method">
<dt id="mach.config.ConfigSettings.ConfigSection.get_meta">
<code class="sig-name descname">get_meta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.ConfigSection.get_meta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.ConfigSection.options">
<em class="property">property </em><code class="sig-name descname">options</code><a class="headerlink" href="#mach.config.ConfigSettings.ConfigSection.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.load_file">
<code class="sig-name descname">load_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.load_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.load_files">
<code class="sig-name descname">load_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filenames</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.load_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a config from files specified by their paths.</p>
<p>Files are loaded in the order given. Subsequent files will overwrite
values from previous files. If a file does not exist, it will be
ignored.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.load_fps">
<code class="sig-name descname">load_fps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.load_fps" title="Permalink to this definition">¶</a></dt>
<dd><p>Load config data by reading file objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.register_provider">
<code class="sig-name descname">register_provider</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">provider</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.register_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a SettingsProvider with this settings interface.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigSettings.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigSettings.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the config to a file object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.config.ConfigType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">ConfigType</code><a class="headerlink" href="#mach.config.ConfigType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for config values.</p>
<dl class="py method">
<dt id="mach.config.ConfigType.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigType.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the value of this type from a RawConfigParser.</p>
<p>Receives a RawConfigParser instance, a str section name, and the str
option in that section to retrieve.</p>
<p>The implementation may assume the option exists in the RawConfigParser
instance.</p>
<p>Implementations are not expected to validate the value. But, they
should return the appropriate Python type.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigType.to_config">
<em class="property">static </em><code class="sig-name descname">to_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigType.to_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.config.ConfigType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.ConfigType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.config.DefaultValue">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">DefaultValue</code><a class="headerlink" href="#mach.config.DefaultValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mach.config.IntegerType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">IntegerType</code><a class="headerlink" href="#mach.config.IntegerType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.config.ConfigType" title="mach.config.ConfigType"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.config.ConfigType</span></code></a></p>
<dl class="py method">
<dt id="mach.config.IntegerType.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.IntegerType.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the value of this type from a RawConfigParser.</p>
<p>Receives a RawConfigParser instance, a str section name, and the str
option in that section to retrieve.</p>
<p>The implementation may assume the option exists in the RawConfigParser
instance.</p>
<p>Implementations are not expected to validate the value. But, they
should return the appropriate Python type.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.IntegerType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.IntegerType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.config.PathType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">PathType</code><a class="headerlink" href="#mach.config.PathType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.config.StringType" title="mach.config.StringType"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.config.StringType</span></code></a></p>
<dl class="py method">
<dt id="mach.config.PathType.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.PathType.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the value of this type from a RawConfigParser.</p>
<p>Receives a RawConfigParser instance, a str section name, and the str
option in that section to retrieve.</p>
<p>The implementation may assume the option exists in the RawConfigParser
instance.</p>
<p>Implementations are not expected to validate the value. But, they
should return the appropriate Python type.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.PathType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.PathType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.config.PositiveIntegerType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">PositiveIntegerType</code><a class="headerlink" href="#mach.config.PositiveIntegerType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.config.IntegerType" title="mach.config.IntegerType"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.config.IntegerType</span></code></a></p>
<dl class="py method">
<dt id="mach.config.PositiveIntegerType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.PositiveIntegerType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.config.StringType">
<em class="property">class </em><code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">StringType</code><a class="headerlink" href="#mach.config.StringType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.config.ConfigType" title="mach.config.ConfigType"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.config.ConfigType</span></code></a></p>
<dl class="py method">
<dt id="mach.config.StringType.from_config">
<em class="property">static </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">section</span></em>, <em class="sig-param"><span class="n">option</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.StringType.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the value of this type from a RawConfigParser.</p>
<p>Receives a RawConfigParser instance, a str section name, and the str
option in that section to retrieve.</p>
<p>The implementation may assume the option exists in the RawConfigParser
instance.</p>
<p>Implementations are not expected to validate the value. But, they
should return the appropriate Python type.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.config.StringType.validate">
<em class="property">static </em><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.StringType.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a Python value conforms to this type.</p>
<p>Raises a TypeError or ValueError if it doesn’t conform. Does not do
anything if the value is valid.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mach.config.reraise_attribute_error">
<code class="sig-prename descclassname">mach.config.</code><code class="sig-name descname">reraise_attribute_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.config.reraise_attribute_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to make sure __getattr__ wrappers around __getitem__
raise AttributeError instead of KeyError.</p>
</dd></dl>

</div>
<div class="section" id="module-mach.decorators">
<span id="mach-decorators-module"></span><h2>mach.decorators module<a class="headerlink" href="#module-mach.decorators" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.decorators.Command">
<em class="property">class </em><code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">Command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Decorator for functions or methods that provide a mach command.</p>
<p>The decorator accepts arguments that define basic attributes of the
command. The following arguments are recognized:</p>
<blockquote>
<div><dl class="simple">
<dt>category – The string category to which this command belongs. Mach’s</dt><dd><p>help will group commands by category.</p>
</dd>
</dl>
<p>description – A brief description of what the command does.</p>
<dl class="simple">
<dt>parser – an optional argparse.ArgumentParser instance or callable</dt><dd><p>that returns an argparse.ArgumentParser instance to use as the
basis for the command arguments.</p>
</dd>
</dl>
</div></blockquote>
<p>For example:</p>
<blockquote>
<div><p>&#64;Command(‘foo’, category=’misc’, description=’Run the foo action’)
def foo(self):</p>
<blockquote>
<div><p>pass</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt id="mach.decorators.CommandArgument">
<em class="property">class </em><code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">CommandArgument</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.CommandArgument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Decorator for additional arguments to mach subcommands.</p>
<p>This decorator should be used to add arguments to mach commands. Arguments
to the decorator are proxied to ArgumentParser.add_argument().</p>
<p>For example:</p>
<blockquote>
<div><p>&#64;Command(‘foo’, help=’Run the foo action’)
&#64;CommandArgument(‘-b’, ‘–bar’, action=’store_true’, default=False,</p>
<blockquote>
<div><p>help=’Enable bar mode.’)</p>
</div></blockquote>
<dl class="simple">
<dt>def foo(self):</dt><dd><p>pass</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py class">
<dt id="mach.decorators.CommandArgumentGroup">
<em class="property">class </em><code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">CommandArgumentGroup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.CommandArgumentGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Decorator for additional argument groups to mach commands.</p>
<p>This decorator should be used to add arguments groups to mach commands.
Arguments to the decorator are proxied to
ArgumentParser.add_argument_group().</p>
<p>For example:</p>
<blockquote>
<div><p>&#64;Command(‘foo’, helps=’Run the foo action’)
&#64;CommandArgumentGroup(‘group1’)
&#64;CommandArgument(‘-b’, ‘–bar’, group=’group1’, action=’store_true’,</p>
<blockquote>
<div><p>default=False, help=’Enable bar mode.’)</p>
</div></blockquote>
<dl class="simple">
<dt>def foo(self):</dt><dd><p>pass</p>
</dd>
</dl>
</div></blockquote>
<p>The name should be chosen so that it makes sense as part of the phrase
‘Command Arguments for &lt;name&gt;’ because that’s how it will be shown in the
help message.</p>
</dd></dl>

<dl class="py function">
<dt id="mach.decorators.CommandProvider">
<code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">CommandProvider</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_cls</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.CommandProvider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mach.decorators.SettingsProvider">
<code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">SettingsProvider</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.SettingsProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Class decorator to denote that this class provides Mach settings.</p>
<p>When this decorator is encountered, the underlying class will automatically
be registered with the Mach registrar and will (likely) be hooked up to the
mach driver.</p>
</dd></dl>

<dl class="py class">
<dt id="mach.decorators.SubCommand">
<em class="property">class </em><code class="sig-prename descclassname">mach.decorators.</code><code class="sig-name descname">SubCommand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">subcommand</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.decorators.SubCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Decorator for functions or methods that provide a sub-command.</p>
<p>Mach commands can have sub-commands. e.g. <code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">command</span> <span class="pre">foo</span></code> or
<code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">command</span> <span class="pre">bar</span></code>. Each sub-command has its own parser and is
effectively its own mach command.</p>
<p>The decorator accepts arguments that define basic attributes of the
sub command:</p>
<blockquote>
<div><p>command – The string of the command this sub command should be
attached to.</p>
<p>subcommand – The string name of the sub command to register.</p>
<p>description – A textual description for this sub command.</p>
</div></blockquote>
<dl class="py attribute">
<dt id="mach.decorators.SubCommand.global_order">
<code class="sig-name descname">global_order</code><em class="property"> = 87</em><a class="headerlink" href="#mach.decorators.SubCommand.global_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mach.dispatcher">
<span id="mach-dispatcher-module"></span><h2>mach.dispatcher module<a class="headerlink" href="#module-mach.dispatcher" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.dispatcher.CommandAction">
<em class="property">class </em><code class="sig-prename descclassname">mach.dispatcher.</code><code class="sig-name descname">CommandAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">required</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">registrar</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.dispatcher.CommandAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
<p>An argparse action that handles mach commands.</p>
<p>This class is essentially a reimplementation of argparse’s sub-parsers
feature. We first tried to use sub-parsers. However, they were missing
features like grouping of commands (<a class="reference external" href="http://bugs.python.org/issue14037">http://bugs.python.org/issue14037</a>).</p>
<p>The way this works involves light magic and a partial understanding of how
argparse works.</p>
<p>Arguments registered with an argparse.ArgumentParser have an action
associated with them. An action is essentially a class that when called
does something with the encountered argument(s). This class is one of those
action classes.</p>
<p>An instance of this class is created doing something like:</p>
<blockquote>
<div><p>parser.add_argument(‘command’, action=CommandAction, registrar=r)</p>
</div></blockquote>
<p>Note that a mach.registrar.Registrar instance is passed in. The Registrar
holds information on all the mach commands that have been registered.</p>
<p>When this argument is registered with the ArgumentParser, an instance of
this class is instantiated. One of the subtle but important things it does
is tell the argument parser that it’s interested in <em>all</em> of the remaining
program arguments. So, when the ArgumentParser calls this action, we will
receive the command name plus all of its arguments.</p>
<p>For more, read the docs in __call__.</p>
</dd></dl>

<dl class="py class">
<dt id="mach.dispatcher.CommandFormatter">
<em class="property">class </em><code class="sig-prename descclassname">mach.dispatcher.</code><code class="sig-name descname">CommandFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prog</span></em>, <em class="sig-param"><span class="n">indent_increment</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">max_help_position</span><span class="o">=</span><span class="default_value">24</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.dispatcher.CommandFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.HelpFormatter</span></code></p>
<p>Custom formatter to format just a subcommand.</p>
<dl class="py method">
<dt id="mach.dispatcher.CommandFormatter.add_usage">
<code class="sig-name descname">add_usage</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.dispatcher.CommandFormatter.add_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.dispatcher.DispatchSettings">
<em class="property">class </em><code class="sig-prename descclassname">mach.dispatcher.</code><code class="sig-name descname">DispatchSettings</code><a class="headerlink" href="#mach.dispatcher.DispatchSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="mach.dispatcher.DispatchSettings.config_settings">
<code class="sig-name descname">config_settings</code><em class="property"> = [('alias.*', 'string', 'Create a command alias of the form `&lt;alias&gt;=&lt;command&gt; &lt;args&gt;`.\nAliases can also be used to set default arguments:\n&lt;command&gt;=&lt;command&gt; &lt;args&gt;')]</em><a class="headerlink" href="#mach.dispatcher.DispatchSettings.config_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.dispatcher.NoUsageFormatter">
<em class="property">class </em><code class="sig-prename descclassname">mach.dispatcher.</code><code class="sig-name descname">NoUsageFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prog</span></em>, <em class="sig-param"><span class="n">indent_increment</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">max_help_position</span><span class="o">=</span><span class="default_value">24</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.dispatcher.NoUsageFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.HelpFormatter</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="mach.dispatcher.format_docstring">
<code class="sig-prename descclassname">mach.dispatcher.</code><code class="sig-name descname">format_docstring</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">docstring</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.dispatcher.format_docstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a raw docstring into something suitable for presentation.</p>
<p>This function is based on the example function in PEP-0257.</p>
</dd></dl>

</div>
<div class="section" id="module-mach.logging">
<span id="mach-logging-module"></span><h2>mach.logging module<a class="headerlink" href="#module-mach.logging" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.logging.ConvertToStructuredFilter">
<em class="property">class </em><code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">ConvertToStructuredFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.ConvertToStructuredFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Filter</span></code></p>
<p>Filter that converts unstructured records into structured ones.</p>
<dl class="py method">
<dt id="mach.logging.ConvertToStructuredFilter.filter">
<code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.ConvertToStructuredFilter.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the specified record is to be logged.</p>
<p>Is the specified record to be logged? Returns 0 for no, nonzero for
yes. If deemed appropriate, the record may be modified in-place.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.logging.LoggingManager">
<em class="property">class </em><code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">LoggingManager</code><a class="headerlink" href="#mach.logging.LoggingManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Holds and controls global logging state.</p>
<p>An application should instantiate one of these and configure it as needed.</p>
<p>This class provides a mechanism to configure the output of logging data
both from mach and from the overall logging system (e.g. from other
modules).</p>
<dl class="py method">
<dt id="mach.logging.LoggingManager.add_json_handler">
<code class="sig-name descname">add_json_handler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.add_json_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable JSON logging on the specified file object.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.add_terminal_logging">
<code class="sig-name descname">add_terminal_logging</code><span class="sig-paren">(</span><em class="sig-param">fh=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='utf-8'&gt;</em>, <em class="sig-param">level=20</em>, <em class="sig-param">write_interval=False</em>, <em class="sig-param">write_times=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.add_terminal_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable logging to the terminal.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.disable_unstructured">
<code class="sig-name descname">disable_unstructured</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.disable_unstructured" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable logging of unstructured messages.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.enable_all_structured_loggers">
<code class="sig-name descname">enable_all_structured_loggers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">terminal</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">json</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.enable_all_structured_loggers" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable logging of all structured messages from all loggers.</p>
<p><code class="docutils literal notranslate"><span class="pre">terminal</span></code> and <code class="docutils literal notranslate"><span class="pre">json</span></code> determine which log handlers to operate
on. By default, all known handlers are operated on.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.enable_unstructured">
<code class="sig-name descname">enable_unstructured</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.enable_unstructured" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable logging of unstructured messages.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.register_structured_logger">
<code class="sig-name descname">register_structured_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logger</span></em>, <em class="sig-param"><span class="n">terminal</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">json</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.register_structured_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a structured logger.</p>
<p>This needs to be called for all structured loggers that don’t chain up
to the mach logger in order for their output to be captured.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.replace_terminal_handler">
<code class="sig-name descname">replace_terminal_handler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">handler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.LoggingManager.replace_terminal_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the installed terminal handler.</p>
<p>Returns the old handler or None if none was configured.
If the new handler is None, removes any existing handler and disables
logging to the terminal.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.LoggingManager.terminal">
<em class="property">property </em><code class="sig-name descname">terminal</code><a class="headerlink" href="#mach.logging.LoggingManager.terminal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.logging.StructuredHumanFormatter">
<em class="property">class </em><code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">StructuredHumanFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_time</span></em>, <em class="sig-param"><span class="n">write_interval</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">write_times</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredHumanFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Formatter</span></code></p>
<p>Log formatter that writes structured messages for humans.</p>
<p>It is important that this formatter never be added to a logger that
produces unstructured/classic log messages. If it is, the call to format()
could fail because the string could contain things (like JSON) that look
like formatting character sequences.</p>
<p>Because of this limitation, format() will fail with a KeyError if an
unstructured record is passed or if the structured message is malformed.</p>
<dl class="py method">
<dt id="mach.logging.StructuredHumanFormatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredHumanFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the specified record as text.</p>
<p>The record’s attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using LogRecord.getMessage(). If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.logging.StructuredJSONFormatter">
<em class="property">class </em><code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">StructuredJSONFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fmt</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datefmt</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">style</span><span class="o">=</span><span class="default_value">'%'</span></em>, <em class="sig-param"><span class="n">validate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredJSONFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Formatter</span></code></p>
<p>Log formatter that writes a structured JSON entry.</p>
<dl class="py method">
<dt id="mach.logging.StructuredJSONFormatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredJSONFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the specified record as text.</p>
<p>The record’s attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using LogRecord.getMessage(). If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.logging.StructuredTerminalFormatter">
<em class="property">class </em><code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">StructuredTerminalFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_time</span></em>, <em class="sig-param"><span class="n">write_interval</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">write_times</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredTerminalFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.logging.StructuredHumanFormatter" title="mach.logging.StructuredHumanFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.logging.StructuredHumanFormatter</span></code></a></p>
<p>Log formatter for structured messages writing to a terminal.</p>
<dl class="py method">
<dt id="mach.logging.StructuredTerminalFormatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredTerminalFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the specified record as text.</p>
<p>The record’s attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using LogRecord.getMessage(). If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.logging.StructuredTerminalFormatter.set_terminal">
<code class="sig-name descname">set_terminal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">terminal</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.StructuredTerminalFormatter.set_terminal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mach.logging.format_seconds">
<code class="sig-prename descclassname">mach.logging.</code><code class="sig-name descname">format_seconds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">total</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.logging.format_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Format number of seconds to MM:SS.DD form.</p>
</dd></dl>

</div>
<div class="section" id="module-mach.main">
<span id="mach-main-module"></span><h2>mach.main module<a class="headerlink" href="#module-mach.main" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.main.ArgumentParser">
<em class="property">class </em><code class="sig-prename descclassname">mach.main.</code><code class="sig-name descname">ArgumentParser</code><span class="sig-paren">(</span><em class="sig-param">prog=None</em>, <em class="sig-param">usage=None</em>, <em class="sig-param">description=None</em>, <em class="sig-param">epilog=None</em>, <em class="sig-param">parents=[]</em>, <em class="sig-param">formatter_class=&lt;class 'argparse.HelpFormatter'&gt;</em>, <em class="sig-param">prefix_chars='-'</em>, <em class="sig-param">fromfile_prefix_chars=None</em>, <em class="sig-param">argument_default=None</em>, <em class="sig-param">conflict_handler='error'</em>, <em class="sig-param">add_help=True</em>, <em class="sig-param">allow_abbrev=True</em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.ArgumentParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.ArgumentParser</span></code></p>
<p>Custom implementation argument parser to make things look pretty.</p>
<dl class="py method">
<dt id="mach.main.ArgumentParser.error">
<code class="sig-name descname">error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.ArgumentParser.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom error reporter to give more helpful text on bad commands.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.ArgumentParser.format_help">
<code class="sig-name descname">format_help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.ArgumentParser.format_help" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.main.ContextWrapper">
<em class="property">class </em><code class="sig-prename descclassname">mach.main.</code><code class="sig-name descname">ContextWrapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">handler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.ContextWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mach.main.Mach">
<em class="property">class </em><code class="sig-prename descclassname">mach.main.</code><code class="sig-name descname">Mach</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cwd</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main mach driver type.</p>
<p>This type is responsible for holding global mach state and dispatching
a command from arguments.</p>
<p>The following attributes may be assigned to the instance to influence
behavior:</p>
<blockquote>
<div><dl>
<dt>populate_context_handler – If defined, it must be a callable. The</dt><dd><dl class="simple">
<dt>callable signature is the following:</dt><dd><p>populate_context_handler(key=None)</p>
</dd>
</dl>
<p>It acts as a fallback getter for the mach.base.CommandContext
instance.
This allows to augment the context instance with arbitrary data
for use in command handlers.</p>
</dd>
<dt>require_conditions – If True, commands that do not have any condition</dt><dd><p>functions applied will be skipped. Defaults to False.</p>
</dd>
<dt>settings_paths – A list of files or directories in which to search</dt><dd><p>for settings files to load.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py attribute">
<dt id="mach.main.Mach.USAGE">
<code class="sig-name descname">USAGE</code><em class="property"> = '%(prog)s [global arguments] command [command arguments]\n\nmach (German for &quot;do&quot;) is the main interface to the Mozilla build system and\ncommon developer tasks.\n\nYou tell mach the command you want to perform and it does it for you.\n\nSome common commands are:\n\n    %(prog)s build     Build/compile the source tree.\n    %(prog)s help      Show full help, including the list of all commands.\n\nTo see more help for a specific command, run:\n\n  %(prog)s help &lt;command&gt;\n'</em><a class="headerlink" href="#mach.main.Mach.USAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.define_category">
<code class="sig-name descname">define_category</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">title</span></em>, <em class="sig-param"><span class="n">description</span></em>, <em class="sig-param"><span class="n">priority</span><span class="o">=</span><span class="default_value">50</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.define_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide a description for a named command category.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.get_argument_parser">
<code class="sig-name descname">get_argument_parser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.get_argument_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an argument parser for the command-line interface.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.load_commands_from_directory">
<code class="sig-name descname">load_commands_from_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.load_commands_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan for mach commands from modules in a directory.</p>
<p>This takes a path to a directory, loads the .py files in it, and
registers and found mach command providers with this mach instance.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.load_commands_from_entry_point">
<code class="sig-name descname">load_commands_from_entry_point</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span><span class="o">=</span><span class="default_value">'mach.providers'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.load_commands_from_entry_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan installed packages for mach command provider entry points. An
entry point is a function that returns a list of paths to files or
directories containing command providers.</p>
<p>This takes an optional group argument which specifies the entry point
group to use. If not specified, it defaults to ‘mach.providers’.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.load_commands_from_file">
<code class="sig-name descname">load_commands_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">module_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.load_commands_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan for mach commands from a file.</p>
<p>This takes a path to a file and loads it as a Python module under the
module name specified. If no name is specified, a random one will be
chosen.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.load_settings">
<code class="sig-name descname">load_settings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.load_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the specified settings files.</p>
<p>If a directory is specified, the following basenames will be
searched for in this order:</p>
<blockquote>
<div><p>machrc, .machrc</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">action</span></em>, <em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">format_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to record a structured log event.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.require_conditions">
<em class="property">property </em><code class="sig-name descname">require_conditions</code><a class="headerlink" href="#mach.main.Mach.require_conditions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.main.Mach.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">argv</span></em>, <em class="sig-param"><span class="n">stdin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stdout</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stderr</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.main.Mach.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs mach with arguments provided from the command line.</p>
<p>Returns the integer exit code that should be used. 0 means success. All
other values indicate failure.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mach.registrar">
<span id="mach-registrar-module"></span><h2>mach.registrar module<a class="headerlink" href="#module-mach.registrar" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.registrar.MachRegistrar">
<em class="property">class </em><code class="sig-prename descclassname">mach.registrar.</code><code class="sig-name descname">MachRegistrar</code><a class="headerlink" href="#mach.registrar.MachRegistrar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for mach command and config providers.</p>
<dl class="py method">
<dt id="mach.registrar.MachRegistrar.dispatch">
<code class="sig-name descname">dispatch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">argv</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">subcommand</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.registrar.MachRegistrar.dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch/run a command.</p>
<p>Commands can use this to call other commands.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.registrar.MachRegistrar.register_category">
<code class="sig-name descname">register_category</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">title</span></em>, <em class="sig-param"><span class="n">description</span></em>, <em class="sig-param"><span class="n">priority</span><span class="o">=</span><span class="default_value">50</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.registrar.MachRegistrar.register_category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.registrar.MachRegistrar.register_command_handler">
<code class="sig-name descname">register_command_handler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">handler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.registrar.MachRegistrar.register_command_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.registrar.MachRegistrar.register_settings_provider">
<code class="sig-name descname">register_settings_provider</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.registrar.MachRegistrar.register_settings_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mach.sentry">
<span id="mach-sentry-module"></span><h2>mach.sentry module<a class="headerlink" href="#module-mach.sentry" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.sentry.ErrorReporter">
<em class="property">class </em><code class="sig-prename descclassname">mach.sentry.</code><code class="sig-name descname">ErrorReporter</code><a class="headerlink" href="#mach.sentry.ErrorReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mach.sentry.ErrorReporter.report_exception">
<em class="property">abstract </em><code class="sig-name descname">report_exception</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exception</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.sentry.ErrorReporter.report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Report the exception to remote error-tracking software.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.sentry.NoopErrorReporter">
<em class="property">class </em><code class="sig-prename descclassname">mach.sentry.</code><code class="sig-name descname">NoopErrorReporter</code><a class="headerlink" href="#mach.sentry.NoopErrorReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.sentry.ErrorReporter" title="mach.sentry.ErrorReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.sentry.ErrorReporter</span></code></a></p>
<p>Drops errors instead of reporting them.</p>
<p>This is useful in cases where error-reporting is specifically disabled, such as
when telemetry hasn’t been allowed.</p>
<dl class="py method">
<dt id="mach.sentry.NoopErrorReporter.report_exception">
<code class="sig-name descname">report_exception</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exception</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.sentry.NoopErrorReporter.report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Report the exception to remote error-tracking software.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.sentry.SentryErrorReporter">
<em class="property">class </em><code class="sig-prename descclassname">mach.sentry.</code><code class="sig-name descname">SentryErrorReporter</code><a class="headerlink" href="#mach.sentry.SentryErrorReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mach.sentry.ErrorReporter" title="mach.sentry.ErrorReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.sentry.ErrorReporter</span></code></a></p>
<p>Reports errors using Sentry.</p>
<dl class="py method">
<dt id="mach.sentry.SentryErrorReporter.report_exception">
<code class="sig-name descname">report_exception</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exception</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.sentry.SentryErrorReporter.report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Report the exception to remote error-tracking software.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mach.sentry.register_sentry">
<code class="sig-prename descclassname">mach.sentry.</code><code class="sig-name descname">register_sentry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">argv</span></em>, <em class="sig-param"><span class="n">settings</span></em>, <em class="sig-param"><span class="n">topsrcdir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.sentry.register_sentry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mach.telemetry">
<span id="mach-telemetry-module"></span><h2>mach.telemetry module<a class="headerlink" href="#module-mach.telemetry" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mach.telemetry.GleanTelemetry">
<em class="property">class </em><code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">GleanTelemetry</code><a class="headerlink" href="#mach.telemetry.GleanTelemetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Records and sends Telemetry using Glean.</p>
<p>Metrics are defined in python/mozbuild/metrics.yaml.
Pings are defined in python/mozbuild/pings.yaml.</p>
<p>The “metrics” and “pings” properties may be replaced with no-op implementations if
Glean isn’t available. This allows consumers to report telemetry without having
to guard against incompatible environments.</p>
<dl class="py method">
<dt id="mach.telemetry.GleanTelemetry.metrics">
<code class="sig-name descname">metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metrics_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.GleanTelemetry.metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.telemetry.GleanTelemetry.submit">
<code class="sig-name descname">submit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">_</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.GleanTelemetry.submit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.telemetry.NoopTelemetry">
<em class="property">class </em><code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">NoopTelemetry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">failed_glean_import</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.NoopTelemetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mach.telemetry.NoopTelemetry.metrics">
<code class="sig-name descname">metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">metrics_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.NoopTelemetry.metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.telemetry.NoopTelemetry.submit">
<code class="sig-name descname">submit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_bootstrap</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.NoopTelemetry.submit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mach.telemetry.create_telemetry_from_environment">
<code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">create_telemetry_from_environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.create_telemetry_from_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and a Telemetry instance based on system details.</p>
<p>If telemetry isn’t enabled, the current interpreter isn’t Python 3, or Glean
can’t be imported, then a “mock” telemetry instance is returned that doesn’t
set or record any data. This allows consumers to optimistically set telemetry
data without needing to specifically handle the case where the current system
doesn’t support it.</p>
</dd></dl>

<dl class="py function">
<dt id="mach.telemetry.is_applicable_telemetry_environment">
<code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">is_applicable_telemetry_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.is_applicable_telemetry_environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mach.telemetry.is_telemetry_enabled">
<code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">is_telemetry_enabled</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">settings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.is_telemetry_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mach.telemetry.report_invocation_metrics">
<code class="sig-prename descclassname">mach.telemetry.</code><code class="sig-name descname">report_invocation_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">telemetry</span></em>, <em class="sig-param"><span class="n">command</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.telemetry.report_invocation_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mach.terminal">
<span id="mach-terminal-module"></span><h2>mach.terminal module<a class="headerlink" href="#module-mach.terminal" title="Permalink to this headline">¶</a></h2>
<p>This file contains code for interacting with terminals.</p>
<p>All the terminal interaction code is consolidated so the complexity can be in
one place, away from code that is commonly looked at.</p>
<dl class="py class">
<dt id="mach.terminal.LoggingHandler">
<em class="property">class </em><code class="sig-prename descclassname">mach.terminal.</code><code class="sig-name descname">LoggingHandler</code><a class="headerlink" href="#mach.terminal.LoggingHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></p>
<p>Custom logging handler that works with terminal window dressing.</p>
<p>This is alternative terminal logging handler which contains smarts for
emitting terminal control characters properly. Currently, it has generic
support for “footer” elements at the bottom of the screen. Functionality
can be added when needed.</p>
<dl class="py method">
<dt id="mach.terminal.LoggingHandler.emit">
<code class="sig-name descname">emit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.terminal.LoggingHandler.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Do whatever it takes to actually log the specified logging record.</p>
<p>This version is intended to be implemented by subclasses and so
raises a NotImplementedError.</p>
</dd></dl>

<dl class="py method">
<dt id="mach.terminal.LoggingHandler.flush">
<code class="sig-name descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.terminal.LoggingHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure all logging output has been flushed.</p>
<p>This version does nothing and is intended to be implemented by
subclasses.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mach.terminal.TerminalFooter">
<em class="property">class </em><code class="sig-prename descclassname">mach.terminal.</code><code class="sig-name descname">TerminalFooter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">terminal</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.terminal.TerminalFooter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents something drawn on the bottom of a terminal.</p>
<dl class="py method">
<dt id="mach.terminal.TerminalFooter.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.terminal.TerminalFooter.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mach.terminal.TerminalFooter.draw">
<code class="sig-name descname">draw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mach.terminal.TerminalFooter.draw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mach.util">
<span id="mach-util-module"></span><h2>mach.util module<a class="headerlink" href="#module-mach.util" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="mach.util.UserError">
<em class="property">exception </em><code class="sig-prename descclassname">mach.util.</code><code class="sig-name descname">UserError</code><a class="headerlink" href="#mach.util.UserError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Represents an error caused by something the user did wrong rather than
an internal <cite>mach</cite> failure. Exceptions that are subclasses of this class
will not be reported as failures to Sentry.</p>
</dd></dl>

<dl class="py function">
<dt id="mach.util.setenv">
<code class="sig-prename descclassname">mach.util.</code><code class="sig-name descname">setenv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mach.util.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Compatibility shim to ensure the proper string type is used with
os.environ for the version of Python being used.</p>
</dd></dl>

</div>
<div class="section" id="module-mach">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mach" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>