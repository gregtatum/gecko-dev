

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ASan Nightly &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Memory Sanitizer" href="memory_sanitizer.html" />
    <link rel="prev" title="Address Sanitizer" href="asan.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Sanitizer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="asan.html">Address Sanitizer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ASan Nightly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preferences">Preferences</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bug-bounty-program">Bug Bounty Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#faq">FAQ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-additional-data-is-collected">What additional data is collected?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-s-the-performance-impact">What’s the performance impact?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#what-about-stability">What about stability?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-do-i-confirm-that-i-m-running-the-correct-build">How do I confirm that I’m running the correct build?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#will-there-be-support-for-mac">Will there be support for Mac?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="memory_sanitizer.html">Memory Sanitizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsan.html">Thread Sanitizer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Sanitizer</a> &raquo;</li>
        
      <li>ASan Nightly</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tools/sanitizer/asan_nightly.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="asan-nightly">
<h1>ASan Nightly<a class="headerlink" href="#asan-nightly" title="Permalink to this headline">¶</a></h1>
<p>The <strong>ASan Nightly Project</strong> involves building a Firefox Nightly browser
with the popular
<a class="reference external" href="https://github.com/google/sanitizers/wiki/AddressSanitizer">AddressSanitizer</a>
tool and enhancing it with remote crash reporting capabilities for any
errors detected.</p>
<p>The purpose of the project is to find subtle memory corruptions
occurring during regular browsing that would either not crash at all or
crash in a way that we cannot figure out what the exact problem is just
from the crash dump. We have a lot of inactionable crash reports and
AddressSanitizer traces are usually a lot more actionable on their own
(especially use-after-free traces). Part of this project is to figure
out if and how many actionable crash reports ASan can give us just by
surfing around. The success of the project of course also depends on the
number of participants.</p>
<p>You can download the latest build using one of the links below. The
builds are self-updating daily like regular nightly builds (like with
regular builds, you can go to <em>“Help”</em> → <em>“About Nightly”</em> to force an
update check or confirm that you run the latest version).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you came here looking for regular ASan builds (e.g. for fuzzing or
as a developer to reproduce a crash), you should probably go to the
<a class="reference internal" href="asan.html#address-sanitizer"><span class="std std-ref">Address Sanitizer</span></a> doc instead.</p>
</div>
<div class="section" id="requirements">
<span id="id1"></span><h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Current requirements are:</p>
<ul class="simple">
<li><p>Windows or Linux-based Operating System</p></li>
<li><p>16 GB of RAM recommended</p></li>
<li><p>Special ASan Nightly Firefox Build</p>
<ul>
<li><p><a class="reference external" href="https://firefox-ci-tc.services.mozilla.com/api/index/v1/task/gecko.v2.mozilla-central.shippable.latest.firefox.linux64-asan-reporter-opt/artifacts/public/build/target.tar.bz2">Linux
Download</a></p></li>
<li><p><a class="reference external" href="https://firefox-ci-tc.services.mozilla.com/api/index/v1/task/gecko.v2.mozilla-central.shippable.latest.firefox.win64-asan-reporter-shippable-repackage-signing/artifacts/public/build/target.installer.exe">Windows
Download</a></p></li>
</ul>
</li>
</ul>
<p>If you are already using regular Nightly, it should be safe to share the
profile with the regular Nightly instance. If you normally use a beta or
release build (and you would like to be able to switch back to these),
you should consider using a second profile.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Windows Users:</strong> Please note that the Windows builds currently show
an error during setup (see “<em>Known Issues</em>” section below), but
installation works nonetheless. We are working on the problem.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you run in an environment with any sorts of additional security
restrictions (e.g. custom process sandboxing), please make sure that
your /tmp directory is writable and the shipped <code class="docutils literal notranslate"><span class="pre">llvm-symbolizer</span></code>
binary is executable from within the Firefox process.</p>
</div>
</div>
<div class="section" id="preferences">
<h2>Preferences<a class="headerlink" href="#preferences" title="Permalink to this headline">¶</a></h2>
<p>If you wish for your crash report to be identifiable, you can go to
<code class="docutils literal notranslate"><span class="pre">about:config</span></code> and set the <strong>``asanreporter.clientid``</strong> to your
<strong>valid email address</strong>. This isn’t mandatory, you can of course report
crash traces anonymously. If you decide to send reports with your email
address and you have a Bugzilla account, consider using the same email
as your Bugzilla account uses. We will then Cc you on any bugs filed
from your crash reports. If your email does not belong to a Bugzilla
account, then we will not publish it but only use it to resolve
questions about your crash reports.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting this preference helps us to get back to you in case we have
questions about your setup/OS. Please consider using it so we can get
back to you if necessary.</p>
</div>
</div>
<div class="section" id="bug-bounty-program">
<h2>Bug Bounty Program<a class="headerlink" href="#bug-bounty-program" title="Permalink to this headline">¶</a></h2>
<p>As a special reward for participating in the program, we decided to
treat all submitted reports as if they were filed directly in Bugzilla.
This means that reports that</p>
<ul class="simple">
<li><p>indicate a security issue of critical or high rating</p></li>
<li><p><strong>and</strong> that can be fixed by our developers</p></li>
</ul>
<p>are eligible for a bug bounty according to our <a class="reference external" href="https://www.mozilla.org/security/client-bug-bounty/">client bug bounty
program
rules</a>. As
the report will usually not include any steps to reproduce or a test
case, it will most likely receive a lower-end bounty. Like with regular
bug reports, we would typically reward the first (identifable) report of
an issue.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you would like to participate in the bounty program, make sure you
set your <strong>``asanreporter.clientid``</strong> preference as specified above.
We cannot reward any reports that are submitted with no email
address.</p>
</div>
</div>
<div class="section" id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h2>
<p>This section lists all currently known limitations of the ASan Nightly
builds that are considered bugs.</p>
<ul class="simple">
<li><p>[STRIKEOUT:Flash is currently not working]</p></li>
<li><p><a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1477490">Bug
1477490</a>[STRIKEOUT:-
Windows: Stack instrumentation disabled due to false positives]</p></li>
<li><p><a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1478096">Bug
1478096</a> -
<strong>Windows:</strong> Error during install with maintenanceservice_tmp.exe</p></li>
<li><p>It has been reported that ASan Nightly performance is particularly
bad if you run on a screen with 120hz refresh rate. Switching to 60hz
should improve performance drastically.</p></li>
</ul>
<p>Note that these bugs are <strong>specific</strong> to ASan Nightly as listed in the
<a class="reference external" href="https://bugzilla.mozilla.org/showdependencytree.cgi?id=1386297&amp;hide_resolved=0">tracking bug dependency
list</a>.
For the full list of bugs found by this project, see <a class="reference external" href="https://bugzilla.mozilla.org/showdependencytree.cgi?id=1479399&amp;hide_resolved=0">this
list</a>
instead and note that some bugs might not be shown because they are
security bugs.</p>
<p>If you encounter a bug not listed here, please file a bug at
<a class="reference external" href="https://bugzilla.mozilla.org/">bugzilla.mozilla.org</a> or send an
email to
<a class="reference external" href="mailto:choller&#37;&#52;&#48;mozilla&#46;com?subject=%5BASan%20Nightly%20Project%5D%5BBug%20Report%5D">choller<span>&#64;</span>mozilla<span>&#46;</span>com</a>.
When filing a bug, it greatly helps if you Cc that email address and
make the bug block <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1386297">bug
1386297</a>.</p>
</div>
<div class="section" id="faq">
<h2>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h2>
<div class="section" id="what-additional-data-is-collected">
<h3>What additional data is collected?<a class="headerlink" href="#what-additional-data-is-collected" title="Permalink to this headline">¶</a></h3>
<p>The project only collects ASan traces and (if you set it in the
preferences) your email address. We don’t collect any other browser
data, in particular not the sites you were visiting or page contents. It
is really just crash traces submitted to a remote location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ASan Nightly browser also still has all the data collection
capabilities of a regular Nightly browser. The answer above only
refers to what this project collects <strong>in addition</strong> to what the
regular Nightly browser can collect.</p>
</div>
</div>
<div class="section" id="what-s-the-performance-impact">
<h3>What’s the performance impact?<a class="headerlink" href="#what-s-the-performance-impact" title="Permalink to this headline">¶</a></h3>
<p>The ASan Nightly build only comes with a slight slowdown at startup and
browsing, sometimes it is not even noticeable. The RAM consumption
however is much higher than with a regular build. Be prepared to restart
your browser sometimes, especially if you use a lot of tabs at once.
Also, the updates are larger than the regular ones, so download times
for updates will be higher, especially if you have a slower internet
connection.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you experience performance issues, see also the <em>“Known Issues”</em>
section above, in particular the problem about screen refresh rate
slowing down Firefox.</p>
</div>
</div>
<div class="section" id="what-about-stability">
<h3>What about stability?<a class="headerlink" href="#what-about-stability" title="Permalink to this headline">¶</a></h3>
<p>The browser is as stable as a regular Nightly build. Various people have
been surfing around with it for their daily work for weeks now and we
have barely received any crash reports.</p>
</div>
<div class="section" id="how-do-i-confirm-that-i-m-running-the-correct-build">
<h3>How do I confirm that I’m running the correct build?<a class="headerlink" href="#how-do-i-confirm-that-i-m-running-the-correct-build" title="Permalink to this headline">¶</a></h3>
<p>If you open <code class="docutils literal notranslate"><span class="pre">about:config</span></code> and type <em>“asanreporter”</em> into the search
field, you should see an entry called <code class="docutils literal notranslate"><span class="pre">asanreporter.apiurl</span></code> associated
with a URL. Do not modify this value.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Since Firefox 64, the <em>“ASan Crash Reporter”</em>  feature is no longer
listed in <code class="docutils literal notranslate"><span class="pre">about:support</span></code></p>
</div>
</div>
<div class="section" id="will-there-be-support-for-mac">
<h3>Will there be support for Mac?<a class="headerlink" href="#will-there-be-support-for-mac" title="Permalink to this headline">¶</a></h3>
<p>We are working on support for Mac, but it might take longer because we
have no ASan CI coverage on Mac due to hardware constraints. If you work
on Release Engineering and would like to help make e.g. Mac happen
earlier, feel free to <a class="reference external" href="mailto:choller&#37;&#52;&#48;mozilla&#46;com?subject=%5BASan%20Nightly%20Project%5D%20">contact
me</a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="memory_sanitizer.html" class="btn btn-neutral float-right" title="Memory Sanitizer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="asan.html" class="btn btn-neutral float-left" title="Address Sanitizer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>