

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Collection &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Execution Model" href="execution-model.html" />
    <link rel="prev" title="Shield Recipe Client" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Toolkit</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../crashreporter/crashreporter/index.html">Crash Reporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../featuregates/featuregates/index.html">Feature Gates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../search/index.html">Search Service</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Shield Recipe Client</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Data Collection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#uptake">Uptake</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrollment">Enrollment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="execution-model.html">Execution Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="suitabilities.html">Suitabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="services.html">Normandy Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../messaging-system/docs/index.html">Messaging System Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pictureinpicture/pictureinpicture/index.html">Picture-in-Picture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompts/index.html">Prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/subprocess/toolkit_modules/subprocess/index.html">Subprocess Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../telemetry/index.html">Telemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glean/index.html">Firefox on Glean (FOG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/toolkit_modules/index.html">Toolkit Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../content/toolkit_widgets/index.html">Toolkit Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions/webextensions/index.html">WebExtensions API Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Toolkit</a> &raquo;</li>
        
          <li><a href="index.html">Shield Recipe Client</a> &raquo;</li>
        
      <li>Data Collection</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/toolkit/components/normandy/normandy/data-collection.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-collection">
<h1>Data Collection<a class="headerlink" href="#data-collection" title="Permalink to this headline">¶</a></h1>
<p>This document describes the types of data that Normandy collects.</p>
<div class="section" id="uptake">
<h2>Uptake<a class="headerlink" href="#uptake" title="Permalink to this headline">¶</a></h2>
<p>Normandy monitors the execution of recipes and reports to
<a class="reference internal" href="../../telemetry/index.html#telemetry"><span class="std std-ref">Telemetry</span></a> the amount of successful and failed runs. This data
is reported using <a class="reference internal" href="../../telemetry/collection/uptake.html#telemetry-collection-uptake"><span class="std std-ref">Uptake Telemetry</span></a> under the
<code class="docutils literal notranslate"><span class="pre">normandy</span></code> namespace.</p>
<div class="section" id="runner-status">
<h3>Runner Status<a class="headerlink" href="#runner-status" title="Permalink to this headline">¶</a></h3>
<p>Once per-fetch and execution of recipes, one of the following statuses is
reported under the key <code class="docutils literal notranslate"><span class="pre">normandy/runner</span></code>:</p>
<dl class="py data">
<dt id="RUNNER_SUCCESS">
<code class="sig-name descname">RUNNER_SUCCESS</code><a class="headerlink" href="#RUNNER_SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>success</p>
</dd>
</dl>
<p>The operation completed successfully. Individual failures with actions and
recipes may have been reported separately.</p>
</dd></dl>

<dl class="py data">
<dt id="RUNNER_SERVER_ERROR">
<code class="sig-name descname">RUNNER_SERVER_ERROR</code><a class="headerlink" href="#RUNNER_SERVER_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>server_error</p>
</dd>
</dl>
<p>The data returned by the server when fetching the recipe is invalid in some
way.</p>
</dd></dl>

</div>
<div class="section" id="action-status">
<h3>Action Status<a class="headerlink" href="#action-status" title="Permalink to this headline">¶</a></h3>
<p>For each action available from the Normandy service, one of the
following statuses is reported under the key
<code class="docutils literal notranslate"><span class="pre">normandy/action/&lt;action</span> <span class="pre">name&gt;</span></code>:</p>
<dl class="py data">
<dt id="ACTION_NETWORK_ERROR">
<code class="sig-name descname">ACTION_NETWORK_ERROR</code><a class="headerlink" href="#ACTION_NETWORK_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>network_error</p>
</dd>
</dl>
<p>There was a network-related error while fetching actions</p>
</dd></dl>

<dl class="py data">
<dt id="ACTION_PRE_EXECUTION_ERROR">
<code class="sig-name descname">ACTION_PRE_EXECUTION_ERROR</code><a class="headerlink" href="#ACTION_PRE_EXECUTION_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>custom_1_error</p>
</dd>
</dl>
<p>There was an error while running the pre-execution hook for the action.</p>
</dd></dl>

<dl class="py data">
<dt id="ACTION_POST_EXECUTION_ERROR">
<code class="sig-name descname">ACTION_POST_EXECUTION_ERROR</code><a class="headerlink" href="#ACTION_POST_EXECUTION_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>custom_2_error</p>
</dd>
</dl>
<p>There was an error while running the post-execution hook for the action.</p>
</dd></dl>

<dl class="py data">
<dt id="ACTION_SERVER_ERROR">
<code class="sig-name descname">ACTION_SERVER_ERROR</code><a class="headerlink" href="#ACTION_SERVER_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>server_error</p>
</dd>
</dl>
<p>The data returned by the server when fetching the action is invalid in some
way.</p>
</dd></dl>

<dl class="py data">
<dt id="ACTION_SUCCESS">
<code class="sig-name descname">ACTION_SUCCESS</code><a class="headerlink" href="#ACTION_SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>success</p>
</dd>
</dl>
<p>The operation completed successfully. Individual failures with recipes may
be reported separately.</p>
</dd></dl>

</div>
<div class="section" id="recipe-status">
<h3>Recipe Status<a class="headerlink" href="#recipe-status" title="Permalink to this headline">¶</a></h3>
<p>For each recipe that is fetched and executed, one of the following statuses is
reported under the key <code class="docutils literal notranslate"><span class="pre">normandy/recipe/&lt;recipe</span> <span class="pre">id&gt;</span></code>:</p>
<dl class="py data">
<dt id="RECIPE_ACTION_DISABLED">
<code class="sig-name descname">RECIPE_ACTION_DISABLED</code><a class="headerlink" href="#RECIPE_ACTION_DISABLED" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>custom_1_error</p>
</dd>
</dl>
<p>The action for this recipe failed in some way and was disabled, so the recipe
could not be executed.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_DIDNT_MATCH_FILTER">
<code class="sig-name descname">RECIPE_DIDNT_MATCH_FILTER</code><a class="headerlink" href="#RECIPE_DIDNT_MATCH_FILTER" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>backoff</p>
</dd>
</dl>
<p>The recipe included a Jexl filter that the client did not match, so
the recipe was not executed.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_EXECUTION_ERROR">
<code class="sig-name descname">RECIPE_EXECUTION_ERROR</code><a class="headerlink" href="#RECIPE_EXECUTION_ERROR" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>apply_error</p>
</dd>
</dl>
<p>An error occurred while executing the recipe.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_FILTER_BROKEN">
<code class="sig-name descname">RECIPE_FILTER_BROKEN</code><a class="headerlink" href="#RECIPE_FILTER_BROKEN" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>content_error</p>
</dd>
</dl>
<p>An error occurred while evaluating the Jexl filter for this
recipe. Sometimes this represents a bug in the Jexl filter
parser/evaluator, such as in <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1477156">bug 1477156</a>, or it can
represent an error fetching some data that a Jexl recipe needs such
as <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1447804">bug 1447804</a>.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_INVALID_ACTION">
<code class="sig-name descname">RECIPE_INVALID_ACTION</code><a class="headerlink" href="#RECIPE_INVALID_ACTION" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>download_error</p>
</dd>
</dl>
<p>The action specified by the recipe was invalid and it could not be executed.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_SUCCESS">
<code class="sig-name descname">RECIPE_SUCCESS</code><a class="headerlink" href="#RECIPE_SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>success</p>
</dd>
</dl>
<p>The recipe was executed successfully.</p>
</dd></dl>

<dl class="py data">
<dt id="RECIPE_SIGNATURE_INVALID">
<code class="sig-name descname">RECIPE_SIGNATURE_INVALID</code><a class="headerlink" href="#RECIPE_SIGNATURE_INVALID" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Telemetry value</dt>
<dd class="field-odd"><p>signature_error</p>
</dd>
</dl>
<p>Normandy failed to verify the signature of the recipe.</p>
</dd></dl>

<p>Additionally, Normandy reports a <a class="reference internal" href="../../telemetry/collection/scalars.html#scalars"><span class="std std-ref">keyed scalar</span></a> to measure recipe
freshness. This scalar is called <code class="docutils literal notranslate"><span class="pre">normandy.recipe_freshness</span></code>, and it
corresponds to the <code class="docutils literal notranslate"><span class="pre">last_modified</span></code> date of each recipe (using its ID
as the key), reported as seconds since 1970 in UTC.</p>
</div>
</div>
<div class="section" id="enrollment">
<h2>Enrollment<a class="headerlink" href="#enrollment" title="Permalink to this headline">¶</a></h2>
<p>Normandy records enrollment and unenrollment of users into studies, and
records that data using <a class="reference internal" href="../../telemetry/collection/events.html#eventtelemetry"><span class="std std-ref">Telemetry Events</span></a>. All data is stored in the
<code class="docutils literal notranslate"><span class="pre">normandy</span></code> category.</p>
<div class="section" id="enrollment-ids">
<h3>Enrollment IDs<a class="headerlink" href="#enrollment-ids" title="Permalink to this headline">¶</a></h3>
<p>Most Normandy telemetry carries an <em>enrollment ID</em>. These IDs are generated
when Normandy enrolls the client in a change, be it a study, rollout, or
something else. These enrollment IDs are used for the lifetime of that
change, and are only used for that change (not shared between similar
changes). Once a change ends (either via unenrollment, graduation, or another
method) the enrollment ID should not be used again.</p>
<p>When Telemetry upload is disabled, we must clear these enrollment IDs. This
is done by replacing existing enrollment IDs with a filler value. New changes
continue to receive a enrollment IDs as normal. The only thing that
enrollment IDs are used for Telemetry, and so generated them while Telemetry
is disabled is fine. They don’t correlate to anything else, and won’t be sent
anywhere.</p>
</div>
<div class="section" id="preference-studies">
<h3>Preference Studies<a class="headerlink" href="#preference-studies" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Enrollment</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;enroll&quot;</span></code></p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;preference_study&quot;</span></code></p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.slug</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>branch</dt><dd><p>The name of the branch the user was assigned to (example:
<code class="docutils literal notranslate"><span class="pre">&quot;control&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;experiment&quot;</span></code>).</p>
</dd>
<dt>experimentType</dt><dd><p>The type of preference experiment. Currently this can take
values “exp” and “exp-highpop”, the latter being for
experiments targeting large numbers of users.</p>
</dd>
<dt>enrollmentId</dt><dd><p>A UUID that is unique to this users enrollment in this study. It
will be included in all future telemetry for this user in this
study.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Unenrollment</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;unenroll&quot;</span></code>.</p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;preference_study&quot;</span></code>.</p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.slug</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>didResetValue</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;true&quot;</span></code> if the preference was set back to its
original value, <code class="docutils literal notranslate"><span class="pre">&quot;false&quot;</span></code> if it was left as its current
value. This can happen when, for example, the user changes a
preference that was involved in a user-branch study.</p>
</dd>
<dt>reason</dt><dd><p>The reason for unenrollment. Possible values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;recipe-not-seen&quot;</span></code>: The recipe was no longer
applicable to this client This can be because the recipe
was disabled, or the user no longer matches the recipe’s
filter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;user-preference-changed&quot;</span></code>: The study preference was
changed on the user branch. This could mean the user
changed the preference, or that some other mechanism set a
non-default value for the preference.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;user-preference-changed-sideload&quot;</span></code>: The study
preference was changed on the user branch while Normandy was
inactive. This could mean that the value was manually
changed in a profile while Firefox was not running.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;unknown&quot;</span></code>: A reason was not specified. This should be
considered a bug.</p></li>
</ul>
</dd>
<dt>enrollmentId</dt><dd><p>The ID that was generated at enrollment.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="add-on-studies">
<h3>Add-on Studies<a class="headerlink" href="#add-on-studies" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Enrollment</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;enroll&quot;</span></code></p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;addon_study&quot;</span></code></p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.name</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>addonId</dt><dd><p>The add-on’s ID (example: <code class="docutils literal notranslate"><span class="pre">&quot;feature-study&#64;shield.mozilla.com&quot;</span></code>).</p>
</dd>
<dt>addonVersion</dt><dd><p>The add-on’s version (example: <code class="docutils literal notranslate"><span class="pre">&quot;1.2.3&quot;</span></code>).</p>
</dd>
<dt>enrollmentId</dt><dd><p>A UUID that is unique to this users enrollment in this study. It
will be included in all future telemetry for this user in this
study.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Enroll Failure</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;enrollFailed&quot;</span></code></p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;addon_study&quot;</span></code></p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.name</span></code>).</p>
</dd>
<dt>reason</dt><dd><p>A string containing the filename and line number of the code
that failed, and the name of the error thrown. This information
is purposely limited to avoid leaking personally identifiable
information. This should be considered a bug.</p>
</dd>
</dl>
</dd>
<dt>Update</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;update&quot;</span></code>,</p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;addon_study&quot;</span></code>,</p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.name</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>addonId</dt><dd><p>The add-on’s ID (example: <code class="docutils literal notranslate"><span class="pre">&quot;feature-study&#64;shield.mozilla.com&quot;</span></code>).</p>
</dd>
<dt>addonVersion</dt><dd><p>The add-on’s version (example: <code class="docutils literal notranslate"><span class="pre">&quot;1.2.3&quot;</span></code>).</p>
</dd>
<dt>enrollmentId</dt><dd><p>The ID that was generated at enrollment.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Update Failure</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;updateFailed&quot;</span></code></p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;addon_study&quot;</span></code></p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.name</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>reason</dt><dd><p>A string containing the filename and line number of the code
that failed, and the name of the error thrown. This information
is purposely limited to avoid leaking personally identifiable
information. This should be considered a bug.</p>
</dd>
<dt>enrollmentId</dt><dd><p>The ID that was generated at enrollment.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>Unenrollment</dt><dd><dl class="simple">
<dt>method</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;unenroll&quot;</span></code>.</p>
</dd>
<dt>object</dt><dd><p>The string <code class="docutils literal notranslate"><span class="pre">&quot;addon_study&quot;</span></code>.</p>
</dd>
<dt>value</dt><dd><p>The name of the study (<code class="docutils literal notranslate"><span class="pre">recipe.arguments.name</span></code>).</p>
</dd>
<dt>extra</dt><dd><dl class="simple">
<dt>addonId</dt><dd><p>The add-on’s ID (example: <code class="docutils literal notranslate"><span class="pre">&quot;feature-study&#64;shield.mozilla.com&quot;</span></code>).</p>
</dd>
<dt>addonVersion</dt><dd><p>The add-on’s version (example: <code class="docutils literal notranslate"><span class="pre">&quot;1.2.3&quot;</span></code>).</p>
</dd>
<dt>reason</dt><dd><p>The reason for unenrollment. Possible values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;install-failure&quot;</span></code>: The add-on failed to install.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;individual-opt-out&quot;</span></code>: The user opted-out of this
particular study.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;general-opt-out&quot;</span></code>: The user opted-out of studies in
general.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;recipe-not-seen&quot;</span></code>: The recipe was no longer applicable
to this client. This can be because the recipe was
disabled, or the user no longer matches the recipe’s
filter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;uninstalled&quot;</span></code>: The study’s add-on as uninstalled by some
mechanism. For example, this could be a user action or the
add-on self-uninstalling.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;uninstalled-sideload&quot;</span></code>: The study’s add-on was
uninstalled while Normandy was inactive. This could be that
the add-on is no longer compatible, or was manually removed
from a profile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;unknown&quot;</span></code>: A reason was not specified. This should be
considered a bug.</p></li>
</ul>
</dd>
<dt>enrollmentId</dt><dd><p>The ID that was generated at enrollment.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="execution-model.html" class="btn btn-neutral float-right" title="Execution Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Shield Recipe Client" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>