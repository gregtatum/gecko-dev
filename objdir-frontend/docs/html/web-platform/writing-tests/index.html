

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Writing Tests &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="General Test Guidelines" href="general-guidelines.html" />
    <link rel="prev" title="Writing Your Own Runner" href="../running-tests/custom-runner.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">web-platform-tests documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#video-introduction-transcript">Video Introduction (transcript)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#github">GitHub</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#table-of-contents">Table of Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../test-suite-design.html">Test Suite Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro-video-transcript.html">“Introduction to WPT” video transcript</a></li>
<li class="toctree-l3"><a class="reference internal" href="../running-tests/index.html">Running Tests</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Writing Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#test-types">Test Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submitting-tests">Submitting Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reviewing-tests/index.html">Reviewing Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/index.html">Project Administration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">web-platform-tests documentation</a> &raquo;</li>
        
      <li>Writing Tests</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/web-platform/writing-tests/index.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="writing-tests">
<h1>Writing Tests<a class="headerlink" href="#writing-tests" title="Permalink to this headline">¶</a></h1>
<p>So you’d like to write new tests for WPT? Great! For starters, we recommend
reading <a class="reference internal" href="../index.html"><span class="doc">the introduction</span></a> to learn how the tests are organized and
interpreted. You might already have an idea about what needs testing, but it’s
okay if you don’t know where to begin. In either case, <a class="reference internal" href="making-a-testing-plan.html"><span class="doc">the guide on making a
testing plan</span></a> will help you decide what to write.</p>
<p>There’s also a load of <a class="reference internal" href="general-guidelines.html"><span class="doc">general guidelines</span></a> that apply to all tests.</p>
<div class="section" id="test-types">
<h2>Test Types<a class="headerlink" href="#test-types" title="Permalink to this headline">¶</a></h2>
<p>There are various different ways of writing tests:</p>
<ul class="simple">
<li><p><a class="reference internal" href="testharness.html"><span class="doc">JavaScript tests (testharness.js)</span></a> are preferred for testing APIs and may be used
for other features too. They are built with the testharness.js unit testing framework, and consist
of assertions written in JavaScript. A high-level <a class="reference internal" href="testharness-tutorial.html"><span class="doc">testharness.js tutorial</span></a>
is available.</p></li>
<li><p>Rendering tests should be used to verify that the browser graphically
displays pages as expected. See the <a class="reference internal" href="rendering.html"><span class="doc">rendering test guidelines</span></a>
for tips on how to write great rendering tests. There are a few different
ways to write rendering tests:</p>
<ul>
<li><p><a class="reference internal" href="reftests.html"><span class="doc">Reftests</span></a> should be used to test rendering and layout. They
consist of two or more pages with assertions as to whether they render
identically or not. A high-level <a class="reference internal" href="reftest-tutorial.html"><span class="doc">reftest tutorial</span></a> is available. A
<a class="reference internal" href="print-reftests.html"><span class="doc">print reftests</span></a> variant is available too.</p></li>
<li><p><a class="reference internal" href="visual.html"><span class="doc">Visual tests</span></a> should be used for checking rendering where there is
a large number of conforming renderings such that reftests are impractical.
They consist of a page that renders to final state at which point a
screenshot can be taken and compared to an expected rendering for that user
agent on that platform.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="crashtest.html"><span class="doc">Crashtests</span></a> tests are used to check that the browser is
able to load a given document without crashing or experiencing other
low-level issues (asserts, leaks, etc.). They pass if the load
completes without error.</p></li>
<li><p><a class="reference internal" href="wdspec.html"><span class="doc">wdspec</span></a> tests are written in Python using
<a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a> and test <a class="reference external" href="https://w3c.github.io/webdriver/">the WebDriver browser
automation protocol</a></p></li>
<li><p><a class="reference internal" href="manual.html"><span class="doc">Manual tests</span></a> are used as a last resort for anything that can’t be
tested using any of the above. They consist of a page that needs manual
interaction or verification of the final result.</p></li>
</ul>
<p>See <a class="reference internal" href="file-names.html"><span class="doc">file names</span></a> for test types and features determined by the file names,
and <a class="reference internal" href="server-features.html"><span class="doc">server features</span></a> for advanced testing features.</p>
</div>
<div class="section" id="submitting-tests">
<h2>Submitting Tests<a class="headerlink" href="#submitting-tests" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve written tests, please submit them using
the <a class="reference internal" href="submission-process.html"><span class="doc">typical GitHub Pull Request workflow</span></a>; please
make sure you run the <a class="reference internal" href="lint-tool.html"><span class="doc">lint script</span></a> before opening a pull request!</p>
</div>
<div class="section" id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="general-guidelines.html">General Test Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="making-a-testing-plan.html">Making a Testing Plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="testharness.html">JavaScript Tests (testharness.js)</a></li>
<li class="toctree-l1"><a class="reference internal" href="testharness-tutorial.html">testharness.js tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="rendering.html">Rendering Test Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="reftests.html">Reftests</a></li>
<li class="toctree-l1"><a class="reference internal" href="reftest-tutorial.html">Writing a reftest</a></li>
<li class="toctree-l1"><a class="reference internal" href="print-reftests.html">Print Reftests</a></li>
<li class="toctree-l1"><a class="reference internal" href="visual.html">Visual Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="crashtest.html">crashtest tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="wdspec.html">wdspec tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual.html">Manual Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-names.html">File Name Flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-features.html">Server Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="submission-process.html">Submitting Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="lint-tool.html">Lint Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="ahem.html">The Ahem Font</a></li>
<li class="toctree-l1"><a class="reference internal" href="assumptions.html">Test Assumptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="css-metadata.html">CSS Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="css-user-styles.html">CSS User Stylesheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="h2tests.html">Writing H2 Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="testdriver.html">testdriver.js Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="testdriver-extension-tutorial.html">Testdriver extension tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Command-line utility scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="test-templates.html">Test Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="github-intro.html">Introduction to GitHub</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="general-guidelines.html" class="btn btn-neutral float-right" title="General Test Guidelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../running-tests/custom-runner.html" class="btn btn-neutral float-left" title="Writing Your Own Runner" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>