

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Task Attributes &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Caches" href="caches.html" />
    <link rel="prev" title="Parameters" href="parameters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">TaskCluster Task-Graph Generation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="taskgraph.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="mach.html">Taskcluster Mach commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="loading.html">Loading Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">Optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker-images.html">Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="cron.html">Periodic Taskgraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="try.html">Try</a></li>
<li class="toctree-l2"><a class="reference internal" href="actions.html">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-promotion.html">Release Promotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="versioncontrol.html">Version Control in CI</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Taskcluster Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-tos.html">How Tos</a></li>
<li class="toctree-l2"><a class="reference internal" href="task-graph.html">Task Graph</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="reference.html">Reference</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="kinds.html">Task Kinds</a></li>
<li class="toctree-l3"><a class="reference internal" href="parameters.html">Parameters</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Task Attributes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kind">kind</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-on-projects">run_on_projects</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-on-hg-branches">run_on_hg_branches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#task-duplicates">task_duplicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-platform">build_platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-type">build_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-platform">test_platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unittest-suite">unittest_suite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unittest-category">unittest_category</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unittest-try-name">unittest_try_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unittest-variant">unittest_variant</a></li>
<li class="toctree-l4"><a class="reference internal" href="#talos-try-name">talos_try_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#raptor-try-name">raptor_try_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#job-try-name">job_try_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-chunk">test_chunk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-manifests">test_manifests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#e10s">e10s</a></li>
<li class="toctree-l4"><a class="reference internal" href="#image-name">image_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nightly">nightly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shippable">shippable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#all-locales">all_locales</a></li>
<li class="toctree-l4"><a class="reference internal" href="#all-locales-with-changesets">all_locales_with_changesets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#l10n-chunk">l10n_chunk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#chunk-locales">chunk_locales</a></li>
<li class="toctree-l4"><a class="reference internal" href="#locale">locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signed">signed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stub-installer">stub-installer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repackage-type">repackage_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fetch-artifact">fetch-artifact</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fetch-alias">fetch-alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="#toolchain-artifact">toolchain-artifact</a></li>
<li class="toctree-l4"><a class="reference internal" href="#toolchain-alias">toolchain-alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="#always-target">always_target</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shipping-product">shipping_product</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shipping-phase">shipping_phase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#artifact-prefix">artifact_prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#artifact-map">artifact_map</a></li>
<li class="toctree-l4"><a class="reference internal" href="#batch">batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-full-crashsymbols">enable-full-crashsymbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cron">cron</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cached-task">cached_task</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eager-indexes">eager_indexes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#required-signoffs">required_signoffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-channel">update-channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mar-channel-id">mar-channel-id</a></li>
<li class="toctree-l4"><a class="reference internal" href="#accepted-mar-channel-ids">accepted-mar-channel-ids</a></li>
<li class="toctree-l4"><a class="reference internal" href="#openh264-rev">openh264_rev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#code-review">code-review</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resource-monitor">resource-monitor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrigger">retrigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-push-apk">disable-push-apk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#disable-build-signing">disable-build-signing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-build-signing">enable-build-signing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-visual-metrics">run-visual-metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skip-verify-test-packaging">skip-verify-test-packaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geckodriver">geckodriver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rebuild-on-release">rebuild-on-release</a></li>
<li class="toctree-l4"><a class="reference internal" href="#local-toolchain">local-toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#artifact-build">artifact-build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="caches.html">Caches</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">TaskCluster Task-Graph Generation</a> &raquo;</li>
        
          <li><a href="reference.html">Reference</a> &raquo;</li>
        
      <li>Task Attributes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/taskcluster/attributes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="task-attributes">
<h1>Task Attributes<a class="headerlink" href="#task-attributes" title="Permalink to this headline">¶</a></h1>
<p>Tasks can be filtered, for example to support “try” pushes which only perform a
subset of the task graph or to link dependent tasks.  This filtering is the
difference between a full task graph and a target task graph.</p>
<p>Filtering takes place on the basis of attributes.  Each task has a dictionary
of attributes and filters over those attributes can be expressed in Python.  A
task may not have a value for every attribute.</p>
<p>The attributes, and acceptable values, are defined here.  In general, attribute
names and values are the short, lower-case form, with underscores.</p>
<div class="section" id="kind">
<h2>kind<a class="headerlink" href="#kind" title="Permalink to this headline">¶</a></h2>
<p>A task’s <code class="docutils literal notranslate"><span class="pre">kind</span></code> attribute gives the name of the kind that generated it, e.g.,
<code class="docutils literal notranslate"><span class="pre">build</span></code> or <code class="docutils literal notranslate"><span class="pre">spidermonkey</span></code>.</p>
</div>
<div class="section" id="run-on-projects">
<h2>run_on_projects<a class="headerlink" href="#run-on-projects" title="Permalink to this headline">¶</a></h2>
<p>The projects where this task should be in the target task set.  This is how
requirements like “only run this on autoland” get implemented.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please use this configuration. Running a job for all projects can quickly add up
in term of cost while not providing any value for some projects.</p>
</div>
<p><cite>run-on-projects</cite> can use either aliases or project names.</p>
<p>These are the aliases:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>integration</cite> – integration repository (autoland)</p></li>
<li><p><cite>trunk</cite> – integration repository plus mozilla-central</p></li>
<li><p><cite>release</cite> – release repositories (beta, release, esr) including mozilla-central</p></li>
<li><p><cite>all</cite> – everywhere (the default)</p></li>
</ul>
</div></blockquote>
<p>Project names are the repositories.  They can be:</p>
<ul class="simple">
<li><p><cite>autoland</cite></p></li>
<li><p><cite>mozilla-central</cite></p></li>
<li><p><cite>mozilla-beta</cite></p></li>
<li><p><cite>mozilla-release</cite></p></li>
<li><p><cite>mozilla-esr78</cite></p></li>
<li><p>… A partial list can be found in taskcluster/taskgraph/util/attributes.py</p></li>
</ul>
<p>For try, this attribute applies only if <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">all</span></code> is specified.  All jobs can
be specified by name regardless of <code class="docutils literal notranslate"><span class="pre">run_on_projects</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">run_on_projects</span></code> is set to an empty list, then the task will not run
anywhere, unless its build platform is specified explicitly in try syntax.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As <cite>try</cite> pushes don’t use filter_for_projects by design, there isn’t a way
to define that a task will run on <cite>try</cite>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A given task <cite>[taskA]</cite> may not respect <cite>run-on-projects</cite> if there another task
<cite>[taskB]</cite> which is scheduled to run (such as via run-on-projects) which depends it
<cite>[taskA]</cite>. Because by nature of <cite>TaskB</cite> running we must run <cite>TaskA</cite>.</p>
<p>See <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1640603#c5">bug 1640603</a> as example.</p>
</div>
</div>
<div class="section" id="run-on-hg-branches">
<h2>run_on_hg_branches<a class="headerlink" href="#run-on-hg-branches" title="Permalink to this headline">¶</a></h2>
<p>On a given project, the mercurial branch where this task should be in the target
task set.  This is how requirements like “only run this RELBRANCH” get implemented.
These are either the regular expression of a branch (e.g.: <code class="docutils literal notranslate"><span class="pre">GECKOVIEW_\d+_RELBRANCH</span></code>)
or the following alias:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>all</cite> – everywhere (the default)</p></li>
</ul>
</div></blockquote>
<p>Like <code class="docutils literal notranslate"><span class="pre">run_on_projects</span></code>, the same behavior applies if it is set to an empty list.</p>
</div>
<div class="section" id="task-duplicates">
<h2>task_duplicates<a class="headerlink" href="#task-duplicates" title="Permalink to this headline">¶</a></h2>
<p>This is used to indicate that we want multiple copies of the task created.
This feature is used to track down intermittent job failures.</p>
<p>If this value is set to N, the task-creation machinery will create a total of N
copies of the task.  Only the first copy will be included in the taskgraph
output artifacts, although all tasks will be contained in the same taskGroup.</p>
<p>While most attributes are considered read-only, target task methods may alter
this attribute of tasks they include in the target set.</p>
</div>
<div class="section" id="build-platform">
<h2>build_platform<a class="headerlink" href="#build-platform" title="Permalink to this headline">¶</a></h2>
<p>The build platform defines the platform for which the binary was built.  It is
set for both build and test jobs, although test jobs may have a different
<code class="docutils literal notranslate"><span class="pre">test_platform</span></code>.</p>
</div>
<div class="section" id="build-type">
<h2>build_type<a class="headerlink" href="#build-type" title="Permalink to this headline">¶</a></h2>
<p>The type of build being performed.  This is a subdivision of <code class="docutils literal notranslate"><span class="pre">build_platform</span></code>,
used for different kinds of builds that target the same platform.  Values are</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opt</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="test-platform">
<h2>test_platform<a class="headerlink" href="#test-platform" title="Permalink to this headline">¶</a></h2>
<p>The test platform defines the platform on which tests are run.  It is only
defined for test jobs and may differ from <code class="docutils literal notranslate"><span class="pre">build_platform</span></code> when the same binary
is tested on several platforms (for example, on several versions of Windows).
This applies for both talos and unit tests.</p>
<p>Unlike build_platform, the test platform is represented in a slash-separated
format, e.g., <code class="docutils literal notranslate"><span class="pre">linux64/opt</span></code>.</p>
</div>
<div class="section" id="unittest-suite">
<h2>unittest_suite<a class="headerlink" href="#unittest-suite" title="Permalink to this headline">¶</a></h2>
<p>This is the unit test suite being run in a unit test task.  For example,
<code class="docutils literal notranslate"><span class="pre">mochitest</span></code> or <code class="docutils literal notranslate"><span class="pre">cppunittest</span></code>.</p>
</div>
<div class="section" id="unittest-category">
<h2>unittest_category<a class="headerlink" href="#unittest-category" title="Permalink to this headline">¶</a></h2>
<p>This is the high-level category of test the suite corresponds to. This is
usually the test harness used to run the suite.</p>
</div>
<div class="section" id="unittest-try-name">
<h2>unittest_try_name<a class="headerlink" href="#unittest-try-name" title="Permalink to this headline">¶</a></h2>
<p>This is the name used to refer to a unit test via try syntax.  It
may not match <code class="docutils literal notranslate"><span class="pre">unittest_suite</span></code>.</p>
</div>
<div class="section" id="unittest-variant">
<h2>unittest_variant<a class="headerlink" href="#unittest-variant" title="Permalink to this headline">¶</a></h2>
<p>The configuration variant the test suite is running with. If set, this usually
means the tests are running with a special pref enabled. These are defined in
<code class="docutils literal notranslate"><span class="pre">taskgraph.transforms.tests.TEST_VARIANTS</span></code>.</p>
</div>
<div class="section" id="talos-try-name">
<h2>talos_try_name<a class="headerlink" href="#talos-try-name" title="Permalink to this headline">¶</a></h2>
<p>This is the name used to refer to a talos job via try syntax.</p>
</div>
<div class="section" id="raptor-try-name">
<h2>raptor_try_name<a class="headerlink" href="#raptor-try-name" title="Permalink to this headline">¶</a></h2>
<p>This is the name used to refer to a raptor job via try syntax.</p>
</div>
<div class="section" id="job-try-name">
<h2>job_try_name<a class="headerlink" href="#job-try-name" title="Permalink to this headline">¶</a></h2>
<p>This is the name used to refer to a “job” via try syntax (<code class="docutils literal notranslate"><span class="pre">-j</span></code>).  Note that for
some kinds, <code class="docutils literal notranslate"><span class="pre">-j</span></code> also matches against <code class="docutils literal notranslate"><span class="pre">build_platform</span></code>.</p>
</div>
<div class="section" id="test-chunk">
<h2>test_chunk<a class="headerlink" href="#test-chunk" title="Permalink to this headline">¶</a></h2>
<p>This is the chunk number of a chunked test suite. Note that this is a string!</p>
</div>
<div class="section" id="test-manifests">
<h2>test_manifests<a class="headerlink" href="#test-manifests" title="Permalink to this headline">¶</a></h2>
<p>A list of the test manifests that run in this task.</p>
</div>
<div class="section" id="e10s">
<h2>e10s<a class="headerlink" href="#e10s" title="Permalink to this headline">¶</a></h2>
<p>For test suites which distinguish whether they run with or without e10s, this
boolean value identifies this particular run.</p>
</div>
<div class="section" id="image-name">
<h2>image_name<a class="headerlink" href="#image-name" title="Permalink to this headline">¶</a></h2>
<p>For the <code class="docutils literal notranslate"><span class="pre">docker_image</span></code> kind, this attribute contains the docker image name.</p>
</div>
<div class="section" id="nightly">
<h2>nightly<a class="headerlink" href="#nightly" title="Permalink to this headline">¶</a></h2>
<p>Signals whether the task is part of a nightly graph. Useful when filtering
out nightly tasks from full task set at target stage.</p>
</div>
<div class="section" id="shippable">
<h2>shippable<a class="headerlink" href="#shippable" title="Permalink to this headline">¶</a></h2>
<p>Signals whether the task is considered “shippable”, that it should get signed and is ok to
be used for nightlies or releases.</p>
</div>
<div class="section" id="all-locales">
<h2>all_locales<a class="headerlink" href="#all-locales" title="Permalink to this headline">¶</a></h2>
<p>For the <code class="docutils literal notranslate"><span class="pre">l10n</span></code> and <code class="docutils literal notranslate"><span class="pre">shippable-l10n</span></code> kinds, this attribute contains the list
of relevant locales for the platform.</p>
</div>
<div class="section" id="all-locales-with-changesets">
<h2>all_locales_with_changesets<a class="headerlink" href="#all-locales-with-changesets" title="Permalink to this headline">¶</a></h2>
<p>Contains a dict of l10n changesets, mapped by locales (same as in <code class="docutils literal notranslate"><span class="pre">all_locales</span></code>).</p>
</div>
<div class="section" id="l10n-chunk">
<h2>l10n_chunk<a class="headerlink" href="#l10n-chunk" title="Permalink to this headline">¶</a></h2>
<p>For the <code class="docutils literal notranslate"><span class="pre">l10n</span></code> and <code class="docutils literal notranslate"><span class="pre">shippable-l10n</span></code> kinds, this attribute contains the chunk
number of the job. Note that this is a string!</p>
</div>
<div class="section" id="chunk-locales">
<h2>chunk_locales<a class="headerlink" href="#chunk-locales" title="Permalink to this headline">¶</a></h2>
<p>For the <code class="docutils literal notranslate"><span class="pre">l10n</span></code> and <code class="docutils literal notranslate"><span class="pre">shippable-l10n</span></code> kinds, this attribute contains an array of
the individual locales this chunk is responsible for processing.</p>
</div>
<div class="section" id="locale">
<h2>locale<a class="headerlink" href="#locale" title="Permalink to this headline">¶</a></h2>
<p>For jobs that operate on only one locale, we set the attribute <code class="docutils literal notranslate"><span class="pre">locale</span></code> to the
specific locale involved. Currently this is only in l10n versions of the
<code class="docutils literal notranslate"><span class="pre">beetmover</span></code> and <code class="docutils literal notranslate"><span class="pre">balrog</span></code> kinds.</p>
</div>
<div class="section" id="signed">
<h2>signed<a class="headerlink" href="#signed" title="Permalink to this headline">¶</a></h2>
<p>Signals that the output of this task contains signed artifacts.</p>
</div>
<div class="section" id="stub-installer">
<h2>stub-installer<a class="headerlink" href="#stub-installer" title="Permalink to this headline">¶</a></h2>
<p>Signals to the build system that this build is expected to have a stub installer
present, and informs followon tasks to expect it.</p>
</div>
<div class="section" id="repackage-type">
<h2>repackage_type<a class="headerlink" href="#repackage-type" title="Permalink to this headline">¶</a></h2>
<p>This is the type of repackage. Can be <code class="docutils literal notranslate"><span class="pre">repackage</span></code> or
<code class="docutils literal notranslate"><span class="pre">repackage_signing</span></code>.</p>
</div>
<div class="section" id="fetch-artifact">
<h2>fetch-artifact<a class="headerlink" href="#fetch-artifact" title="Permalink to this headline">¶</a></h2>
<p>For fetch jobs, this is the path to the artifact for that fetch operation.</p>
</div>
<div class="section" id="fetch-alias">
<h2>fetch-alias<a class="headerlink" href="#fetch-alias" title="Permalink to this headline">¶</a></h2>
<p>An alias that can be used instead of the real fetch job name in fetch
stanzas for jobs.</p>
</div>
<div class="section" id="toolchain-artifact">
<h2>toolchain-artifact<a class="headerlink" href="#toolchain-artifact" title="Permalink to this headline">¶</a></h2>
<p>For toolchain jobs, this is the path to the artifact for that toolchain.</p>
</div>
<div class="section" id="toolchain-alias">
<h2>toolchain-alias<a class="headerlink" href="#toolchain-alias" title="Permalink to this headline">¶</a></h2>
<p>An alias that can be used instead of the real toolchain job name in fetch
stanzas for jobs.</p>
</div>
<div class="section" id="always-target">
<h2>always_target<a class="headerlink" href="#always-target" title="Permalink to this headline">¶</a></h2>
<p>Tasks with this attribute will be included in the <code class="docutils literal notranslate"><span class="pre">target_task_graph</span></code> if
<code class="docutils literal notranslate"><span class="pre">parameters[&quot;tasks_for&quot;]</span></code> is <code class="docutils literal notranslate"><span class="pre">hg-push</span></code>, regardless of any target task
filtering that occurs. When a task is included in this manner (i.e it otherwise
would have been filtered out), it will be considered for optimization even if
the <code class="docutils literal notranslate"><span class="pre">optimize_target_tasks</span></code> parameter is False.</p>
<p>This is meant to be used for tasks which a developer would almost always want to
run. Typically these tasks will be short running and have a high risk of causing
a backout. For example <code class="docutils literal notranslate"><span class="pre">lint</span></code> or <code class="docutils literal notranslate"><span class="pre">python-unittest</span></code> tasks.</p>
</div>
<div class="section" id="shipping-product">
<h2>shipping_product<a class="headerlink" href="#shipping-product" title="Permalink to this headline">¶</a></h2>
<p>For release promotion jobs, this is the product we are shipping.</p>
</div>
<div class="section" id="shipping-phase">
<h2>shipping_phase<a class="headerlink" href="#shipping-phase" title="Permalink to this headline">¶</a></h2>
<p>For release promotion jobs, this is the shipping phase (build, promote, push, ship).
During the build phase, we build and sign shippable builds. During the promote phase,
we generate l10n repacks and push to the candidates directory. During the push phase,
we push to the releases directory. During the ship phase, we update bouncer, push to
Google Play, version bump, mark as shipped in ship-it.</p>
<p>Using the “snowman model”, we depend on previous graphs if they’re defined. So if we
ask for a <code class="docutils literal notranslate"><span class="pre">push</span></code> (the head of the snowman) and point at the body and base, we only
build the head. If we don’t point at the body and base, we build the whole snowman
(build, promote, push).</p>
</div>
<div class="section" id="artifact-prefix">
<h2>artifact_prefix<a class="headerlink" href="#artifact-prefix" title="Permalink to this headline">¶</a></h2>
<p>Most taskcluster artifacts are public, so we’ve hardcoded <code class="docutils literal notranslate"><span class="pre">public/build</span></code> in a
lot of places. To support private artifacts, we’ve moved this to the
<code class="docutils literal notranslate"><span class="pre">artifact_prefix</span></code> attribute. It will default to <code class="docutils literal notranslate"><span class="pre">public/build</span></code> but will be
overridable per-task.</p>
</div>
<div class="section" id="artifact-map">
<h2>artifact_map<a class="headerlink" href="#artifact-map" title="Permalink to this headline">¶</a></h2>
<p>For beetmover jobs, this indicates which yaml file should be used to
generate the upstream artifacts and payload instructions to the task.</p>
</div>
<div class="section" id="batch">
<h2>batch<a class="headerlink" href="#batch" title="Permalink to this headline">¶</a></h2>
<p>Used by <cite>perftest</cite> to indicates that a task can be run as a batch.</p>
</div>
<div class="section" id="enable-full-crashsymbols">
<h2>enable-full-crashsymbols<a class="headerlink" href="#enable-full-crashsymbols" title="Permalink to this headline">¶</a></h2>
<p>In automation, full crashsymbol package generation is normally disabled.  For
build kinds where the full crashsymbols should be enabled, set this attribute
to True. The full symbol packages will then be generated and uploaded on
release branches and on try.</p>
</div>
<div class="section" id="cron">
<h2>cron<a class="headerlink" href="#cron" title="Permalink to this headline">¶</a></h2>
<p>Indicates that a task is meant to be run via cron tasks, and should not be run
on push.</p>
</div>
<div class="section" id="cached-task">
<h2>cached_task<a class="headerlink" href="#cached-task" title="Permalink to this headline">¶</a></h2>
<p>Some tasks generate artifacts that are cached between pushes. This is a
dictionary with the type and name of the cache, and the unique string used to
identify the current version of the artifacts. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">taskgraph.util.cached_task</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cached_task</span><span class="p">:</span>
    <span class="nt">digest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">66dfc2204600b48d92a049b6a18b83972bb9a92f9504c06608a9c20eb4c9d8ae</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">debian7-base</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docker-images.v2</span>
</pre></div>
</div>
</div>
<div class="section" id="eager-indexes">
<h2>eager_indexes<a class="headerlink" href="#eager-indexes" title="Permalink to this headline">¶</a></h2>
<p>A list of strings of indexes to populate before the task ever completes. Some tasks (e.g. cached tasks) we
want to exist in the index before they even run/complete. Our current use is to allow us to depend on an
unfinished cached task in future pushes. This avoids extra overhead from multiple tasks running, and
can allow us to have our results in just a bit earlier.</p>
</div>
<div class="section" id="required-signoffs">
<h2>required_signoffs<a class="headerlink" href="#required-signoffs" title="Permalink to this headline">¶</a></h2>
<p>A list of release signoffs that this kind requires, should the release also
require these signoffs. For example, <code class="docutils literal notranslate"><span class="pre">mar-signing</span></code> signoffs may be required
by some releases in the future; for any releases that require <code class="docutils literal notranslate"><span class="pre">mar-signing</span></code>
signoffs, the kinds that also require that signoff are marked with this
attribute.</p>
</div>
<div class="section" id="update-channel">
<h2>update-channel<a class="headerlink" href="#update-channel" title="Permalink to this headline">¶</a></h2>
<p>The update channel the build is configured to use.</p>
</div>
<div class="section" id="mar-channel-id">
<h2>mar-channel-id<a class="headerlink" href="#mar-channel-id" title="Permalink to this headline">¶</a></h2>
<p>The mar-channel-id the build is configured to use.</p>
</div>
<div class="section" id="accepted-mar-channel-ids">
<h2>accepted-mar-channel-ids<a class="headerlink" href="#accepted-mar-channel-ids" title="Permalink to this headline">¶</a></h2>
<p>The mar-channel-ids this build will accept updates to. It should usually be the same as
the value mar_channel_id.  If more than one ID is needed, then you should use a
comma separated list of values.</p>
</div>
<div class="section" id="openh264-rev">
<h2>openh264_rev<a class="headerlink" href="#openh264-rev" title="Permalink to this headline">¶</a></h2>
<p>Only used for openh264 plugin builds, used to signify the revision (and thus inform artifact name) of the given build.</p>
</div>
<div class="section" id="code-review">
<h2>code-review<a class="headerlink" href="#code-review" title="Permalink to this headline">¶</a></h2>
<p>If a task set this boolean attribute to <cite>true</cite>, it will be processed by the code
review bot, the task will ran for every new Phabricator diff.
Any supported and detected issue will be automatically reported on the
Phabricator revision.</p>
</div>
<div class="section" id="resource-monitor">
<h2>resource-monitor<a class="headerlink" href="#resource-monitor" title="Permalink to this headline">¶</a></h2>
<p>If a task set this boolean attribute to <cite>true</cite>, it will collect CPU, memory, and
- if available - Disk and Network IO by running the resource-monitor utility,
provided through fetches.</p>
</div>
<div class="section" id="retrigger">
<h2>retrigger<a class="headerlink" href="#retrigger" title="Permalink to this headline">¶</a></h2>
<p>Whether the task can be retriggered, or if it needs to be re-run.</p>
</div>
<div class="section" id="disable-push-apk">
<h2>disable-push-apk<a class="headerlink" href="#disable-push-apk" title="Permalink to this headline">¶</a></h2>
<p>Some GeckoView-only Android tasks produce APKs that shouldn’t be
pushed to the Google Play Store.  Set this to <code class="docutils literal notranslate"><span class="pre">true</span></code> to disable
pushing.</p>
</div>
<div class="section" id="disable-build-signing">
<h2>disable-build-signing<a class="headerlink" href="#disable-build-signing" title="Permalink to this headline">¶</a></h2>
<p>Some GeckoView-only tasks produce APKs, but not APKs that should be
signed.  Set this to <code class="docutils literal notranslate"><span class="pre">true</span></code> to disable APK signing.</p>
</div>
<div class="section" id="enable-build-signing">
<h2>enable-build-signing<a class="headerlink" href="#enable-build-signing" title="Permalink to this headline">¶</a></h2>
<p>We enable build-signing for <code class="docutils literal notranslate"><span class="pre">shippable</span></code>, <code class="docutils literal notranslate"><span class="pre">nightly</span></code>, and <code class="docutils literal notranslate"><span class="pre">enable-build-signing</span></code> tasks.</p>
</div>
<div class="section" id="run-visual-metrics">
<h2>run-visual-metrics<a class="headerlink" href="#run-visual-metrics" title="Permalink to this headline">¶</a></h2>
<p>If set to true, will run the visual metrics task on the provided
video files.</p>
</div>
<div class="section" id="skip-verify-test-packaging">
<h2>skip-verify-test-packaging<a class="headerlink" href="#skip-verify-test-packaging" title="Permalink to this headline">¶</a></h2>
<p>If set to true, this task will not be checked to see that
MOZ_AUTOMATION_PACKAGE_TESTS is set correctly based on whether or not the task
has dependent tests. This should only be used in very unique situations, such
as Windows AArch64 builds that copy test packages between build tasks.</p>
</div>
<div class="section" id="geckodriver">
<h2>geckodriver<a class="headerlink" href="#geckodriver" title="Permalink to this headline">¶</a></h2>
<p>If non-empty, declares that the (toolchain) task is a <cite>geckodriver</cite>
task that produces a binary that should be signed.</p>
</div>
<div class="section" id="rebuild-on-release">
<h2>rebuild-on-release<a class="headerlink" href="#rebuild-on-release" title="Permalink to this headline">¶</a></h2>
<p>If true, the digest for this task will also depend on if the branch is a
release branch.  This will cause tasks like toolchains to be rebuilt as they
move from e.g. autoland to mozilla-central.</p>
</div>
<div class="section" id="local-toolchain">
<h2>local-toolchain<a class="headerlink" href="#local-toolchain" title="Permalink to this headline">¶</a></h2>
<p>This toolchain is used for local development, so should be built on trunk, even
if it does not have any in-graph consumers.</p>
</div>
<div class="section" id="artifact-build">
<h2>artifact-build<a class="headerlink" href="#artifact-build" title="Permalink to this headline">¶</a></h2>
<p>This build is an artifact build.</p>
<p>This deliberately excludes builds that are implemented using the artifact build
machinery, but are not primarily intended to short-circuit build time. In
particular the Windows aarch64 builds are not marked this way.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="caches.html" class="btn btn-neutral float-right" title="Caches" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parameters.html" class="btn btn-neutral float-left" title="Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>