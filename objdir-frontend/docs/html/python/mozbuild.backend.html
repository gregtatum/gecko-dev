

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozbuild.backend package &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mozbuild.backend package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/mozbuild.backend.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozbuild-backend-package">
<h1>mozbuild.backend package<a class="headerlink" href="#mozbuild-backend-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozbuild.backend.base">
<span id="mozbuild-backend-base-module"></span><h2>mozbuild.backend.base module<a class="headerlink" href="#module-mozbuild.backend.base" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.base.BuildBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.base.</code><code class="sig-name descname">BuildBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mach.mixin.html#mach.mixin.logging.LoggingMixin" title="mach.mixin.logging.LoggingMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.mixin.logging.LoggingMixin</span></code></a></p>
<p>Abstract base class for build backends.</p>
<p>A build backend is merely a consumer of the build configuration (the output
of the frontend processing). It does something with said data. What exactly
is the discretion of the specific implementation.</p>
<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">jobs</span></em>, <em class="sig-param"><span class="n">verbose</span></em>, <em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when ‘mach build’ is executed.</p>
<p>This should return the status value of a subprocess, where 0 denotes
success and any other value is an error code. A return value of None
indicates that the default ‘make -f client.mk’ should run.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.consume">
<code class="sig-name descname">consume</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.consume" title="Permalink to this definition">¶</a></dt>
<dd><p>Consume a stream of TreeMetadata instances.</p>
<p>This is the main method of the interface. This is what takes the
frontend output and does something with it.</p>
<p>Child classes are not expected to implement this method. Instead, the
base class consumes objects and calls methods (possibly) implemented by
child classes.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.consume_object">
<em class="property">abstract </em><code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.post_build">
<code class="sig-name descname">post_build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">jobs</span></em>, <em class="sig-param"><span class="n">verbose</span></em>, <em class="sig-param"><span class="n">status</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.post_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Called late during ‘mach build’ execution, after <cite>build(…)</cite> has finished.</p>
<p><cite>status</cite> is the status value returned from <cite>build(…)</cite>.</p>
<p>In the case where <cite>build</cite> returns <cite>None</cite>, this is called after
the default <cite>make</cite> command has completed, with the status of
that command.</p>
<p>This should return the status value from <cite>build(…)</cite>, or the
status value of a subprocess, where 0 denotes success and any
other value is an error code.</p>
<p>If an exception is raised, <a href="#id1"><span class="problematic" id="id2">|mach build|</span></a> will fail with a
non-zero exit code.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.base.BuildBackend.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.BuildBackend.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.base.HybridBackend">
<code class="sig-prename descclassname">mozbuild.backend.base.</code><code class="sig-name descname">HybridBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">backends</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.HybridBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>A HybridBackend is the combination of one or more PartialBackends
with a non-partial BuildBackend.</p>
<p>Build configuration objects are passed to each backend, stopping at the
first of them that declares having handled them.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.base.PartialBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.base.</code><code class="sig-name descname">PartialBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.base.PartialBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.base.BuildBackend" title="mozbuild.backend.base.BuildBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.BuildBackend</span></code></a></p>
<p>A PartialBackend is a BuildBackend declaring that its consume_object
method may not handle all build configuration objects it’s passed, and
that it’s fine.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.cargo_build_defs">
<span id="mozbuild-backend-cargo-build-defs-module"></span><h2>mozbuild.backend.cargo_build_defs module<a class="headerlink" href="#module-mozbuild.backend.cargo_build_defs" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozbuild.backend.clangd">
<span id="mozbuild-backend-clangd-module"></span><h2>mozbuild.backend.clangd module<a class="headerlink" href="#module-mozbuild.backend.clangd" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.clangd.ClangdBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.clangd.</code><code class="sig-name descname">ClangdBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.clangd.ClangdBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.compilation.html#mozbuild.compilation.database.CompileDBBackend" title="mozbuild.compilation.database.CompileDBBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.compilation.database.CompileDBBackend</span></code></a></p>
<p>Configuration that generates the backend for clangd, it is used with <cite>clangd</cite>
extension for vscode</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.common">
<span id="mozbuild-backend-common-module"></span><h2>mozbuild.backend.common module<a class="headerlink" href="#module-mozbuild.backend.common" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.common.BinariesCollection">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.common.</code><code class="sig-name descname">BinariesCollection</code><a class="headerlink" href="#mozbuild.backend.common.BinariesCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tracks state of binaries produced by the build.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.common.CommonBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.common.</code><code class="sig-name descname">CommonBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.CommonBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.base.BuildBackend" title="mozbuild.backend.base.BuildBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.BuildBackend</span></code></a></p>
<p>Holds logic common to all build backends.</p>
<dl class="py method">
<dt id="mozbuild.backend.common.CommonBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.CommonBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.common.CommonBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.CommonBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.common.CommonBackend.localized_path">
<code class="sig-name descname">localized_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">relativesrcdir</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.CommonBackend.localized_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the localized path for a file.</p>
<p>Given <code class="docutils literal notranslate"><span class="pre">relativesrcdir</span></code>, a path relative to the topsrcdir, return a path to <code class="docutils literal notranslate"><span class="pre">filename</span></code>
from the current locale as specified by <code class="docutils literal notranslate"><span class="pre">MOZ_UI_LOCALE</span></code>, using <code class="docutils literal notranslate"><span class="pre">L10NBASEDIR</span></code> as the
parent directory for non-en-US locales.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.common.XPIDLManager">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.common.</code><code class="sig-name descname">XPIDLManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helps manage XPCOM IDLs in the context of the build system.</p>
<dl class="py class">
<dt id="mozbuild.backend.common.XPIDLManager.Module">
<em class="property">class </em><code class="sig-name descname">Module</code><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager.Module" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mozbuild.backend.common.XPIDLManager.Module.add_idls">
<code class="sig-name descname">add_idls</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">idls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager.Module.add_idls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.common.XPIDLManager.Module.stems">
<code class="sig-name descname">stems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager.Module.stems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.common.XPIDLManager.idl_stems">
<code class="sig-name descname">idl_stems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager.idl_stems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator of stems of the managed IDL files.</p>
<p>The stem of an IDL file is the basename of the file with no .idl extension.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.common.XPIDLManager.link_module">
<code class="sig-name descname">link_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.common.XPIDLManager.link_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Links an XPIDL module with with this instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.configenvironment">
<span id="mozbuild-backend-configenvironment-module"></span><h2>mozbuild.backend.configenvironment module<a class="headerlink" href="#module-mozbuild.backend.configenvironment" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.configenvironment.BuildConfig">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.configenvironment.</code><code class="sig-name descname">BuildConfig</code><a class="headerlink" href="#mozbuild.backend.configenvironment.BuildConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents the output of configure.</p>
<dl class="py method">
<dt id="mozbuild.backend.configenvironment.BuildConfig.from_config_status">
<em class="property">classmethod </em><code class="sig-name descname">from_config_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.BuildConfig.from_config_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance from a config.status file.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.configenvironment.ConfigEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.configenvironment.</code><code class="sig-name descname">ConfigEnvironment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">defines</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozconfig</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.ConfigEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Perform actions associated with a configured but bare objdir.</p>
<p>The purpose of this class is to preprocess files from the source directory
and output results in the object directory.</p>
<p>There are two types of files: config files and config headers,
each treated through a different member function.</p>
<dl class="simple">
<dt>Creating a ConfigEnvironment requires a few arguments:</dt><dd><ul class="simple">
<li><p>topsrcdir and topobjdir are, respectively, the top source and
the top object directory.</p></li>
<li><p>defines is a dict filled from AC_DEFINE and AC_DEFINE_UNQUOTED in
autoconf.</p></li>
<li><p>substs is a dict filled from AC_SUBST in autoconf.</p></li>
</ul>
</dd>
</dl>
<p>ConfigEnvironment automatically defines one additional substs variable
from all the defines:</p>
<blockquote>
<div><ul class="simple">
<li><p>ACDEFINES contains the defines in the form -DNAME=VALUE, for use on
preprocessor command lines. The order in which defines were given
when creating the ConfigEnvironment is preserved.</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>and two other additional subst variables from all the other substs:</dt><dd><ul class="simple">
<li><p>ALLSUBSTS contains the substs in the form NAME = VALUE, in sorted
order, for use in autoconf.mk. It includes ACDEFINES
Only substs with a VALUE are included, such that the resulting file
doesn’t change when new empty substs are added.
This results in less invalidation of build dependencies in the case
of autoconf.mk..</p></li>
<li><p>ALLEMPTYSUBSTS contains the substs with an empty value, in the form
NAME =.</p></li>
</ul>
</dd>
</dl>
<p>ConfigEnvironment expects a “top_srcdir” subst to be set with the top
source directory, in msys format on windows. It is used to derive a
“srcdir” subst when treating config files. It can either be an absolute
path or a path relative to the topobjdir.</p>
<dl class="py attribute">
<dt id="mozbuild.backend.configenvironment.ConfigEnvironment.acdefines">
<code class="sig-name descname">acdefines</code><a class="headerlink" href="#mozbuild.backend.configenvironment.ConfigEnvironment.acdefines" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized version of the memoize decorator that works for
class instance properties.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.configenvironment.ConfigEnvironment.from_config_status">
<em class="property">static </em><code class="sig-name descname">from_config_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.ConfigEnvironment.from_config_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.configenvironment.ConfigEnvironment.is_artifact_build">
<em class="property">property </em><code class="sig-name descname">is_artifact_build</code><a class="headerlink" href="#mozbuild.backend.configenvironment.ConfigEnvironment.is_artifact_build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="mozbuild.backend.configenvironment.ConfigStatusFailure">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.backend.configenvironment.</code><code class="sig-name descname">ConfigStatusFailure</code><a class="headerlink" href="#mozbuild.backend.configenvironment.ConfigStatusFailure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error loading config.status</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.configenvironment.PartialConfigDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.configenvironment.</code><code class="sig-name descname">PartialConfigDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_statusd</span></em>, <em class="sig-param"><span class="n">typ</span></em>, <em class="sig-param"><span class="n">environ_override</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Facilitates mapping the config.statusd defines &amp; substs with dict-like access.</p>
<p>This allows a buildconfig client to use buildconfig.defines[‘FOO’] (and
similar for substs), where the value of FOO is delay-loaded until it is
needed.</p>
<dl class="py method">
<dt id="mozbuild.backend.configenvironment.PartialConfigDict.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigDict.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.configenvironment.PartialConfigDict.iteritems">
<code class="sig-name descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigDict.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.configenvironment.PartialConfigEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.configenvironment.</code><code class="sig-name descname">PartialConfigEnvironment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topobjdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Allows access to individual config.status items via config.statusd/* files.</p>
<p>This class is similar to the full ConfigEnvironment, which uses
config.status, except this allows access and tracks dependencies to
individual configure values. It is intended to be used during the build
process to handle things like GENERATED_FILES, CONFIGURE_DEFINE_FILES, and
anything else that may need to access specific substs or defines.</p>
<p>Creating a PartialConfigEnvironment requires only the topobjdir, which is
needed to distinguish between the top-level environment and the js/src
environment.</p>
<p>The PartialConfigEnvironment automatically defines one additional subst variable
from all the defines:</p>
<blockquote>
<div><ul class="simple">
<li><p>ACDEFINES contains the defines in the form -DNAME=VALUE, for use on
preprocessor command lines. The order in which defines were given
when creating the ConfigEnvironment is preserved.</p></li>
</ul>
</div></blockquote>
<dl>
<dt>and one additional define from all the defines as a dictionary:</dt><dd><ul class="simple">
<li><p>ALLDEFINES contains all of the global defines as a dictionary. This is</p></li>
</ul>
<p>intended to be used instead of the defines structure from config.status so
that scripts can depend directly on its value.</p>
</dd>
</dl>
<dl class="py method">
<dt id="mozbuild.backend.configenvironment.PartialConfigEnvironment.get_dependencies">
<code class="sig-name descname">get_dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigEnvironment.get_dependencies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.configenvironment.PartialConfigEnvironment.write_vars">
<code class="sig-name descname">write_vars</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.configenvironment.PartialConfigEnvironment.write_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.cpp_eclipse">
<span id="mozbuild-backend-cpp-eclipse-module"></span><h2>mozbuild.backend.cpp_eclipse module<a class="headerlink" href="#module-mozbuild.backend.cpp_eclipse" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.cpp_eclipse.CppEclipseBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.cpp_eclipse.</code><code class="sig-name descname">CppEclipseBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.cpp_eclipse.CppEclipseBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.common.CommonBackend" title="mozbuild.backend.common.CommonBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.common.CommonBackend</span></code></a></p>
<p>Backend that generates Cpp Eclipse project files.</p>
<dl class="py method">
<dt id="mozbuild.backend.cpp_eclipse.CppEclipseBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.cpp_eclipse.CppEclipseBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.cpp_eclipse.CppEclipseBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.cpp_eclipse.CppEclipseBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.cpp_eclipse.CppEclipseBackend.get_workspace_path">
<em class="property">static </em><code class="sig-name descname">get_workspace_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.cpp_eclipse.CppEclipseBackend.get_workspace_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.cpp_eclipse.CppEclipseBackend.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.cpp_eclipse.CppEclipseBackend.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.fastermake">
<span id="mozbuild-backend-fastermake-module"></span><h2>mozbuild.backend.fastermake module<a class="headerlink" href="#module-mozbuild.backend.fastermake" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.fastermake.FasterMakeBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.fastermake.</code><code class="sig-name descname">FasterMakeBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.fastermake.FasterMakeBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.make.MakeBackend" title="mozbuild.backend.make.MakeBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.make.MakeBackend</span></code></a>, <a class="reference internal" href="#mozbuild.backend.base.PartialBackend" title="mozbuild.backend.base.PartialBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.PartialBackend</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.backend.fastermake.FasterMakeBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.fastermake.FasterMakeBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.fastermake.FasterMakeBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.fastermake.FasterMakeBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.mach_commands">
<span id="mozbuild-backend-mach-commands-module"></span><h2>mozbuild.backend.mach_commands module<a class="headerlink" href="#module-mozbuild.backend.mach_commands" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.mach_commands.MachCommands">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.mach_commands.</code><code class="sig-name descname">MachCommands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.html#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.backend.mach_commands.MachCommands.found_vscode_path">
<code class="sig-name descname">found_vscode_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands.found_vscode_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.mach_commands.MachCommands.get_eclipse_workspace_path">
<code class="sig-name descname">get_eclipse_workspace_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands.get_eclipse_workspace_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.mach_commands.MachCommands.get_visualstudio_workspace_path">
<code class="sig-name descname">get_visualstudio_workspace_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands.get_visualstudio_workspace_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.mach_commands.MachCommands.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ide</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.mach_commands.MachCommands.setup_vscode">
<code class="sig-name descname">setup_vscode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.MachCommands.setup_vscode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.mach_commands.prompt_bool">
<code class="sig-prename descclassname">mozbuild.backend.mach_commands.</code><code class="sig-name descname">prompt_bool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prompt</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.mach_commands.prompt_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Prompts the user with prompt and requires a boolean value.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.make">
<span id="mozbuild-backend-make-module"></span><h2>mozbuild.backend.make module<a class="headerlink" href="#module-mozbuild.backend.make" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.make.MakeBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.make.</code><code class="sig-name descname">MakeBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.make.MakeBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.common.CommonBackend" title="mozbuild.backend.common.CommonBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.common.CommonBackend</span></code></a></p>
<p>Class encapsulating logic for backends that use Make.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.recursivemake">
<span id="mozbuild-backend-recursivemake-module"></span><h2>mozbuild.backend.recursivemake module<a class="headerlink" href="#module-mozbuild.backend.recursivemake" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.recursivemake.</code><code class="sig-name descname">BackendMakeFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">srcdir</span></em>, <em class="sig-param"><span class="n">objdir</span></em>, <em class="sig-param"><span class="n">environment</span></em>, <em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">dry_run</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a generated backend.mk file.</p>
<p>This is both a wrapper around a file handle as well as a container that
holds accumulated state.</p>
<p>It’s worth taking a moment to explain the make dependencies. The
generated backend.mk as well as the Makefile.in (if it exists) are in the
GLOBAL_DEPS list. This means that if one of them changes, all targets
in that Makefile are invalidated. backend.mk also depends on all of its
input files.</p>
<p>It’s worth considering the effect of file mtimes on build behavior.</p>
<p>Since we perform an “all or none” traversal of moz.build files (the whole
tree is scanned as opposed to individual files), if we were to blindly
write backend.mk files, the net effect of updating a single mozbuild file
in the tree is all backend.mk files have new mtimes. This would in turn
invalidate all make targets across the whole tree! This would effectively
undermine incremental builds as any mozbuild change would cause the entire
tree to rebuild!</p>
<p>The solution is to not update the mtimes of backend.mk files unless they
actually change. We use FileAvoidWrite to accomplish this.</p>
<dl class="py method">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile.add_statement">
<code class="sig-name descname">add_statement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stmt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile.add_statement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile.diff">
<em class="property">property </em><code class="sig-name descname">diff</code><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.BackendMakeFile.write_once">
<code class="sig-name descname">write_once</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.BackendMakeFile.write_once" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.recursivemake.</code><code class="sig-name descname">RecursiveMakeBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.make.MakeBackend" title="mozbuild.backend.make.MakeBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.make.MakeBackend</span></code></a></p>
<p>Backend that integrates with the existing recursive make build system.</p>
<p>This backend facilitates the transition from Makefile.in to moz.build
files.</p>
<p>This backend performs Makefile.in -&gt; Makefile conversion. It also writes
out .mk files containing content derived from moz.build files. Both are
consumed by the recursive make builder.</p>
<p>This backend may eventually evolve to write out non-recursive make files.
However, as long as there are Makefile.in files in the tree, we are tied to
recursive make and thus will need this backend.</p>
<dl class="py class">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution">
<em class="property">class </em><code class="sig-name descname">Substitution</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>BaseConfigSubstitution-like class for use with _create_makefile.</p>
<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.config">
<code class="sig-name descname">config</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.input_path">
<code class="sig-name descname">input_path</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.input_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.output_path">
<code class="sig-name descname">output_path</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.output_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.topobjdir">
<code class="sig-name descname">topobjdir</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.topobjdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.topsrcdir">
<code class="sig-name descname">topsrcdir</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.Substitution.topsrcdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out build files necessary to build with recursive make.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeBackend.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeBackend.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.recursivemake.</code><code class="sig-name descname">RecursiveMakeTraversal</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class to keep track of how the “traditional” recursive make backend
recurses subdirectories. This is useful until all adhoc rules are removed
from Makefiles.</p>
<dl class="simple">
<dt>Each directory may have one or more types of subdirectories:</dt><dd><ul class="simple">
<li><p>(normal) dirs</p></li>
<li><p>tests</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectories">
<em class="property">class </em><code class="sig-name descname">SubDirectories</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectories" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.recursivemake.SubDirectories</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectoriesTuple">
<code class="sig-name descname">SubDirectoriesTuple</code><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectoriesTuple" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectories" title="mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectories"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubDirectories</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectoryCategories">
<code class="sig-name descname">SubDirectoryCategories</code><em class="property"> = ['dirs', 'tests']</em><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.SubDirectoryCategories" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em>, <em class="sig-param"><span class="n">dirs</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">tests</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a directory to traversal, registering its subdirectories,
sorted by categories. If the directory was already added to
traversal, adds the new subdirectories to the already known lists.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.call_filter">
<code class="sig-name descname">call_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">current</span></em>, <em class="sig-param"><span class="n">filter</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.call_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to call a filter from compute_dependencies and
traverse.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.compute_dependencies">
<code class="sig-name descname">compute_dependencies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.compute_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute make dependencies corresponding to the registered directory
traversal.</p>
<dl class="simple">
<dt>filter is a function with the following signature:</dt><dd><p>def filter(current, subdirs)</p>
</dd>
</dl>
<p>where current is the directory being traversed, and subdirs the
SubDirectories instance corresponding to it.
The filter function returns a tuple (filtered_current, filtered_parallel,
filtered_dirs) where filtered_current is either current or None if
the current directory is to be skipped, and filtered_parallel and
filtered_dirs are lists of parallel directories and sequential
directories, which can be rearranged from whatever is given in the
SubDirectories members.</p>
<p>The default filter corresponds to a default recursive traversal.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.default_filter">
<em class="property">static </em><code class="sig-name descname">default_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">current</span></em>, <em class="sig-param"><span class="n">subdirs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.default_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Default filter for use with compute_dependencies and traverse.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.get_subdirs">
<code class="sig-name descname">get_subdirs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.get_subdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all direct subdirectories under the given directory.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.recursivemake.RecursiveMakeTraversal.traverse">
<code class="sig-name descname">traverse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">filter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.RecursiveMakeTraversal.traverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the filtered subdirectories, following the traditional
make traversal order.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.recursivemake.make_quote">
<code class="sig-prename descclassname">mozbuild.backend.recursivemake.</code><code class="sig-name descname">make_quote</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.recursivemake.make_quote" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.static_analysis">
<span id="mozbuild-backend-static-analysis-module"></span><h2>mozbuild.backend.static_analysis module<a class="headerlink" href="#module-mozbuild.backend.static_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.static_analysis.StaticAnalysisBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.static_analysis.</code><code class="sig-name descname">StaticAnalysisBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.static_analysis.StaticAnalysisBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.compilation.html#mozbuild.compilation.database.CompileDBBackend" title="mozbuild.compilation.database.CompileDBBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.compilation.database.CompileDBBackend</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.test_manifest">
<span id="mozbuild-backend-test-manifest-module"></span><h2>mozbuild.backend.test_manifest module<a class="headerlink" href="#module-mozbuild.backend.test_manifest" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.test_manifest.</code><code class="sig-name descname">TestManifestBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.base.PartialBackend" title="mozbuild.backend.base.PartialBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.PartialBackend</span></code></a></p>
<p>Partial backend that generates test metadata files.</p>
<dl class="py method">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">flavor</span></em>, <em class="sig-param"><span class="n">topsrcdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend.add_defaults">
<code class="sig-name descname">add_defaults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manifest</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend.add_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend.add_installs">
<code class="sig-name descname">add_installs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">topsrcdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend.add_installs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.test_manifest.TestManifestBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.test_manifest.TestManifestBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.backend.visualstudio">
<span id="mozbuild-backend-visualstudio-module"></span><h2>mozbuild.backend.visualstudio module<a class="headerlink" href="#module-mozbuild.backend.visualstudio" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.backend.visualstudio.VisualStudioBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.backend.visualstudio.</code><code class="sig-name descname">VisualStudioBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.VisualStudioBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.backend.common.CommonBackend" title="mozbuild.backend.common.CommonBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.common.CommonBackend</span></code></a></p>
<p>Generate Visual Studio project files.</p>
<p>This backend is used to produce Visual Studio projects and a solution
to foster developing Firefox with Visual Studio.</p>
<p>This backend is currently considered experimental. There are many things
not optimal about how it works.</p>
<dl class="py method">
<dt id="mozbuild.backend.visualstudio.VisualStudioBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.VisualStudioBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.visualstudio.VisualStudioBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.VisualStudioBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.visualstudio.VisualStudioBackend.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.VisualStudioBackend.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.backend.visualstudio.VisualStudioBackend.write_vs_project">
<em class="property">static </em><code class="sig-name descname">write_vs_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">includes</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">forced_includes</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">defines</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">build_command</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clean_command</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">debugger</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">headers</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">sources</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.VisualStudioBackend.write_vs_project" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.visualstudio.get_id">
<code class="sig-prename descclassname">mozbuild.backend.visualstudio.</code><code class="sig-name descname">get_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.get_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.visualstudio.visual_studio_product_to_platform_toolset_version">
<code class="sig-prename descclassname">mozbuild.backend.visualstudio.</code><code class="sig-name descname">visual_studio_product_to_platform_toolset_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.visual_studio_product_to_platform_toolset_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.backend.visualstudio.visual_studio_product_to_solution_version">
<code class="sig-prename descclassname">mozbuild.backend.visualstudio.</code><code class="sig-name descname">visual_studio_product_to_solution_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.visualstudio.visual_studio_product_to_solution_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.backend">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozbuild.backend" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.backend.get_backend_class">
<code class="sig-prename descclassname">mozbuild.backend.</code><code class="sig-name descname">get_backend_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.backend.get_backend_class" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>