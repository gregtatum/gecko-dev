

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WebExtensions Javascript Component Reference &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/language_data.js"></script>
        <script src="../../../../_static/clipboard.min.js"></script>
        <script src="../../../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="SpiderMonkey" href="../../../../js/index.html" />
    <link rel="prev" title="Utilities for implementing APIs" href="other.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Toolkit</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../crashreporter/crashreporter/index.html">Crash Reporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../featuregates/featuregates/index.html">Feature Gates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../search/index.html">Search Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../normandy/normandy/index.html">Shield Recipe Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../messaging-system/docs/index.html">Messaging System Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pictureinpicture/pictureinpicture/index.html">Picture-in-Picture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompts/index.html">Prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/subprocess/toolkit_modules/subprocess/index.html">Subprocess Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../telemetry/index.html">Telemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glean/index.html">Firefox on Glean (FOG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/toolkit_modules/index.html">Toolkit Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../content/toolkit_widgets/index.html">Toolkit Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">WebExtensions API Development</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics.html">API Implementation Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="schema.html">API Schemas</a></li>
<li class="toctree-l3"><a class="reference internal" href="functions.html">Implementing a function</a></li>
<li class="toctree-l3"><a class="reference internal" href="events.html">Implementing an event</a></li>
<li class="toctree-l3"><a class="reference internal" href="manifest.html">Implementing a manifest property</a></li>
<li class="toctree-l3"><a class="reference internal" href="lifecycle.html">Managing the Extension Lifecycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="incognito.html">Incognito Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="other.html">Utilities for implementing APIs</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">WebExtensions Javascript Component Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#extensionapi-class">ExtensionAPI class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extension-class">Extension class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eventmanager-class">EventManager class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#basecontext-class">BaseContext class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windowmanager-class">WindowManager class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tabmanager-class">TabManager class</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Toolkit</a> &raquo;</li>
        
          <li><a href="index.html">WebExtensions API Development</a> &raquo;</li>
        
      <li>WebExtensions Javascript Component Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/toolkit/components/extensions/webextensions/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="webextensions-javascript-component-reference">
<h1>WebExtensions Javascript Component Reference<a class="headerlink" href="#webextensions-javascript-component-reference" title="Permalink to this headline">¶</a></h1>
<p>This page contains reference documentation for the individual classes
used to implement WebExtensions APIs.  This documentation is generated
from jsdoc comments in the source code.</p>
<div class="section" id="extensionapi-class">
<h2>ExtensionAPI class<a class="headerlink" href="#extensionapi-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="ExtensionAPI">
<em class="property">class </em><code class="sig-name descname">ExtensionAPI</code><span class="sig-paren">(</span><em class="sig-param">extension</em><span class="sig-paren">)</span><a class="headerlink" href="#ExtensionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for WebExtension APIs.  Each API creates a new class
that inherits from this class, the derived class is instantiated
once for each extension that uses the API.</p>
</dd></dl>

</div>
<div class="section" id="extension-class">
<h2>Extension class<a class="headerlink" href="#extension-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="Extension">
<em class="property">class </em><code class="sig-name descname">Extension</code><span class="sig-paren">(</span><em class="sig-param">addonData</em>, <em class="sig-param">startupReason</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the main representation of an active WebExtension
in the main process.</p>
<dl class="js attribute">
<dt id="Extension.activePermissions">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">activePermissions</code><a class="headerlink" href="#Extension.activePermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an object representing all capabilities this extension has
access to, including fixed ones from the manifest as well as dynamically
granted permissions.</p>
</dd></dl>

<dl class="js function">
<dt id="Extension.callOnClose">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">callOnClose</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.callOnClose" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the close() method on the given object when this extension
is shut down.  This can happen during browser shutdown, or when
an extension is manually disabled or uninstalled.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – An object on which to call the close() method when this extension is shut down.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.getLocalizedManifest">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">getLocalizedManifest</code><span class="sig-paren">(</span><em class="sig-param">locale</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.getLocalizedManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a locale and return a localized manifest.  The extension must
be initialized, and manifest parsed prior to calling.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locale</strong> (<em>string</em>) – to load, if necessary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>object</strong> – normalized manifest.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.getURL">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">getURL</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.getURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the moz-extension: URL for the given path within this
extension.</p>
<p>Must not be called unless either the <cite>id</cite> or <cite>uuid</cite> property has
already been set.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – The path portion of the URL.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>string</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.manifestError">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">manifestError</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.manifestError" title="Permalink to this definition">¶</a></dt>
<dd><p>Report an error about the extension’s manifest file.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>string</em>) – The error message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js attribute">
<dt id="Extension.manifestPermissions">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">manifestPermissions</code><a class="headerlink" href="#Extension.manifestPermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an object representing any capabilities that the extension
has access to based on fixed properties in the manifest.  The result
includes the contents of the “permissions” property as well as other
capabilities that are derived from manifest fields that users should
be informed of (e.g., origins where content scripts are injected).</p>
</dd></dl>

<dl class="js function">
<dt id="Extension.manifestWarning">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">manifestWarning</code><span class="sig-paren">(</span><em class="sig-param">message</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.manifestWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Report a warning about the extension’s manifest file.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<em>string</em>) – The warning message</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.permissionsObject">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">permissionsObject</code><span class="sig-paren">(</span><em class="sig-param">permissionsArray</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.permissionsObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an array of host and permissions, generate a structured permissions object
that contains seperate host origins and permissions arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>permissionsArray</strong> (<em>Array</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Object</strong> – permissions object</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.updatePermissions">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">updatePermissions</code><span class="sig-paren">(</span><em class="sig-param">reason</em><span class="sig-paren">)</span><a class="headerlink" href="#Extension.updatePermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Update site permissions as necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reason</strong> (<em>string|undefined</em>) – If provided, this is a BOOTSTRAP_REASON string.  If reason is undefined, addon permissions are being added or removed that may effect the site permissions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="Extension.getBootstrapScope">
<code class="sig-prename descclassname">Extension.</code><code class="sig-name descname">getBootstrapScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Extension.getBootstrapScope" title="Permalink to this definition">¶</a></dt>
<dd><p>An object used to map between extension-visible tab ids and
native Tab object</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tabManager</strong> (<em>TabManager</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="eventmanager-class">
<h2>EventManager class<a class="headerlink" href="#eventmanager-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="EventManager">
<em class="property">class </em><code class="sig-name descname">EventManager</code><span class="sig-paren">(</span><em class="sig-param">params</em><span class="sig-paren">)</span><a class="headerlink" href="#EventManager" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a generic class for managing event listeners.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="k">new</span> <span class="nx">EventManager</span><span class="p">({</span>
  <span class="nx">context</span><span class="p">,</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;api.subAPI&quot;</span><span class="p">,</span>
  <span class="nx">register</span><span class="o">:</span>  <span class="nx">fire</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">listener</span> <span class="o">=</span> <span class="p">(...)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Fire any listeners registered with addListener.</span>
      <span class="nx">fire</span><span class="p">.</span><span class="nx">async</span><span class="p">(</span><span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="c1">// Register the listener.</span>
    <span class="nx">SomehowRegisterListener</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Return a way to unregister the listener.</span>
      <span class="nx">SomehowUnregisterListener</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">api</span><span class="p">()</span>

<span class="nx">The</span> <span class="nx">result</span> <span class="nx">is</span> <span class="nx">an</span> <span class="nx">object</span> <span class="kd">with</span> <span class="nx">addListener</span><span class="p">,</span> <span class="nx">removeListener</span><span class="p">,</span> <span class="nx">and</span>
<span class="nx">hasListener</span> <span class="nx">methods</span><span class="p">.</span> <span class="sb">`context`</span> <span class="nx">is</span> <span class="nx">an</span> <span class="nx">add</span><span class="o">-</span><span class="nx">on</span> <span class="nx">scope</span> <span class="p">(</span><span class="nx">either</span> <span class="nx">an</span>
<span class="nx">ExtensionContext</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">chrome</span> <span class="nx">process</span> <span class="nx">or</span> <span class="nx">ExtensionContext</span> <span class="k">in</span> <span class="nx">a</span>
<span class="nx">content</span> <span class="nx">process</span><span class="p">).</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="basecontext-class">
<h2>BaseContext class<a class="headerlink" href="#basecontext-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="BaseContext">
<em class="property">class </em><code class="sig-name descname">BaseContext</code><span class="sig-paren">(</span><em class="sig-param">envType</em>, <em class="sig-param">extension</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext" title="Permalink to this definition">¶</a></dt>
<dd><p>This class contains the information we have about an individual
extension.  It is never instantiated directly, instead subclasses
for each type of process extend this class and add members that are
relevant for that process.</p>
<dl class="js function">
<dt id="BaseContext.close">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.close" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple proxy for unload(), for use with callOnClose().</p>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.getCaller">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">getCaller</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.getCaller" title="Permalink to this definition">¶</a></dt>
<dd><p>Captures the most recent stack frame which belongs to the extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>SavedFrame</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.jsonStringify">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">jsonStringify</code><span class="sig-paren">(</span><em class="sig-param">...args</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.jsonStringify" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely call JSON.stringify() on an object that comes from an
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>'array' ].&lt;any&gt; args</strong> (<em>[</em>) – Arguments for JSON.stringify()</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>string</strong> – The stringified representation of obj</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.normalizeError">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">normalizeError</code><span class="sig-paren">(</span><em class="sig-param">error</em>, <em class="sig-param">caller</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.normalizeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes the given error object for use by the target scope. If
the target is an error object which belongs to that scope, it is
returned as-is. If it is an ordinary object with a <cite>message</cite>
property, it is converted into an error belonging to the target
scope. If it is an Error object which does <em>not</em> belong to the
clone scope, it is reported, and converted to an unexpected
exception error.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error</strong> (<em>Error|object</em>) – </p></li>
<li><p><strong>caller</strong> (<em>SavedFrame</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Error</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.openConduit">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">openConduit</code><span class="sig-paren">(</span><em class="sig-param">subject</em>, <em class="sig-param">address</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.openConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a conduit linked to this context, populating related address fields.
Only available in child contexts with an associated contentWindow.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> (<em>object</em>) – </p></li>
<li><p><strong>address</strong> (<em>ConduitAddress</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>PointConduit</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.sendMessage">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">sendMessage</code><span class="sig-paren">(</span><em class="sig-param">target</em>, <em class="sig-param">messageName</em>, <em class="sig-param">data</em>, <em class="sig-param">options</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.sendMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper around MessageChannel.sendMessage which adds the extension ID
to the recipient object, and ensures replies are not processed after the
context has been unloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> (<em>nsIMessageManager</em>) – </p></li>
<li><p><strong>messageName</strong> (<em>string</em>) – </p></li>
<li><p><strong>data</strong> (<em>object</em>) – </p></li>
<li><p><strong>options</strong> (<em>object</em>) – </p></li>
<li><p><strong>options.sender</strong> (<em>object</em>) – </p></li>
<li><p><strong>options.recipient</strong> (<em>object</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Promise</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.withLastError">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">withLastError</code><span class="sig-paren">(</span><em class="sig-param">error</em>, <em class="sig-param">caller</em>, <em class="sig-param">callback</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.withLastError" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of <cite>.lastError</cite> to <cite>error</cite>, calls the given
callback, and reports an error if the value has not been checked
when the callback returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error</strong> (<em>object</em>) – An object with a <cite>message</cite> property. May optionally be an <cite>Error</cite> object belonging to the target scope.</p></li>
<li><p><strong>caller</strong> (<em>SavedFrame</em>) – The optional caller frame which triggered this callback, to be used in error reporting.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback to call.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>*</strong> – The return value of callback.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="BaseContext.wrapPromise">
<code class="sig-prename descclassname">BaseContext.</code><code class="sig-name descname">wrapPromise</code><span class="sig-paren">(</span><em class="sig-param">promise</em>, <em class="sig-param">callback=null</em><span class="sig-paren">)</span><a class="headerlink" href="#BaseContext.wrapPromise" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps the given promise so it can be safely returned to extension
code in this context.</p>
<p>If <cite>callback</cite> is provided, however, it is used as a completion
function for the promise, and no promise is returned. In this case,
the callback is called when the promise resolves or rejects. In the
latter case, <cite>lastError</cite> is set to the rejection value, and the
callback function must check <cite>browser.runtime.lastError</cite> or
<cite>extension.runtime.lastError</cite> in order to prevent it being reported
to the console.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>promise</strong> (<em>Promise</em>) – The promise with which to wrap the callback. May resolve to a <cite>SpreadArgs</cite> instance, in which case each element will be used as a separate argument. Unless the promise object belongs to the cloneScope global, its resolution value is cloned into cloneScope prior to calling the <cite>callback</cite> function or resolving the wrapped promise.</p></li>
<li><p><strong>callback</strong> (<em>function</em>) – The callback function to wrap</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Promise|undefined</strong> – If callback is null, a promise object belonging to the target scope. Otherwise, undefined.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="windowmanager-class">
<h2>WindowManager class<a class="headerlink" href="#windowmanager-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="WindowManagerBase">
<em class="property">class </em><code class="sig-name descname">WindowManagerBase</code><span class="sig-paren">(</span><em class="sig-param">extension</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages native browser windows and their wrappers for a particular extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extension</strong> (<a class="reference internal" href="#Extension" title="Extension"><em>Extension</em></a>) – The extension for which to manage windows.</p></li>
</ul>
</dd>
</dl>
<dl class="js function">
<dt id="WindowManagerBase.canAccessWindow">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">canAccessWindow</code><span class="sig-paren">(</span><em class="sig-param">window</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.canAccessWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this window can be accessed by the extension in the given
context.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window</strong> (<em>DOMWindow</em>) – The browser window that is being tested</p></li>
<li><p><strong>context</strong> (<em>BaseContext|null</em>) – The extension context for which this test is being performed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>boolean</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.convert">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param">window</em>, <em class="sig-param">...args</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given browser window to a JSON-compatible object, in the
format required to be returned by WebExtension APIs, which may be safely
passed to extension code.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window</strong> (<em>DOMWindow</em>) – The browser window to convert.</p></li>
<li><p><strong>args</strong> (<em>*</em>) – Additional arguments to be passed to <a class="reference external" href="mailto:{&#37;&#52;&#48;link">{<span>&#64;</span>link</a> WindowBase#convert}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Object</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.get">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a WindowBase wrapper for the browser window with the given ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>integer</em>) – The ID of the browser window for which to return a wrapper.</p></li>
<li><p><strong>context</strong> (<a class="reference internal" href="#BaseContext" title="BaseContext"><em>BaseContext</em></a>) – The extension context for which the matching is being performed. Used to determine the current window for relevant properties.</p></li>
</ul>
</dd>
<dt class="field-even">Throws</dt>
<dd class="field-even"><p><strong>ExtensionError</strong> – If no window exists with the given ID.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.getAll">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">getAll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.getAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator of WindowBase wrappers for each currently existing
browser window.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>[ 'Iterator' ].&lt;WindowBase&gt;</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.getWrapper">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">getWrapper</code><span class="sig-paren">(</span><em class="sig-param">window</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.getWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns this extension’s WindowBase wrapper for the given browser window.
This method will always return the same wrapper object for any given
browser window.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window</strong> (<em>DOMWindow</em>) – The browser window for which to return a wrapper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>WindowBase|undefined</strong> – The wrapper for this tab.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.query">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">queryInfo=null</em>, <em class="sig-param">context=null</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator of WindowBase objects which match the given query info.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queryInfo</strong> (<em>Object|null</em>) – An object containing properties on which to filter. May contain any properties which are recognized by <a class="reference external" href="mailto:{&#37;&#52;&#48;link">{<span>&#64;</span>link</a> WindowBase#matches}. Unknown properties will be ignored.</p></li>
<li><p><strong>context</strong> (<em>BaseContext|null</em>) – The extension context for which the matching is being performed. Used to determine the current window for relevant properties.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>[ 'Iterator' ].&lt;WindowBase&gt;</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="WindowManagerBase.wrapWindow">
<code class="sig-prename descclassname">WindowManagerBase.</code><code class="sig-name descname">wrapWindow</code><span class="sig-paren">(</span><em class="sig-param">window</em><span class="sig-paren">)</span><a class="headerlink" href="#WindowManagerBase.wrapWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new WindowBase instance wrapping the given browser window.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window</strong> (<em>DOMWindow</em>) – The browser window for which to return a wrapper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>WindowBase</strong> –</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tabmanager-class">
<h2>TabManager class<a class="headerlink" href="#tabmanager-class" title="Permalink to this headline">¶</a></h2>
<dl class="js class">
<dt id="TabManagerBase">
<em class="property">class </em><code class="sig-name descname">TabManagerBase</code><span class="sig-paren">(</span><em class="sig-param">extension</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages native tabs, their wrappers, and their dynamic permissions for a
particular extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extension</strong> (<a class="reference internal" href="#Extension" title="Extension"><em>Extension</em></a>) – The extension for which to manage tabs.</p></li>
</ul>
</dd>
</dl>
<dl class="js function">
<dt id="TabManagerBase.addActiveTabPermission">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">addActiveTabPermission</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.addActiveTabPermission" title="Permalink to this definition">¶</a></dt>
<dd><p>If the extension has requested activeTab permission, grant it those
permissions for the current inner window in the given native tab.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The native tab for which to grant permissions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.canAccessTab">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">canAccessTab</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.canAccessTab" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines access using extension context.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The tab to check access on.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>boolean</strong> – True if the extension has permissions for this tab.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.convert">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em>, <em class="sig-param">fallbackTabSize=null</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given native tab to a JSON-compatible object, in the format
required to be returned by WebExtension APIs, which may be safely passed to
extension code.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The native tab to convert.</p></li>
<li><p><strong>fallbackTabSize</strong> (<em>Object</em>) – A geometry data if the lazy geometry data for this tab hasn’t been initialized yet.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Object</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.get">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">id</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a TabBase wrapper for the tab with the given ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>integer</em>) – The ID of the tab for which to return a wrapper.</p></li>
</ul>
</dd>
<dt class="field-even">Throws</dt>
<dd class="field-even"><p><strong>ExtensionError</strong> – If no tab exists with the given ID.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>TabBase</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.getWrapper">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">getWrapper</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.getWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns this extension’s TabBase wrapper for the given native tab. This
method will always return the same wrapper object for any given native tab.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The tab for which to return a wrapper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>TabBase|undefined</strong> – The wrapper for this tab.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.hasActiveTabPermission">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">hasActiveTabPermission</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.hasActiveTabPermission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the extension has requested activeTab permission, and has
been granted permissions for the current inner window if this tab.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The native tab for which to check permissions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>boolean</strong> – True if the extension has activeTab permissions for this tab.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.hasTabPermission">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">hasTabPermission</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.hasTabPermission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the extension has permissions to access restricted
properties of the given native tab. In practice, this means that it has
either requested the “tabs” permission or has activeTab permissions for the
given tab.</p>
<p>NOTE: Never use this method on an object that is not a native tab
for the current platform: this method implicitly generates a wrapper
for the passed nativeTab parameter and the platform-specific tabTracker
instance is likely to store it in a map which is cleared only when the
tab is closed (and so, if nativeTab is not a real native tab, it will
never be cleared from the platform-specific tabTracker instance),
See Bug 1458918 for a rationale.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The native tab for which to check permissions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>boolean</strong> – True if the extension has permissions for this tab.</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.query">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">queryInfo=null</em>, <em class="sig-param">context=null</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator of TabBase objects which match the given query info.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queryInfo</strong> (<em>Object|null</em>) – An object containing properties on which to filter. May contain any properties which are recognized by <a class="reference external" href="mailto:{&#37;&#52;&#48;link">{<span>&#64;</span>link</a> TabBase#matches} or <a class="reference external" href="mailto:{&#37;&#52;&#48;link">{<span>&#64;</span>link</a> WindowBase#matches}. Unknown properties will be ignored.</p></li>
<li><p><strong>context</strong> (<em>BaseContext|null</em>) – The extension context for which the matching is being performed. Used to determine the current window for relevant properties.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>[ 'Iterator' ].&lt;TabBase&gt;</strong> –</p>
</dd>
</dl>
</dd></dl>

<dl class="js function">
<dt id="TabManagerBase.revokeActiveTabPermission">
<code class="sig-prename descclassname">TabManagerBase.</code><code class="sig-name descname">revokeActiveTabPermission</code><span class="sig-paren">(</span><em class="sig-param">nativeTab</em><span class="sig-paren">)</span><a class="headerlink" href="#TabManagerBase.revokeActiveTabPermission" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke the extension’s activeTab permissions for the current inner window
of the given native tab.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nativeTab</strong> (<em>NativeTab</em>) – The native tab for which to revoke permissions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../../js/index.html" class="btn btn-neutral float-right" title="SpiderMonkey" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="other.html" class="btn btn-neutral float-left" title="Utilities for implementing APIs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>