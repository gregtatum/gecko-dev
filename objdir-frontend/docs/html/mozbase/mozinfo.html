

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozinfo — Get system information &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="moznetwork — Get network information" href="moznetwork.html" />
    <link rel="prev" title="Getting information on the system under test" href="gettinginfo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">mozbase</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="manifestparser.html">Managing lists of tests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="gettinginfo.html">Getting information on the system under test</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozinfo</span></code> — Get system information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#api-usage">API Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-usage">Command Line Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="moznetwork.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">moznetwork</span></code> — Get network information</a></li>
<li class="toctree-l3"><a class="reference internal" href="mozversion.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozversion</span></code> — Get application information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="setuprunning.html">Set up and running</a></li>
<li class="toctree-l2"><a class="reference internal" href="servingcontent.html">Handling content for the browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="loggingreporting.html">Logging and reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="devicemanagement.html">Device management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">mozbase</a> &raquo;</li>
        
          <li><a href="gettinginfo.html">Getting information on the system under test</a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozinfo</span></code> — Get system information</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mozbase/mozinfo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozinfo-get-system-information">
<h1><a class="reference internal" href="#module-mozinfo" title="mozinfo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mozinfo</span></code></a> — Get system information<a class="headerlink" href="#mozinfo-get-system-information" title="Permalink to this headline">¶</a></h1>
<p>Throughout <a class="reference external" href="https://developer.mozilla.org/en/Mozmill">mozmill</a>
and other Mozilla python code, checking the underlying
platform is done in many different ways.  The various checks needed
lead to a lot of copy+pasting, leaving the reader to wonder….is this
specific check necessary for (e.g.) an operating system?  Because
information is not consolidated, checks are not done consistently, nor
is it defined what we are checking for.</p>
<p><a class="reference external" href="https://github.com/mozilla/mozbase/tree/master/mozinfo">mozinfo</a>
proposes to solve this problem.  mozinfo is a bridge interface,
making the underlying (complex) plethora of OS and architecture
combinations conform to a subset of values of relevance to
Mozilla software. The current implementation exposes relevant keys and
values such as: <code class="docutils literal notranslate"><span class="pre">os</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">bits</span></code>, and <code class="docutils literal notranslate"><span class="pre">processor</span></code>.  Additionally, the
service pack in use is available on the windows platform.</p>
<div class="section" id="api-usage">
<h2>API Usage<a class="headerlink" href="#api-usage" title="Permalink to this headline">¶</a></h2>
<p>mozinfo is a python package.  Downloading the software and running
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code> will allow you to do <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">mozinfo</span></code>
from python.
<a class="reference external" href="https://raw.github.com/mozilla/mozbase/master/mozinfo/mozinfo/mozinfo.py">mozinfo.py</a>
is the only file contained is this package,
so if you need a single-file solution, you can just download or call
this file through the web.</p>
<p>The top level attributes (<code class="docutils literal notranslate"><span class="pre">os</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, <code class="docutils literal notranslate"><span class="pre">bits</span></code>, <code class="docutils literal notranslate"><span class="pre">processor</span></code>) are
available as module globals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">mozinfo</span><span class="o">.</span><span class="n">os</span> <span class="o">==</span> <span class="s1">&#39;win&#39;</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>In addition, mozinfo exports a dictionary, <code class="docutils literal notranslate"><span class="pre">mozinfo.info</span></code>, that
contain these values.  mozinfo also exports:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">choices</span></code>: a dictionary of possible values for os, bits, and
processor</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">main</span></code>: the console_script entry point for mozinfo</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unknown</span></code>: a singleton denoting a value that cannot be determined</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">unknown</span></code> has the string representation <code class="docutils literal notranslate"><span class="pre">&quot;UNKNOWN&quot;</span></code>.
<code class="docutils literal notranslate"><span class="pre">unknown</span></code> will evaluate as <code class="docutils literal notranslate"><span class="pre">False</span></code> in python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">mozinfo</span><span class="o">.</span><span class="n">os</span><span class="p">:</span> <span class="o">...</span> <span class="c1"># unknown!</span>
</pre></div>
</div>
</div>
<div class="section" id="command-line-usage">
<h2>Command Line Usage<a class="headerlink" href="#command-line-usage" title="Permalink to this headline">¶</a></h2>
<p>mozinfo comes with a command line program, <code class="docutils literal notranslate"><span class="pre">mozinfo</span></code> which may be used to
diagnose one’s current system.</p>
<p>Example output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">os</span><span class="p">:</span> <span class="n">linux</span>
<span class="n">version</span><span class="p">:</span> <span class="n">Ubuntu</span> <span class="mf">10.10</span>
<span class="n">bits</span><span class="p">:</span> <span class="mi">32</span>
<span class="n">processor</span><span class="p">:</span> <span class="n">x86</span>
</pre></div>
</div>
<p>Three of these fields, os, bits, and processor, have a finite set of
choices.  You may display the value of these choices using
<code class="docutils literal notranslate"><span class="pre">mozinfo</span> <span class="pre">--os</span></code>, <code class="docutils literal notranslate"><span class="pre">mozinfo</span> <span class="pre">--bits</span></code>, and <code class="docutils literal notranslate"><span class="pre">mozinfo</span> <span class="pre">--processor</span></code>.
<code class="docutils literal notranslate"><span class="pre">mozinfo</span> <span class="pre">--help</span></code> documents command-line usage.</p>
<span class="target" id="module-mozinfo"></span><dl class="py class">
<dt id="mozinfo.StringVersion">
<em class="property">class </em><code class="sig-prename descclassname">mozinfo.</code><code class="sig-name descname">StringVersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vstring</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozinfo.StringVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>A string version that can be compared with comparison operators.</p>
</dd></dl>

<dl class="py function">
<dt id="mozinfo.find_and_update_from_json">
<code class="sig-prename descclassname">mozinfo.</code><code class="sig-name descname">find_and_update_from_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">dirs</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozinfo.find_and_update_from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a mozinfo.json file, load it, and update global symbol table.</p>
<p>This method will first check the relevant objdir directory for the
necessary mozinfo.json file, if the current script is being run from a
Mozilla objdir.</p>
<p>If the objdir directory did not supply the necessary data, this method
will then look for the required mozinfo.json file from the provided
tuple of directories.</p>
<p>If file is found, the global symbols table is updated via a helper method.</p>
<p>If no valid files are found, this method no-ops unless the raise_exception
kwargs is provided with explicit boolean value of True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dirs</strong> (<em>tuple</em>) – Directories in which to look for the file.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>optional values:
raise_exception: if True, exceptions are raised.</p>
<blockquote>
<div><p>False by default.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None: default behavior if mozinfo.json cannot be found.
json_path: string representation of mozinfo.json path.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>IOError: if raise_exception is True and file is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozinfo.update">
<code class="sig-prename descclassname">mozinfo.</code><code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozinfo.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_info</strong> – Either a dict containing the new info or a path/url
to a json file containing the new info.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="moznetwork.html" class="btn btn-neutral float-right" title="moznetwork — Get network information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gettinginfo.html" class="btn btn-neutral float-left" title="Getting information on the system under test" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>