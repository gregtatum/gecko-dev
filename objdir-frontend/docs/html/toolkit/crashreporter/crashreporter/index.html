

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Crash Reporter &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Using the Mozilla symbol server" href="Using_the_Mozilla_symbol_server.html" />
    <link rel="prev" title="Crash Events" href="../../components/crashes/crash-manager/crash-events.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Toolkit</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../mozapps/extensions/addon-manager/index.html">Add-on Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/crashes/crash-manager/index.html">Crash Manager</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Crash Reporter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-main-process-crash-handling-works">How Main-Process Crash Handling Works</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plugin-and-child-process-crashes">Plugin and Child Process Crashes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#memory-reports">Memory Reports</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flash-process-crashes">Flash Process Crashes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plugin-hangs">Plugin Hangs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#about-crashes">about:crashes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables-affecting-crash-reporting">Environment variables affecting crash reporting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#user-specified-environment-variables">User-specified environment variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-variables-used-internally">Environment variables used internally</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-topics">Other topics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Using_the_Mozilla_symbol_server.html">Using the Mozilla symbol server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../components/featuregates/featuregates/index.html">Feature Gates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../search/index.html">Search Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/normandy/normandy/index.html">Shield Recipe Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/messaging-system/docs/index.html">Messaging System Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/pictureinpicture/pictureinpicture/index.html">Picture-in-Picture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/prompts/prompts/index.html">Prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/subprocess/toolkit_modules/subprocess/index.html">Subprocess Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/telemetry/index.html">Telemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/glean/index.html">Firefox on Glean (FOG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/toolkit_modules/index.html">Toolkit Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../content/toolkit_widgets/index.html">Toolkit Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/url-classifier/url-classifier/index.html">URL Classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../components/extensions/webextensions/index.html">WebExtensions API Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Toolkit</a> &raquo;</li>
        
      <li>Crash Reporter</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/toolkit/crashreporter/crashreporter/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="crash-reporter">
<h1>Crash Reporter<a class="headerlink" href="#crash-reporter" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The <strong>crash reporter</strong> is a subsystem to record and manage application
crash data.</p>
<p>While the subsystem is known as <em>crash reporter</em>, it helps to think of
it more as a <em>process dump manager</em>. This is because the heart of this
subsystem is really managing process dump files and these files are
created not only from process crashes but also from hangs and other
exceptional events.</p>
<p>The crash reporter subsystem is composed of a number of pieces working
together.</p>
<dl class="simple">
<dt>Breakpad</dt><dd><p>Breakpad is a library and set of tools to make collecting process
information (notably dumps from crashes) easy. Breakpad is a 3rd
party project (originally developed by Google) that is imported into
the tree.</p>
</dd>
<dt>Dump files</dt><dd><p>Breakpad produces files called <em>dump files</em> that hold process data
(stacks, heap data, etc).</p>
</dd>
<dt>Crash Reporter Client</dt><dd><p>The crash reporter client is a standalone executable that is launched
to handle dump files. This application optionally submits crashes to
Mozilla (or the configured server).</p>
</dd>
<dt>Minidump Analyzer</dt><dd><p>The minidump analyzer is a standalone executable that is launched by the
crash reporter client or by the browser itself to extract stack traces from
the dump files generated during a crash. It appends the stack traces to the
.extra file associated with the crash dump.</p>
</dd>
<dt>Ping Sender</dt><dd><p>The ping sender is a standalone executable that is launched by the crash
reporter client to deliver a crash ping to our telemetry servers. The ping
sender is used to speed up delivery of the crash ping which would otherwise
have to wait for Firefox to be restarted in order to be sent.</p>
</dd>
</dl>
</div>
<div class="section" id="how-main-process-crash-handling-works">
<h2>How Main-Process Crash Handling Works<a class="headerlink" href="#how-main-process-crash-handling-works" title="Permalink to this headline">¶</a></h2>
<p>The crash handler is hooked up very early in the Gecko process lifetime.
It all starts in <code class="docutils literal notranslate"><span class="pre">XREMain::XRE_mainInit()</span></code> from <code class="docutils literal notranslate"><span class="pre">nsAppRunner.cpp</span></code>.
Assuming crash reporting is enabled, this startup function registers an
exception handler for the process and tells the crash reporter subsystem
about basic metadata such as the application name and version.</p>
<p>The registration of the crash reporter exception handler doubles as
initialization of the crash reporter itself. This happens in
<code class="docutils literal notranslate"><span class="pre">CrashReporter::SetExceptionHandler()</span></code> from <code class="docutils literal notranslate"><span class="pre">nsExceptionHandler.cpp</span></code>.
The crash reporter figures out what application to use for reporting
dumped crashes and where to store these dump files on disk. The Breakpad
exception handler (really just a mechanism for dumping process state) is
initialized as part of this function. The Breakpad exception handler is
a <code class="docutils literal notranslate"><span class="pre">google_breakpad::ExceptionHandler</span></code> instance and it’s stored as
<code class="docutils literal notranslate"><span class="pre">gExceptionHandler</span></code>.</p>
<p>As the application runs, various other systems may write <em>annotations</em>
or <em>notes</em> to the crash reporter to indicate state of the application,
help with possible reasons for a current or future crash, etc. These are
performed via <code class="docutils literal notranslate"><span class="pre">CrashReporter::AnnotateCrashReport()</span></code> and
<code class="docutils literal notranslate"><span class="pre">CrashReporter::AppendAppNotesToCrashReport()</span></code> from
<code class="docutils literal notranslate"><span class="pre">nsExceptionHandler.h</span></code>.</p>
<p>For well running applications, this is all that happens. However, if a
crash or similar exceptional event occurs (such as a hang), we need to
write a crash report.</p>
<p>When an event worthy of writing a dump occurs, the Breakpad exception
handler is invoked and Breakpad does its thing. When Breakpad has
finished, it calls back into <code class="docutils literal notranslate"><span class="pre">CrashReporter::MinidumpCallback()</span></code> from
<code class="docutils literal notranslate"><span class="pre">nsExceptionHandler.cpp</span></code> to tell the crash reporter about what was
written.</p>
<p><code class="docutils literal notranslate"><span class="pre">MinidumpCallback()</span></code> performs a number of actions once a dump has been
written. It writes a file with the time of the crash so other systems can
easily determine the time of the last crash. It supplements the dump
file with an <em>extra</em> file containing Mozilla-specific metadata. This data
includes the annotations set via <code class="docutils literal notranslate"><span class="pre">CrashReporter::AnnotateCrashReport()</span></code>
as well as time since last crash, whether garbage collection was active at
the time of the crash, memory statistics, etc.</p>
<p>If the <em>crash reporter client</em> is enabled, <code class="docutils literal notranslate"><span class="pre">MinidumpCallback()</span></code> invokes
it. It simply tries to create a new <em>crash reporter client</em> process (e.g.
<em>crashreporter.exe</em>) with the path to the written minidump file as an
argument.</p>
<p>The <em>crash reporter client</em> performs a number of roles. There’s a lot going
on, so you may want to look at <code class="docutils literal notranslate"><span class="pre">main()</span></code> in <code class="docutils literal notranslate"><span class="pre">crashreporter.cpp</span></code>. First,
stack traces are extracted from the dump via the <em>minidump analyzer</em> tool.
The resulting traces are appended to the .extra file of the crash together with
the SHA256 hash of the minidump file. Once this
is done a crash ping is assembled holding the same information as the one
generated by the <code class="docutils literal notranslate"><span class="pre">`CrashManager`</span></code> and it’s sent to the telemetry servers via
the <em>ping sender</em> program. The UUID of the ping is then stored in the extra
file; the <code class="docutils literal notranslate"><span class="pre">`CrashManager`</span></code> will later pick it up and generate a new ping
with the same UUID so that the telemetry server can deduplicate both pings.
Then, the
<em>crash reporter client</em> verifies that the dump data is sane. If it isn’t
(e.g. required metadata is missing), the dump data is ignored. If dump data
looks sane, the dump data
is moved into the <em>pending</em> directory for the configured data directory
(defined via the <code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_DATA_DIRECTORY</span></code> environment variable
or from the UI). Once this is done, the main crash reporter UI is displayed
via <code class="docutils literal notranslate"><span class="pre">UIShowCrashUI()</span></code>. The crash reporter UI is platform specific: there
are separate versions for Windows, OS X, and various *NIX presentation
flavors (such as GTK). The basic gist is a dialog is displayed to the user
and the user has the opportunity to submit this dump data to a remote
server.</p>
<p>If a dump is submitted via the crash reporter, the raw dump files are
removed from the <em>pending</em> directory and a file containing the
crash ID from the remote server for the submitted dump is created in the
<em>submitted</em> directory.</p>
<p>If the user chooses not to submit a dump in the crash reporter UI, the dump
files are deleted.</p>
<p>And that’s pretty much what happens when a crash/dump is written!</p>
</div>
<div class="section" id="plugin-and-child-process-crashes">
<h2>Plugin and Child Process Crashes<a class="headerlink" href="#plugin-and-child-process-crashes" title="Permalink to this headline">¶</a></h2>
<p>Crashes in plugin and child processes are also managed by the crash
reporting subsystem.</p>
<p>Child process crashes are handled by the <code class="docutils literal notranslate"><span class="pre">mozilla::dom::CrashReporterParent</span></code>
class defined in <code class="docutils literal notranslate"><span class="pre">dom/ipc</span></code>. When a child process crashes, the toplevel IPDL
actor should check for it by calling TakeMinidump in its <code class="docutils literal notranslate"><span class="pre">ActorDestroy</span></code>
Method: see <code class="docutils literal notranslate"><span class="pre">mozilla::plugins::PluginModuleParent::ActorDestroy</span></code> and
<code class="docutils literal notranslate"><span class="pre">mozilla::plugins::PluginModuleParent::ProcessFirstMinidump</span></code>. That method
is responsible for calling
<code class="docutils literal notranslate"><span class="pre">mozilla::dom::CrashReporterParent::GenerateCrashReportForMinidump</span></code> with
appropriate crash annotations specific to the crash. All child-process
crashes are annotated with a <code class="docutils literal notranslate"><span class="pre">ProcessType</span></code> annotation, such as “content” or
“plugin”.</p>
<p>Once the minidump file has been generated the
<code class="docutils literal notranslate"><span class="pre">mozilla::dom::CrashReporterHost</span></code> is notified of the crash. It will first
try to extract the stack traces from the minidump file using the
<em>minidump analyzer</em>. Then the stack traces will be stored in the extra file
together with the rest of the crash annotations and finally the crash will be
recorded by calling <code class="docutils literal notranslate"><span class="pre">`CrashService.addCrash()`</span></code>. This last step adds the
crash to the <code class="docutils literal notranslate"><span class="pre">`CrashManager`</span></code> database and automatically sends a crash ping
with information about the crash.</p>
<p>Submission of child process crashes is handled by application code. This
code prompts the user to submit crashes in context-appropriate UI and then
submits the crashes using <code class="docutils literal notranslate"><span class="pre">CrashSubmit.jsm</span></code>.</p>
</div>
<div class="section" id="memory-reports">
<h2>Memory Reports<a class="headerlink" href="#memory-reports" title="Permalink to this headline">¶</a></h2>
<p>When a process detects that it is running low on memory, a memory report is
saved. If the process crashes, the memory report will be included with the crash
report. <code class="docutils literal notranslate"><span class="pre">nsThread::SaveMemoryReportNearOOM()</span></code> checks to see if the process is
low on memory every 30 seconds at most and saves a report every 3 minutes at
most. Since a child process cannot actually save to the hard drive, it instead
notifies its parent process, which saves the report for it. If a crash does
occur, the memory report is moved to the <em>pending</em> directory with the other dump
data and an annotation is added to indicate the presence of the report. This
happens in <code class="docutils literal notranslate"><span class="pre">nsExceptionHandler.cpp</span></code>, but occurs in different functions
depending on what process crashed. When the main process crashes, this happens
in <code class="docutils literal notranslate"><span class="pre">MinidumpCallback()</span></code>. When a child process crashes, it happens in
<code class="docutils literal notranslate"><span class="pre">OnChildProcessDumpRequested()</span></code>, with the annotation being added in
<code class="docutils literal notranslate"><span class="pre">WriteExtraData()</span></code>.</p>
</div>
<div class="section" id="flash-process-crashes">
<h2>Flash Process Crashes<a class="headerlink" href="#flash-process-crashes" title="Permalink to this headline">¶</a></h2>
<p>On Windows Vista+, the Adobe Flash plugin creates two extra processes in its
Firefox plugin to implement OS-level sandboxing. In order to catch crashes in
these processes, Firefox injects a crash report handler into the process using the code at <code class="docutils literal notranslate"><span class="pre">InjectCrashReporter.cpp</span></code>. When these crashes occur, the
ProcessType=plugin annotation is present, and an additional annotation
FlashProcessDump has the value “Sandbox” or “Broker”.</p>
</div>
<div class="section" id="plugin-hangs">
<h2>Plugin Hangs<a class="headerlink" href="#plugin-hangs" title="Permalink to this headline">¶</a></h2>
<p>Plugin hangs are handled as crash reports. If a plugin doesn’t respond to an
IPC message after 60 seconds, the plugin IPC code will take minidumps of all
of the processes involved and then kill the plugin.</p>
<p>In this case, there will be only one .ini file with the crash report metadata,
but there will be multiple dump files: at least one for the browser process and
one for the plugin process, and perhaps also additional dumps for the Flash
sandbox and broker processes. All of these files are submitted together as a
unit. Before submission, the filenames of the files are linked:</p>
<ul class="simple">
<li><p><strong>uuid.ini</strong> - <em>annotations, includes an additional_minidumps field</em></p></li>
<li><p><strong>uuid.dmp</strong> - <em>plugin process dump file</em></p></li>
<li><p><strong>uuid-&lt;other&gt;.dmp</strong> - <em>other process dump file as listed in additional_minidumps</em></p></li>
</ul>
</div>
<div class="section" id="about-crashes">
<h2><a class="reference external" href="about:crashes">about:crashes</a><a class="headerlink" href="#about-crashes" title="Permalink to this headline">¶</a></h2>
<p>If the crash reporter subsystem is enabled, the <em>about:crashes</em>
page will be registered with the application. This page provides
information about previous and submitted crashes.</p>
<p>It is also possible to submit crashes from <em>about:crashes</em>.</p>
</div>
<div class="section" id="environment-variables-affecting-crash-reporting">
<h2>Environment variables affecting crash reporting<a class="headerlink" href="#environment-variables-affecting-crash-reporting" title="Permalink to this headline">¶</a></h2>
<p>The exception handler and crash reporter client behavior can be altered by
setting certain environment variables, some of these variables are used for
testing but quite a few have only internal users.</p>
<div class="section" id="user-specified-environment-variables">
<h3>User-specified environment variables<a class="headerlink" href="#user-specified-environment-variables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER</span></code> - The opposite of MOZ_CRASHREPORTER_DISABLE, force
crash reporting on even if disabled in application.ini. You must use this to
enable crash reporting on debug builds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_DISABLE</span></code> - Disable Breakpad crash reporting completely
in non-debug builds. You can use this if you would rather use the JIT
debugger on Windows with the symbol server, for example.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_FULLDUMP</span></code> - Store full application memory in the
minidump, so you can open it in a Microsoft debugger. Don’t submit it to the
server. (Windows only.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_NO_DELETE_DUMP</span></code> - Don’t delete the crash report dump
file after submitting it to the server. Minidumps will still be moved to the
“Crash Reports/pending” directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_NO_REPORT</span></code> - Save the minidump file but don’t launch the
crash reporting UI or send the report to the server. Minidumps will be stored
in the user’s profile directory, in a subdirectory named “minidumps”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_SHUTDOWN</span></code> - Save the minidump and then force the
application to close. This is useful for content crashes that don’t normally
close the chrome (main application) processes. This variable would cause the
application to close as well.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_URL</span></code> - Sets the URL that the crash reporter will submit
reports to.</p></li>
</ul>
</div>
<div class="section" id="environment-variables-used-internally">
<h3>Environment variables used internally<a class="headerlink" href="#environment-variables-used-internally" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_AUTO_SUBMIT</span></code> - When set causes the crash reporter client
to skip the UI flow and submit the crash report directly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_DATA_DIRECTORY</span></code> - Platform dependent data directory, the
pending crash reports will be stored in a subdirectory of this path. This
overrides the default one generated by the client’s code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_DUMP_ALL_THREADS</span></code> - When set to 1 stack traces for
all threads are generated and sent in the crash ping, when not set only the
trace for the crashing thread will be generated instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_EVENTS_DIRECTORY</span></code> - Path of the directory holding the
crash event files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_PING_DIRECTORY</span></code> - Path of the directory holding the
pending crash ping files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_RESTART_ARG_&lt;n&gt;</span></code> - Each of these variable specifies one
of the arguments that had been passed to the application, the crash reporter
client uses them for restarting it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_RESTART_XUL_APP_FILE</span></code> - If a XUL app file was specified
when starting the app it has to be stored in this variable so that the crash
reporter client can restart the application.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MOZ_CRASHREPORTER_STRINGS_OVERRIDE</span></code> - Overrides the path used to load the
.ini file holding the strings used in the crash reporter client UI.</p></li>
</ul>
</div>
</div>
<div class="section" id="other-topics">
<h2>Other topics<a class="headerlink" href="#other-topics" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Using_the_Mozilla_symbol_server.html">Using the Mozilla symbol server</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Using_the_Mozilla_symbol_server.html" class="btn btn-neutral float-right" title="Using the Mozilla symbol server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../components/crashes/crash-manager/crash-events.html" class="btn btn-neutral float-left" title="Crash Events" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>