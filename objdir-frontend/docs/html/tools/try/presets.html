

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Presets &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Task Generation" href="tasks.html" />
    <link rel="prev" title="Scriptworker Selector" href="selectors/scriptworker.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoViewâ€™s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Try Server</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#using-try">Using Try</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#attaching-new-jobs-from-a-review">Attaching new jobs from a review</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#table-of-contents">Table of Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="configuration.html">Configuring Try</a></li>
<li class="toctree-l3"><a class="reference internal" href="selectors/index.html">Selectors</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Presets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-presets">Using Presets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-and-sharing-presets">Editing and Sharing Presets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tasks.html">Task Generation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Try Server</a> &raquo;</li>
        
      <li>Presets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tools/try/presets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="presets">
<h1>Presets<a class="headerlink" href="#presets" title="Permalink to this headline">Â¶</a></h1>
<p>Some selectors, such as <code class="docutils literal notranslate"><span class="pre">fuzzy</span></code> and <code class="docutils literal notranslate"><span class="pre">syntax</span></code>, allow saving and loading presets from a file. This is a
good way to re-use a selection, either at a later date or by sharing with others. Look for a
â€˜presetâ€™ section in <code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">&lt;selector&gt;</span> <span class="pre">--help</span></code> to determine whether the selector supports this
functionality.</p>
<div class="section" id="using-presets">
<h2>Using Presets<a class="headerlink" href="#using-presets" title="Permalink to this headline">Â¶</a></h2>
<p>To save a preset, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ mach try &lt;selector&gt; --save &lt;name&gt; &lt;args&gt;
</pre></div>
</div>
<p>For example, to save a preset that selects all Windows mochitests:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ mach try fuzzy --save all-windows-mochitests --query <span class="s2">&quot;&#39;win &#39;mochitest&quot;</span>
preset saved, run with: --preset<span class="o">=</span>all-windows-mochitests
</pre></div>
</div>
<p>Then run that saved preset like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ mach try --preset all-windows-mochitests
</pre></div>
</div>
<p>To see a list of all available presets run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ mach try --list-presets
</pre></div>
</div>
</div>
<div class="section" id="editing-and-sharing-presets">
<h2>Editing and Sharing Presets<a class="headerlink" href="#editing-and-sharing-presets" title="Permalink to this headline">Â¶</a></h2>
<p>Presets can be defined in one of two places, in your home directory or in a file checked into
mozilla-central.</p>
<div class="section" id="local-presets">
<h3>Local Presets<a class="headerlink" href="#local-presets" title="Permalink to this headline">Â¶</a></h3>
<p>These are defined in your <code class="docutils literal notranslate"><span class="pre">$MOZBUILD_STATE_DIR</span></code>, typically <code class="docutils literal notranslate"><span class="pre">~/.mozbuild/try_presets.yml</span></code>.
Presets defined here are your own personal collection of presets. You can modify them by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ./mach try --edit-presets
</pre></div>
</div>
</div>
<div class="section" id="shared-presets">
<h3>Shared Presets<a class="headerlink" href="#shared-presets" title="Permalink to this headline">Â¶</a></h3>
<p>You can also check presets into mozilla-central in <a class="reference external" href="https://searchfox.org/mozilla-central/source/tools/tryselect/try_presets.yml">tools/tryselect/try_presets.yml</a>. These presets
will be available to all users of <code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">try</span></code>, so please be mindful when editing this file. Make
sure the name of the preset is scoped appropriately (i.e doesnâ€™t contain any team or module specific
terminology). It is good practice to prefix the preset name with the name of the team or module that
will get the most use out of it.</p>
</div>
<div class="section" id="preset-format">
<h3>Preset Format<a class="headerlink" href="#preset-format" title="Permalink to this headline">Â¶</a></h3>
<p>Presets are simple key/value objects, with the name as the key and a metadata object as the value.
For example, the preset saved above would look something like this in <code class="docutils literal notranslate"><span class="pre">try_presets.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">all-windows-mochitests</span><span class="p">:</span>
    <span class="nt">selector</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fuzzy</span>
    <span class="nt">description</span><span class="p">:</span> <span class="p p-Indicator">&gt;-</span>
        <span class="no">Runs all windows mochitests.</span>
    <span class="nt">query</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="s">&quot;&#39;win</span><span class="nv"> </span><span class="s">&#39;mochitest&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">selector</span></code> key (required) allows <code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">try</span></code> to determine which subcommand to dispatch to.
The <code class="docutils literal notranslate"><span class="pre">description</span></code> key (optional in user presets but required for shared presets) is a human
readable string describing what the preset selects and when to use it. All other values in the
preset are forwarded to the specified selector as is.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tasks.html" class="btn btn-neutral float-right" title="Task Generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="selectors/scriptworker.html" class="btn btn-neutral float-left" title="Scriptworker Selector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>