

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>C++ Coding style &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mode line" href="coding_style_general.html" />
    <link rel="prev" title="Coding style" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Code quality</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../static-analysis.html">Static analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lint/index.html">Linting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Coding style</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">C++ Coding style</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#formatting-code">Formatting code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#static-analysis">Static analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-rules">Additional rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-c-practices">C/C++ practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#com-and-pointers">COM and pointers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#idl">IDL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-handling">Error handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#strings">Strings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage-of-pr-max-min-abs-roundup-macro-calls">Usage of PR_(MAX|MIN|ABS|ROUNDUP) macro calls</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="coding_style_general.html">Mode line</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding_style_java.html">Java Coding style</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding_style_js.html">JavaScript Coding style</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding_style_other.html">Other coding style</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding_style_python.html">Python Coding style</a></li>
<li class="toctree-l3"><a class="reference internal" href="format_cpp_code_with_clang-format.html">Formatting C++ Code With clang-format</a></li>
<li class="toctree-l3"><a class="reference internal" href="using_cxx_in_firefox_code.html">Using C++ in Mozilla code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Code quality</a> &raquo;</li>
        
          <li><a href="index.html">Coding style</a> &raquo;</li>
        
      <li>C++ Coding style</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/code-quality/coding-style/coding_style_cpp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="c-coding-style">
<h1>C++ Coding style<a class="headerlink" href="#c-coding-style" title="Permalink to this headline">¶</a></h1>
<p>This document attempts to explain the basic styles and patterns used in
the Mozilla codebase. New code should try to conform to these standards,
so it is as easy to maintain as existing code. There are exceptions, but
it’s still important to know the rules!</p>
<p>This article is particularly for those new to the Mozilla codebase, and
in the process of getting their code reviewed. Before requesting a
review, please read over this document, making sure that your code
conforms to recommendations.</p>
<div class="blockindicator warning docutils container">
<p>The Firefox code base adopts parts of the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google Coding style for C++
code</a>, but not all of its rules.
A few rules are followed across the code base, others are intended to be
followed in new or significantly revised code. We may extend this list in the
future, when we evaluate the Google Coding Style for C++ Code further and/or update
our coding practices. However, the plan is not to adopt all rules of the Google Coding
Style for C++ Code. Some rules are explicitly unlikely to be adopted at any time.</p>
<p>Followed across the code base:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Formatting">Formatting</a>,
except for subsections noted here otherwise</p></li>
<li><p><a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Implicit_Conversions">Implicit Conversions</a>,
which is enforced by a custom clang-plugin check, unless explicitly overridden using
<code class="docutils literal notranslate"><span class="pre">MOZ_IMPLICIT</span></code></p></li>
</ul>
<p>Followed in new/significantly revised code:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://google.github.io/styleguide/cppguide.html#The__define_Guard">Include guards</a></p></li>
</ul>
<p>Unlikely to be ever adopted:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Forward_Declarations">Forward declarations</a></p></li>
<li><p><a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Conditionals">Formatting/Conditionals</a>
w.r.t. curly braces around inner statements, we require them in all cases where the
Google style allows to leave them out for single-line conditional statements</p></li>
</ul>
<p>This list reflects the state of the Google Google Coding Style for C++ Code as of
2020-07-17. It may become invalid when the Google modifies its Coding Style.</p>
</div>
<div class="section" id="formatting-code">
<h2>Formatting code<a class="headerlink" href="#formatting-code" title="Permalink to this headline">¶</a></h2>
<p>Formatting is done automatically via clang-format, and controlled via in-tree
configuration files. See <a class="reference internal" href="format_cpp_code_with_clang-format.html#formatting-c-code-with-clang-format"><span class="std std-ref">Formatting C++ Code With clang-format</span></a>
for more information.</p>
<p>Unix-style linebreaks (<code class="docutils literal notranslate"><span class="pre">\n</span></code>), not Windows-style (<code class="docutils literal notranslate"><span class="pre">\r\n</span></code>). You can
convert patches, with DOS newlines to Unix via the <code class="docutils literal notranslate"><span class="pre">dos2unix</span></code> utility,
or your favorite text editor.</p>
</div>
<div class="section" id="static-analysis">
<h2>Static analysis<a class="headerlink" href="#static-analysis" title="Permalink to this headline">¶</a></h2>
<p>Several of the rules in the Google C++ coding styles and the additions mentioned below
can be checked via clang-tidy (some rules are from the upstream clang-tidy, some are
provided via a mozilla-specific plugin). Some of these checks also allow fixes to
be automatically applied.</p>
<p><code class="docutils literal notranslate"><span class="pre">mach</span> <span class="pre">static-analysis</span></code> provides a convenient way to run these checks. For example,
for the check called <code class="docutils literal notranslate"><span class="pre">google-readability-braces-around-statements</span></code>, you can run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./mach static-analysis check --checks<span class="o">=</span><span class="s2">&quot;-*,google-readability-braces-around-statements&quot;</span> --fix &lt;file&gt;
</pre></div>
</div>
<p>It may be necessary to reformat the files after automatically applying fixes, see
<a class="reference internal" href="format_cpp_code_with_clang-format.html#formatting-c-code-with-clang-format"><span class="std std-ref">Formatting C++ Code With clang-format</span></a>.</p>
</div>
<div class="section" id="additional-rules">
<h2>Additional rules<a class="headerlink" href="#additional-rules" title="Permalink to this headline">¶</a></h2>
<p><em>The norms in this section should be followed for new code. For existing code,
use the prevailing style in a file or module, ask the owner if you are
in another team’s codebase or it’s not clear what style to use.</em></p>
<div class="section" id="control-structures">
<h3>Control structures<a class="headerlink" href="#control-structures" title="Permalink to this headline">¶</a></h3>
<p>Always brace controlled statements, even a single-line consequent of
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">else</span> <span class="pre">else</span></code>. This is redundant, typically, but it avoids dangling
else bugs, so it’s safer at scale than fine-tuning.</p>
<p>Examples:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(...)</span> <span class="p">{</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(...)</span> <span class="p">{</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(...)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(...);</span>

<span class="k">for</span> <span class="p">(...;</span> <span class="p">...;</span> <span class="p">...)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(...)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="mi">1</span><span class="o">:</span> <span class="p">{</span>
    <span class="c1">// When you need to declare a variable in a switch, put the block in braces.</span>
    <span class="kt">int</span> <span class="n">var</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
    <span class="p">...</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">else</span></code> should only ever be followed by <code class="docutils literal notranslate"><span class="pre">{</span></code> or <code class="docutils literal notranslate"><span class="pre">if</span></code>; i.e., other
control keywords are not allowed and should be placed inside braces.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For this rule, clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">google-readability-braces-around-statements</span></code>
check with autofixes.</p>
</div>
</div>
<div class="section" id="c-namespaces">
<h3>C++ namespaces<a class="headerlink" href="#c-namespaces" title="Permalink to this headline">¶</a></h3>
<p>Mozilla project C++ declarations should be in the <code class="docutils literal notranslate"><span class="pre">mozilla</span></code>
namespace. Modules should avoid adding nested namespaces under
<code class="docutils literal notranslate"><span class="pre">mozilla</span></code>, unless they are meant to contain names which have a high
probability of colliding with other names in the code base. For example,
<code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Path</span></code>, etc. Such symbols can be put under
module-specific namespaces, under <code class="docutils literal notranslate"><span class="pre">mozilla</span></code>, with short
all-lowercase names. Other global namespaces besides <code class="docutils literal notranslate"><span class="pre">mozilla</span></code> are
not allowed.</p>
<p>No <code class="docutils literal notranslate"><span class="pre">using</span></code> directives are allowed in header files, except inside class
definitions or functions. (We don’t want to pollute the global scope of
compilation units that use the header file.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For parts of this rule, clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">google-global-names-in-headers</span></code>
check. It only detects <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span></code> directives in the global namespace.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">...;</span></code> is only allowed in <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> files after all
<code class="docutils literal notranslate"><span class="pre">#include</span></code>s. Prefer to wrap code in <code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">...</span> <span class="pre">{</span> <span class="pre">...</span> <span class="pre">};</span></code>
instead, if possible. <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">...;</span></code>should always specify
the fully qualified namespace. That is, to use <code class="docutils literal notranslate"><span class="pre">Foo::Bar</span></code> do not
write <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">Foo;</span> <span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">Bar;</span></code>, write
<code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span> <span class="pre">Foo::Bar;</span></code></p>
<p>Use nested namespaces (ex: <code class="docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">mozilla::widget</span> <span class="pre">{</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">modernize-concat-nested-namespaces</span></code>
check with autofixes.</p>
</div>
</div>
<div class="section" id="anonymous-namespaces">
<h3>Anonymous namespaces<a class="headerlink" href="#anonymous-namespaces" title="Permalink to this headline">¶</a></h3>
<p>We prefer using <code class="docutils literal notranslate"><span class="pre">static</span></code>, instead of anonymous C++ namespaces. This may
change once there is better debugger support (especially on Windows) for
placing breakpoints, etc. on code in anonymous namespaces. You may still
use anonymous namespaces for things that can’t be hidden with <code class="docutils literal notranslate"><span class="pre">static</span></code>,
such as types, or certain objects which need to be passed to template
functions.</p>
</div>
<div class="section" id="c-classes">
<h3>C++ classes<a class="headerlink" href="#c-classes" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">mozilla</span> <span class="p">{</span>

<span class="k">class</span> <span class="nc">MyClass</span> <span class="o">:</span> <span class="k">public</span> <span class="n">A</span>
<span class="p">{</span>
  <span class="p">...</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">MyClass</span>
  <span class="o">:</span> <span class="k">public</span> <span class="n">X</span>
  <span class="p">,</span> <span class="k">public</span> <span class="n">Y</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span> <span class="n">aVar</span><span class="p">,</span> <span class="kt">int</span> <span class="n">aVar2</span><span class="p">)</span>
    <span class="o">:</span> <span class="n">mVar</span><span class="p">(</span><span class="n">aVar</span><span class="p">)</span>
    <span class="p">,</span> <span class="n">mVar2</span><span class="p">(</span><span class="n">aVar2</span><span class="p">)</span>
  <span class="p">{</span>
     <span class="p">...</span>
  <span class="p">}</span>

  <span class="c1">// Special member functions, like constructors, that have default bodies</span>
  <span class="c1">// should use &#39;= default&#39; annotation instead.</span>
  <span class="n">MyClass</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>

  <span class="c1">// Unless it&#39;s a copy or move constructor or you have a specific reason to allow</span>
  <span class="c1">// implicit conversions, mark all single-argument constructors explicit.</span>
  <span class="k">explicit</span> <span class="nf">MyClass</span><span class="p">(</span><span class="n">OtherClass</span> <span class="n">aArg</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="c1">// This constructor can also take a single argument, so it also needs to be marked</span>
  <span class="c1">// explicit.</span>
  <span class="k">explicit</span> <span class="nf">MyClass</span><span class="p">(</span><span class="n">OtherClass</span> <span class="n">aArg</span><span class="p">,</span> <span class="n">AnotherClass</span> <span class="n">aArg2</span> <span class="o">=</span> <span class="n">AnotherClass</span><span class="p">())</span>
  <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="kt">int</span> <span class="nf">LargerFunction</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
  <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">mVar</span><span class="p">;</span>
<span class="p">};</span>

<span class="p">}</span> <span class="c1">// namespace mozilla</span>
</pre></div>
</div>
<p>Define classes using the style given above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the rule on <code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">default</span></code>, clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">modernize-use-default</span></code>
check with autofixes.</p>
<p>For the rule on explicit constructors and conversion operators, clang-tidy
provides the <code class="docutils literal notranslate"><span class="pre">mozilla-implicit-constructor</span></code> check.</p>
</div>
<p>Existing classes in the global namespace are named with a short prefix
(For example, <code class="docutils literal notranslate"><span class="pre">ns</span></code>) as a pseudo-namespace.</p>
</div>
<div class="section" id="methods-and-functions">
<h3>Methods and functions<a class="headerlink" href="#methods-and-functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="c-c">
<h4>C/C++<a class="headerlink" href="#c-c" title="Permalink to this headline">¶</a></h4>
<p>In C/C++, method names should use <code class="docutils literal notranslate"><span class="pre">UpperCamelCase</span></code>.</p>
<p>Getters that never fail, and never return null, are named <code class="docutils literal notranslate"><span class="pre">Foo()</span></code>,
while all other getters use <code class="docutils literal notranslate"><span class="pre">GetFoo()</span></code>. Getters can return an object
value, via a <code class="docutils literal notranslate"><span class="pre">Foo**</span> <span class="pre">aResult</span></code> outparam (typical for an XPCOM getter),
or as an <code class="docutils literal notranslate"><span class="pre">already_AddRefed&lt;Foo&gt;</span></code> (typical for a WebIDL getter,
possibly with an <code class="docutils literal notranslate"><span class="pre">ErrorResult&amp;</span> <span class="pre">rv</span></code> parameter), or occasionally as a
<code class="docutils literal notranslate"><span class="pre">Foo*</span></code> (typical for an internal getter for an object with a known
lifetime). See <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=223255">the bug 223255</a>
for more information.</p>
<p>XPCOM getters always return primitive values via an outparam, while
other getters normally use a return value.</p>
<p>Method declarations must use, at most, one of the following keywords:
<code class="docutils literal notranslate"><span class="pre">virtual</span></code>, <code class="docutils literal notranslate"><span class="pre">override</span></code>, or <code class="docutils literal notranslate"><span class="pre">final</span></code>. Use <code class="docutils literal notranslate"><span class="pre">virtual</span></code> to declare
virtual methods, which do not override a base class method with the same
signature. Use <code class="docutils literal notranslate"><span class="pre">override</span></code> to declare virtual methods which do
override a base class method, with the same signature, but can be
further overridden in derived classes. Use <code class="docutils literal notranslate"><span class="pre">final</span></code> to declare virtual
methods which do override a base class method, with the same signature,
but can NOT be further overridden in the derived classes. This should
help the person reading the code fully understand what the declaration
is doing, without needing to further examine base classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the rule on <code class="docutils literal notranslate"><span class="pre">virtual/override/final</span></code>, clang-tidy provides the
<code class="docutils literal notranslate"><span class="pre">modernize-use-override</span></code> check with autofixes.</p>
</div>
</div>
</div>
<div class="section" id="operators">
<h3>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h3>
<p>The unary keyword operator <code class="docutils literal notranslate"><span class="pre">sizeof</span></code>, should have its operand parenthesized
even if it is an expression; e.g. <code class="docutils literal notranslate"><span class="pre">int8_t</span> <span class="pre">arr[64];</span> <span class="pre">memset(arr,</span> <span class="pre">42,</span> <span class="pre">sizeof(arr));</span></code>.</p>
</div>
<div class="section" id="literals">
<h3>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">\uXXXX</span></code> unicode escapes for non-ASCII characters. The character
set for XUL, DTD, script, and properties files is UTF-8, which is not easily
readable.</p>
</div>
<div class="section" id="prefixes">
<h3>Prefixes<a class="headerlink" href="#prefixes" title="Permalink to this headline">¶</a></h3>
<p>Follow these naming prefix conventions:</p>
<div class="section" id="variable-prefixes">
<h4>Variable prefixes<a class="headerlink" href="#variable-prefixes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>k=constant (e.g. <code class="docutils literal notranslate"><span class="pre">kNC_child</span></code>). Not all code uses this style; some
uses <code class="docutils literal notranslate"><span class="pre">ALL_CAPS</span></code> for constants.</p></li>
<li><p>g=global (e.g. <code class="docutils literal notranslate"><span class="pre">gPrefService</span></code>)</p></li>
<li><p>a=argument (e.g. <code class="docutils literal notranslate"><span class="pre">aCount</span></code>)</p></li>
<li><p>C++ Specific Prefixes</p>
<ul>
<li><p>s=static member (e.g. <code class="docutils literal notranslate"><span class="pre">sPrefChecked</span></code>)</p></li>
<li><p>m=member (e.g. <code class="docutils literal notranslate"><span class="pre">mLength</span></code>)</p></li>
<li><p>e=enum variants (e.g. <code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">eBar,</span> <span class="pre">eBaz</span> <span class="pre">}</span></code>). Enum classes
should use <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> instead (e.g.
<code class="docutils literal notranslate"><span class="pre">enum</span> <span class="pre">class</span> <span class="pre">Foo</span> <span class="pre">{</span> <span class="pre">Bar,</span> <span class="pre">Baz</span> <span class="pre">}</span></code>).</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="global-functions-macros-etc">
<h4>Global functions/macros/etc<a class="headerlink" href="#global-functions-macros-etc" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Macros begin with <code class="docutils literal notranslate"><span class="pre">MOZ_</span></code>, and are all caps (e.g.
<code class="docutils literal notranslate"><span class="pre">MOZ_WOW_GOODNESS</span></code>). Note that older code uses the <code class="docutils literal notranslate"><span class="pre">NS_</span></code> prefix;
while these aren’t being changed, you should only use <code class="docutils literal notranslate"><span class="pre">MOZ_</span></code> for
new macros. The only exception is if you’re creating a new macro,
which is part of a set of related macros still using the old <code class="docutils literal notranslate"><span class="pre">NS_</span></code>
prefix. Then you should be consistent with the existing macros.</p></li>
</ul>
</div>
<div class="section" id="error-variables">
<h4>Error Variables<a class="headerlink" href="#error-variables" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Local variables that are assigned <code class="docutils literal notranslate"><span class="pre">nsresult</span></code> result codes should be named <code class="docutils literal notranslate"><span class="pre">rv</span></code>
(i.e., e.g., not <code class="docutils literal notranslate"><span class="pre">res</span></code>, not <code class="docutils literal notranslate"><span class="pre">result</span></code>, not <code class="docutils literal notranslate"><span class="pre">foo</span></code>). <cite>rv</cite> should not be
used for bool or other result types.</p></li>
<li><p>Local variables that are assigned <code class="docutils literal notranslate"><span class="pre">bool</span></code> result codes should be named <cite>ok</cite>.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="c-c-practices">
<h2>C/C++ practices<a class="headerlink" href="#c-c-practices" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Have you checked for compiler warnings?</strong> Warnings often point to
real bugs. <a class="reference external" href="https://searchfox.org/mozilla-central/source/build/moz.configure/warnings.configure">Many of them</a>
are enabled by default in the build system.</p></li>
<li><p>In C++ code, use <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> for pointers. In C code, using <code class="docutils literal notranslate"><span class="pre">NULL</span></code>
or <code class="docutils literal notranslate"><span class="pre">0</span></code> is allowed.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the C++ rule, clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">modernize-use-nullptr</span></code> check
with autofixes.</p>
</div>
<ul class="simple">
<li><p>Don’t use <code class="docutils literal notranslate"><span class="pre">PRBool</span></code> and <code class="docutils literal notranslate"><span class="pre">PRPackedBool</span></code> in C++, use <code class="docutils literal notranslate"><span class="pre">bool</span></code>
instead.</p></li>
<li><p>For checking if a <code class="docutils literal notranslate"><span class="pre">std</span></code> container has no items, don’t use
<code class="docutils literal notranslate"><span class="pre">size()</span></code>, instead use <code class="docutils literal notranslate"><span class="pre">empty()</span></code>.</p></li>
<li><p>When testing a pointer, use <code class="docutils literal notranslate"><span class="pre">(!myPtr)</span></code> or <code class="docutils literal notranslate"><span class="pre">(myPtr)</span></code>;
don’t use <code class="docutils literal notranslate"><span class="pre">myPtr</span> <span class="pre">!=</span> <span class="pre">nullptr</span></code> or <code class="docutils literal notranslate"><span class="pre">myPtr</span> <span class="pre">==</span> <span class="pre">nullptr</span></code>.</p></li>
<li><p>Do not compare <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">false</span></code>. Use <code class="docutils literal notranslate"><span class="pre">(x)</span></code> or
<code class="docutils literal notranslate"><span class="pre">(!x)</span></code> instead. <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(x</span> <span class="pre">==</span> <span class="pre">true)</span></code> may have semantics different from
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">(x)</span></code>!</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">readability-simplify-boolean-expr</span></code> check
with autofixes that checks for these and some other boolean expressions
that can be simplified.</p>
</div>
<ul class="simple">
<li><p>In general, initialize variables with <code class="docutils literal notranslate"><span class="pre">nsFoo</span> <span class="pre">aFoo</span> <span class="pre">=</span> <span class="pre">bFoo,</span></code> and not
<code class="docutils literal notranslate"><span class="pre">nsFoo</span> <span class="pre">aFoo(bFoo)</span></code>.</p>
<ul>
<li><p>For constructors, initialize member variables with : <code class="docutils literal notranslate"><span class="pre">nsFoo</span>
<span class="pre">aFoo(bFoo)</span></code> syntax.</p></li>
</ul>
</li>
<li><p>To avoid warnings created by variables used only in debug builds, use
the
<a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Debugging/DebugOnly%3CT%3E">DebugOnly&lt;T&gt;</a>
helper when declaring them.</p></li>
<li><p>You should <a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Preferences/Using_preferences_from_application_code">use the static preference
API</a> for
working with preferences.</p></li>
<li><p>One-argument constructors, that are not copy or move constructors,
should generally be marked explicit. Exceptions should be annotated
with <code class="docutils literal notranslate"><span class="pre">MOZ_IMPLICIT</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">char32_t</span></code> as the return type or argument type of a method that
returns or takes as argument a single Unicode scalar value. (Don’t
use UTF-32 strings, though.)</p></li>
<li><p>Forward-declare classes in your header files, instead of including
them, whenever possible. For example, if you have an interface with a
<code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">DoSomething(nsIContent*</span> <span class="pre">aContent)</span></code> function, forward-declare
with <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">nsIContent;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;nsIContent.h&quot;</span></code></p></li>
<li><p>Include guards are named per the Google coding style and should not
include a leading <code class="docutils literal notranslate"><span class="pre">MOZ_</span></code> or <code class="docutils literal notranslate"><span class="pre">MOZILLA_</span></code>. For example
<code class="docutils literal notranslate"><span class="pre">dom/media/foo.h</span></code> would use the guard <code class="docutils literal notranslate"><span class="pre">DOM_MEDIA_FOO_H_</span></code>.</p></li>
<li><p>Avoid the usage of <code class="docutils literal notranslate"><span class="pre">typedef</span></code>, instead, please use <code class="docutils literal notranslate"><span class="pre">using</span></code> instead.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For parts of this rule, clang-tidy provides the <code class="docutils literal notranslate"><span class="pre">modernize-use-using</span></code>
check with autofixes.</p>
</div>
</div>
<div class="section" id="com-and-pointers">
<h2>COM and pointers<a class="headerlink" href="#com-and-pointers" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">nsCOMPtr&lt;&gt;</span></code>
If you don’t know how to use it, start looking in the code for
examples. The general rule, is that the very act of typing
<code class="docutils literal notranslate"><span class="pre">NS_RELEASE</span></code> should be a signal to you to question your code:
“Should I be using <code class="docutils literal notranslate"><span class="pre">nsCOMPtr</span></code> here?”. Generally the only valid use
of <code class="docutils literal notranslate"><span class="pre">NS_RELEASE</span></code> is when you are storing refcounted pointers in a
long-lived datastructure.</p></li>
<li><p>Declare new XPCOM interfaces using <a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Tech/XPIDL">XPIDL</a>, so they
will be scriptable.</p></li>
<li><p>Use <a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Tech/XPCOM/Reference/Glue_classes/nsCOMPtr">nsCOMPtr</a> for strong references, and
<a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Tech/XPCOM/Weak_reference">nsWeakPtr</a> for weak references.</p></li>
<li><p>Don’t use <code class="docutils literal notranslate"><span class="pre">QueryInterface</span></code> directly. Use <code class="docutils literal notranslate"><span class="pre">CallQueryInterface</span></code> or
<code class="docutils literal notranslate"><span class="pre">do_QueryInterface</span></code> instead.</p></li>
<li><p>Use <a class="reference external" href="news://news.mozilla.org/3994AE3E.D96EF810&#64;netscape.com">Contract
IDs</a>,
instead of CIDs with <code class="docutils literal notranslate"><span class="pre">do_CreateInstance</span></code>/<code class="docutils literal notranslate"><span class="pre">do_GetService</span></code>.</p></li>
<li><p>Use pointers, instead of references for function out parameters, even
for primitive types.</p></li>
</ul>
</div>
<div class="section" id="idl">
<h2>IDL<a class="headerlink" href="#idl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="use-leading-lowercase-or-intercaps">
<h3>Use leading-lowercase, or “interCaps”<a class="headerlink" href="#use-leading-lowercase-or-intercaps" title="Permalink to this headline">¶</a></h3>
<p>When defining a method or attribute in IDL, the first letter should be
lowercase, and each following word should be capitalized. For example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">long</span> <span class="nf">updateStatusBar</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="use-attributes-wherever-possible">
<h3>Use attributes wherever possible<a class="headerlink" href="#use-attributes-wherever-possible" title="Permalink to this headline">¶</a></h3>
<p>Whenever you are retrieving or setting a single value, without any
context, you should use attributes. Don’t use two methods when you could
use an attribute. Using attributes logically connects the getting and
setting of a value, and makes scripted code look cleaner.</p>
<p>This example has too many methods:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="nl">nsIFoo</span> <span class="p">:</span> <span class="n">nsISupports</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="nf">getLength</span><span class="p">();</span>
    <span class="kt">void</span> <span class="nf">setLength</span><span class="p">(</span><span class="n">in</span> <span class="kt">long</span> <span class="n">length</span><span class="p">);</span>
    <span class="kt">long</span> <span class="nf">getColor</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The code below will generate the exact same C++ signature, but is more
script-friendly.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="nl">nsIFoo</span> <span class="p">:</span> <span class="n">nsISupports</span>
<span class="p">{</span>
    <span class="n">attribute</span> <span class="kt">long</span> <span class="n">length</span><span class="p">;</span>
    <span class="n">readonly</span> <span class="n">attribute</span> <span class="kt">long</span> <span class="n">color</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="use-java-style-constants">
<h3>Use Java-style constants<a class="headerlink" href="#use-java-style-constants" title="Permalink to this headline">¶</a></h3>
<p>When defining scriptable constants in IDL, the name should be all
uppercase, with underscores between words:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="kt">long</span> <span class="n">ERROR_UNDEFINED_VARIABLE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h3>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<p>For details on interface development, as well as more detailed style
guides, see the <a class="reference external" href="https://developer.mozilla.org/docs/Mozilla/Developer_guide/Interface_development_guide">Interface development
guide</a>.</p>
</div>
</div>
<div class="section" id="error-handling">
<h2>Error handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<div class="section" id="check-for-errors-early-and-often">
<h3>Check for errors early and often<a class="headerlink" href="#check-for-errors-early-and-often" title="Permalink to this headline">¶</a></h3>
<p>Every time you make a call into an XPCOM function, you should check for
an error condition. You need to do this even if you know that call will
never fail. Why?</p>
<ul class="simple">
<li><p>Someone may change the callee in the future to return a failure
condition.</p></li>
<li><p>The object in question may live on another thread, another process,
or possibly even another machine. The proxy could have failed to make
your call in the first place.</p></li>
</ul>
<p>Also, when you make a new function which is failable (i.e. it will
return a <code class="docutils literal notranslate"><span class="pre">nsresult</span></code> or a <code class="docutils literal notranslate"><span class="pre">bool</span></code> that may indicate an error), you should
explicitly mark the return value should always be checked. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="k">for</span> <span class="n">IDL</span><span class="o">.</span>
<span class="p">[</span><span class="n">must_use</span><span class="p">]</span> <span class="n">nsISupports</span>
<span class="n">create</span><span class="p">();</span>

<span class="o">//</span> <span class="k">for</span> <span class="n">C</span><span class="o">++</span><span class="p">,</span> <span class="n">add</span> <span class="n">this</span> <span class="ow">in</span> <span class="o">*</span><span class="n">declaration</span><span class="o">*</span><span class="p">,</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">add</span> <span class="n">it</span> <span class="n">again</span> <span class="ow">in</span> <span class="n">implementation</span><span class="o">.</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">]]</span> <span class="n">nsresult</span>
<span class="n">DoSomething</span><span class="p">();</span>
</pre></div>
</div>
<p>There are some exceptions:</p>
<ul class="simple">
<li><p>Predicates or getters, which return <code class="docutils literal notranslate"><span class="pre">bool</span></code> or <code class="docutils literal notranslate"><span class="pre">nsresult</span></code>.</p></li>
<li><p>IPC method implementation (For example, <code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">RecvSomeMessage()</span></code>).</p></li>
<li><p>Most callers will check the output parameter, see below.</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">nsresult</span>
<span class="n">SomeMap</span><span class="o">::</span><span class="n">GetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">nsString</span><span class="o">&amp;</span> <span class="n">key</span><span class="p">,</span> <span class="n">nsString</span><span class="o">&amp;</span> <span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
<p>If most callers need to check the output value first, then adding
<code class="docutils literal notranslate"><span class="pre">[[nodiscard]]</span></code> might be too verbose. In this case, change the return value
to void might be a reasonable choice.</p>
<p>There is also a static analysis attribute <code class="docutils literal notranslate"><span class="pre">MOZ_MUST_USE_TYPE</span></code>, which can
be added to class declarations, to ensure that those declarations are
always used when they are returned.</p>
</div>
<div class="section" id="use-the-ns-warn-if-macro-when-errors-are-unexpected">
<h3>Use the NS_WARN_IF macro when errors are unexpected.<a class="headerlink" href="#use-the-ns-warn-if-macro-when-errors-are-unexpected" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">NS_WARN_IF</span></code> macro can be used to issue a console warning, in debug
builds if the condition fails. This should only be used when the failure
is unexpected and cannot be caused by normal web content.</p>
<p>If you are writing code which wants to issue warnings when methods fail,
please either use <code class="docutils literal notranslate"><span class="pre">NS_WARNING</span></code> directly, or use the new <code class="docutils literal notranslate"><span class="pre">NS_WARN_IF</span></code> macro.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">NS_WARN_IF</span><span class="p">(</span><span class="n">somethingthatshouldbefalse</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">NS_ERROR_INVALID_ARG</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">NS_WARN_IF</span><span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">)))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Previously, the <code class="docutils literal notranslate"><span class="pre">NS_ENSURE_*</span></code> macros were used for this purpose, but
those macros hide return statements, and should not be used in new code.
(This coding style rule isn’t generally agreed, so use of <code class="docutils literal notranslate"><span class="pre">NS_ENSURE_*</span></code>
can be valid.)</p>
</div>
<div class="section" id="return-from-errors-immediately">
<h3>Return from errors immediately<a class="headerlink" href="#return-from-errors-immediately" title="Permalink to this headline">¶</a></h3>
<p>In most cases, your knee-jerk reaction should be to return from the
current function, when an error condition occurs. Don’t do this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call1</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_SUCCEEDED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call2</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">NS_SUCCEEDED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call3</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
</pre></div>
</div>
<p>Instead, do this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call1</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call2</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call3</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Why? Error handling should not obfuscate the logic of the code. The
author’s intent, in the first example, was to make 3 calls in
succession. Wrapping the calls in nested if() statements, instead
obscured the most likely behavior of the code.</p>
<p>Consider a more complicated example to hide a bug:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">val</span><span class="p">;</span>
<span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">GetBooleanValue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_SUCCEEDED</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call1</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call2</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The intent of the author, may have been, that <code class="docutils literal notranslate"><span class="pre">foo-&gt;Call2()</span></code> would only
happen when val had a false value. In fact, <code class="docutils literal notranslate"><span class="pre">foo-&gt;Call2()</span></code> will also be
called, when <code class="docutils literal notranslate"><span class="pre">foo-&gt;GetBooleanValue(&amp;val)</span></code> fails. This may, or may not,
have been the author’s intent. It is not clear from this code. Here is
an updated version:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">val</span><span class="p">;</span>
<span class="n">rv</span> <span class="o">=</span> <span class="n">foo</span><span class="o">-&gt;</span><span class="n">GetBooleanValue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call1</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">foo</span><span class="o">-&gt;</span><span class="n">Call2</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this example, the author’s intent is clear, and an error condition
avoids both calls to <code class="docutils literal notranslate"><span class="pre">foo-&gt;Call1()</span></code> and <code class="docutils literal notranslate"><span class="pre">foo-&gt;Call2();</span></code></p>
<p><em>Possible exceptions:</em> Sometimes it is not fatal if a call fails. For
instance, if you are notifying a series of observers that an event has
fired, it might be trivial that one of these notifications failed:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// we don&#39;t care if any individual observer fails</span>
  <span class="n">observers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">Observe</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Another possibility, is you are not sure if a component exists or is
installed, and you wish to continue normally, if the component is not
found.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">nsCOMPtr</span><span class="o">&lt;</span><span class="n">nsIMyService</span><span class="o">&gt;</span> <span class="n">service</span> <span class="o">=</span> <span class="n">do_CreateInstance</span><span class="p">(</span><span class="n">NS_MYSERVICE_CID</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">rv</span><span class="p">);</span>
<span class="c1">// if the service is installed, then we&#39;ll use it.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">NS_SUCCEEDED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// non-fatal if this fails too, ignore this error.</span>
  <span class="n">service</span><span class="o">-&gt;</span><span class="n">DoSomething</span><span class="p">();</span>

  <span class="c1">// this is important, handle this error!</span>
  <span class="n">rv</span> <span class="o">=</span> <span class="n">service</span><span class="o">-&gt;</span><span class="n">DoSomethingImportant</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">NS_FAILED</span><span class="p">(</span><span class="n">rv</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">rv</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// continue normally whether or not the service exists.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="strings">
<h2>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section overlaps with the more verbose advice given in
<a class="reference external" href="https://wiki.developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Guide/Internal_strings">Internal strings</a>.
These should eventually be merged. For now, please refer to that guide for
more advice.</p>
</div>
<ul class="simple">
<li><p>String arguments to functions should be declared as <code class="docutils literal notranslate"><span class="pre">[const]</span> <span class="pre">nsA[C]String&amp;</span></code>.</p></li>
<li><p>Prefer using string literals. In particular, use empty string literals,
i.e. <code class="docutils literal notranslate"><span class="pre">u&quot;&quot;_ns</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;&quot;_ns</span></code>, instead of <code class="docutils literal notranslate"><span class="pre">Empty[C]String()</span></code> or
<code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">nsAuto[C]String</span> <span class="pre">empty;</span></code>. Use <code class="docutils literal notranslate"><span class="pre">Empty[C]String()</span></code> only if you
specifically need a <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">ns[C]String&amp;</span></code>, e.g. with the ternary operator
or when you need to return/bind to a reference or take the address of the
empty string.</p></li>
<li><p>For 16-bit literal strings, use <code class="docutils literal notranslate"><span class="pre">u&quot;...&quot;_ns</span></code> or, if necessary
<code class="docutils literal notranslate"><span class="pre">NS_LITERAL_STRING_FROM_CSTRING(...)</span></code> instead of <code class="docutils literal notranslate"><span class="pre">nsAutoString()</span></code>
or other ways that would do a run-time conversion.
See <span class="xref std std-ref">Avoid runtime conversion of string literals</span> below.</p></li>
<li><p>To compare a string with a literal, use <code class="docutils literal notranslate"><span class="pre">.EqualsLiteral(&quot;...&quot;)</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">str.IsEmpty()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">str.Length()</span> <span class="pre">==</span> <span class="pre">0</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">str.Truncate()</span></code> instead of <code class="docutils literal notranslate"><span class="pre">str.SetLength(0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">str.Assign(&quot;&quot;_ns)</span></code> or <code class="docutils literal notranslate"><span class="pre">str.AssignLiteral(&quot;&quot;)</span></code>.</p></li>
<li><p>Don’t use functions from <code class="docutils literal notranslate"><span class="pre">ctype.h</span></code> (<code class="docutils literal notranslate"><span class="pre">isdigit()</span></code>, <code class="docutils literal notranslate"><span class="pre">isalpha()</span></code>,
etc.) or from <code class="docutils literal notranslate"><span class="pre">strings.h</span></code> (<code class="docutils literal notranslate"><span class="pre">strcasecmp()</span></code>, <code class="docutils literal notranslate"><span class="pre">strncasecmp()</span></code>).
These are locale-sensitive, which makes them inappropriate for
processing protocol text. At the same time, they are too limited to
work properly for processing natural-language text. Use the
alternatives in <code class="docutils literal notranslate"><span class="pre">mozilla/TextUtils.h</span></code> and in <code class="docutils literal notranslate"><span class="pre">nsUnicharUtils.h</span></code>
in place of <code class="docutils literal notranslate"><span class="pre">ctype.h</span></code>. In place of <code class="docutils literal notranslate"><span class="pre">strings.h</span></code>, prefer the
<code class="docutils literal notranslate"><span class="pre">nsStringComparator</span></code> facilities for comparing strings or if you
have to work with zero-terminated strings, use <code class="docutils literal notranslate"><span class="pre">nsCRT.h</span></code> for
ASCII-case-insensitive comparison.</p></li>
</ul>
<div class="section" id="use-the-auto-form-of-strings-for-local-values">
<h3>Use the <code class="docutils literal notranslate"><span class="pre">Auto</span></code> form of strings for local values<a class="headerlink" href="#use-the-auto-form-of-strings-for-local-values" title="Permalink to this headline">¶</a></h3>
<p>When declaring a local, short-lived <code class="docutils literal notranslate"><span class="pre">nsString</span></code> class, always use
<code class="docutils literal notranslate"><span class="pre">nsAutoString</span></code> or <code class="docutils literal notranslate"><span class="pre">nsAutoCString</span></code>. These pre-allocate a 64-byte
buffer on the stack, and avoid fragmenting the heap. Don’t do this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">nsresult</span>
<span class="nf">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">nsCString</span> <span class="n">bar</span><span class="p">;</span>
  <span class="p">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>instead:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">nsresult</span>
<span class="nf">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">nsAutoCString</span> <span class="n">bar</span><span class="p">;</span>
  <span class="p">..</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="be-wary-of-leaking-values-from-non-xpcom-functions-that-return-char-or-prunichar">
<h3>Be wary of leaking values from non-XPCOM functions that return char* or PRUnichar*<a class="headerlink" href="#be-wary-of-leaking-values-from-non-xpcom-functions-that-return-char-or-prunichar" title="Permalink to this headline">¶</a></h3>
<p>It is an easy trap to return an allocated string, from an internal
helper function, and then using that function inline in your code,
without freeing the value. Consider this code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">GetStringValue</span><span class="p">()</span>
<span class="p">{</span>
  <span class="p">..</span>
  <span class="k">return</span> <span class="n">resultString</span><span class="p">.</span><span class="n">ToNewCString</span><span class="p">();</span>
<span class="p">}</span>

  <span class="p">..</span>
  <span class="n">WarnUser</span><span class="p">(</span><span class="n">GetStringValue</span><span class="p">());</span>
</pre></div>
</div>
<p>In the above example, <code class="docutils literal notranslate"><span class="pre">WarnUser</span></code> will get the string allocated from
<code class="docutils literal notranslate"><span class="pre">resultString.ToNewCString()</span></code> and throw away the pointer. The
resulting value is never freed. Instead, either use the string classes,
to make sure your string is automatically freed when it goes out of
scope, or make sure that your string is freed.</p>
<p>Automatic cleanup:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">void</span>
<span class="n">GetStringValue</span><span class="p">(</span><span class="n">nsAWritableCString</span><span class="o">&amp;</span> <span class="n">aResult</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">..</span>
  <span class="n">aResult</span><span class="p">.</span><span class="n">Assign</span><span class="p">(</span><span class="s">&quot;resulting string&quot;</span><span class="p">);</span>
<span class="p">}</span>

  <span class="p">..</span>
  <span class="n">nsAutoCString</span> <span class="n">warning</span><span class="p">;</span>
  <span class="n">GetStringValue</span><span class="p">(</span><span class="n">warning</span><span class="p">);</span>
  <span class="n">WarnUser</span><span class="p">(</span><span class="n">warning</span><span class="p">.</span><span class="n">get</span><span class="p">());</span>
</pre></div>
</div>
<p>Free the string manually:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">GetStringValue</span><span class="p">()</span>
<span class="p">{</span>
  <span class="p">..</span>
  <span class="k">return</span> <span class="n">resultString</span><span class="p">.</span><span class="n">ToNewCString</span><span class="p">();</span>
<span class="p">}</span>

  <span class="p">..</span>
  <span class="kt">char</span><span class="o">*</span> <span class="n">warning</span> <span class="o">=</span> <span class="n">GetStringValue</span><span class="p">();</span>
  <span class="n">WarnUser</span><span class="p">(</span><span class="n">warning</span><span class="p">);</span>
  <span class="n">nsMemory</span><span class="o">::</span><span class="n">Free</span><span class="p">(</span><span class="n">warning</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="avoid-runtime-conversion-of-string-literals">
<h3>Avoid runtime conversion of string literals<a class="headerlink" href="#avoid-runtime-conversion-of-string-literals" title="Permalink to this headline">¶</a></h3>
<p>It is very common to need to assign the value of a literal string, such
as <code class="docutils literal notranslate"><span class="pre">&quot;Some</span> <span class="pre">String&quot;</span></code>, into a unicode buffer. Instead of using <code class="docutils literal notranslate"><span class="pre">nsString</span></code>’s
<code class="docutils literal notranslate"><span class="pre">AssignLiteral</span></code> and <code class="docutils literal notranslate"><span class="pre">AppendLiteral</span></code>, use a user-defined literal like <cite>u”foo”_ns</cite>
instead. On most platforms, this will force the compiler to compile in a
raw unicode string, and assign it directly. In cases where the literal is defined
via a macro that is used in both 8-bit and 16-bit ways, you can use
<cite>NS_LITERAL_STRING_FROM_CSTRING</cite> to do the conversion at compile time.</p>
<p>Incorrect:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">nsAutoString</span> <span class="n">warning</span><span class="p">;</span>
<span class="n">warning</span><span class="p">.</span><span class="n">AssignLiteral</span><span class="p">(</span><span class="s">&quot;danger will robinson!&quot;</span><span class="p">);</span>
<span class="p">...</span>
<span class="n">foo</span><span class="o">-&gt;</span><span class="n">SetStringValue</span><span class="p">(</span><span class="n">warning</span><span class="p">);</span>
<span class="p">...</span>
<span class="n">bar</span><span class="o">-&gt;</span><span class="n">SetUnicodeValue</span><span class="p">(</span><span class="n">warning</span><span class="p">.</span><span class="n">get</span><span class="p">());</span>
</pre></div>
</div>
<p>Correct:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="k">auto</span> <span class="n">warning</span> <span class="o">=</span> <span class="sa">u</span><span class="s">&quot;danger will robinson!&quot;</span><span class="n">_ns</span><span class="p">;</span>
<span class="p">...</span>
<span class="c1">// if you&#39;ll be using the &#39;warning&#39; string, you can still use it as before:</span>
<span class="n">foo</span><span class="o">-&gt;</span><span class="n">SetStringValue</span><span class="p">(</span><span class="n">warning</span><span class="p">);</span>
<span class="p">...</span>
<span class="n">bar</span><span class="o">-&gt;</span><span class="n">SetUnicodeValue</span><span class="p">(</span><span class="n">warning</span><span class="p">.</span><span class="n">get</span><span class="p">());</span>

<span class="c1">// alternatively, use the wide string directly:</span>
<span class="n">foo</span><span class="o">-&gt;</span><span class="n">SetStringValue</span><span class="p">(</span><span class="sa">u</span><span class="s">&quot;danger will robinson!&quot;</span><span class="n">_ns</span><span class="p">);</span>
<span class="p">...</span>

<span class="c1">// if a macro is the source of a 8-bit literal and you cannot change it, use</span>
<span class="c1">// NS_LITERAL_STRING_FROM_CSTRING, but only if necessary.</span>
<span class="cp">#define MY_MACRO_LITERAL &quot;danger will robinson!&quot;</span>
<span class="n">foo</span><span class="o">-&gt;</span><span class="n">SetStringValue</span><span class="p">(</span><span class="n">NS_LITERAL_STRING_FROM_CSTRING</span><span class="p">(</span><span class="n">MY_MACRO_LITERAL</span><span class="p">));</span>

<span class="c1">// If you need to pass to a raw const char16_t *, there&#39;s no benefit to</span>
<span class="c1">// go through our string classes at all, just do...</span>
<span class="n">bar</span><span class="o">-&gt;</span><span class="n">SetUnicodeValue</span><span class="p">(</span><span class="sa">u</span><span class="s">&quot;danger will robinson!&quot;</span><span class="p">);</span>

<span class="c1">// .. or, again, if a macro is the source of a 8-bit literal</span>
<span class="n">bar</span><span class="o">-&gt;</span><span class="n">SetUnicodeValue</span><span class="p">(</span><span class="sa">u</span><span class="s">&quot;&quot;</span> <span class="n">MY_MACRO_LITERAL</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="usage-of-pr-max-min-abs-roundup-macro-calls">
<h2>Usage of PR_(MAX|MIN|ABS|ROUNDUP) macro calls<a class="headerlink" href="#usage-of-pr-max-min-abs-roundup-macro-calls" title="Permalink to this headline">¶</a></h2>
<p>Use the standard-library functions (<code class="docutils literal notranslate"><span class="pre">std::max</span></code>), instead of
<code class="docutils literal notranslate"><span class="pre">PR_(MAX|MIN|ABS|ROUNDUP)</span></code>.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">mozilla::Abs</span></code> instead of <code class="docutils literal notranslate"><span class="pre">PR_ABS</span></code>. All <code class="docutils literal notranslate"><span class="pre">PR_ABS</span></code> calls in C++ code have
been replaced with <code class="docutils literal notranslate"><span class="pre">mozilla::Abs</span></code> calls, in <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=847480">bug
847480</a>. All new
code in <code class="docutils literal notranslate"><span class="pre">Firefox/core/toolkit</span></code> needs to <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;nsAlgorithm.h&quot;</span></code> and
use the <code class="docutils literal notranslate"><span class="pre">NS_foo</span></code> variants instead of <code class="docutils literal notranslate"><span class="pre">PR_foo</span></code>, or
<code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">&quot;mozilla/MathAlgorithms.h&quot;</span></code> for <code class="docutils literal notranslate"><span class="pre">mozilla::Abs</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coding_style_general.html" class="btn btn-neutral float-right" title="Mode line" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Coding style" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>