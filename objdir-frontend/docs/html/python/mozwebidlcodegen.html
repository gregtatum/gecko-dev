

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozwebidlcodegen package &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mozwebidlcodegen package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/mozwebidlcodegen.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozwebidlcodegen-package">
<h1>mozwebidlcodegen package<a class="headerlink" href="#mozwebidlcodegen-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mozwebidlcodegen">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozwebidlcodegen" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozwebidlcodegen.BuildResult">
<em class="property">class </em><code class="sig-prename descclassname">mozwebidlcodegen.</code><code class="sig-name descname">BuildResult</code><a class="headerlink" href="#mozwebidlcodegen.BuildResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents the result of processing WebIDL files.</p>
<p>This holds a summary of output file generation during code generation.</p>
</dd></dl>

<dl class="py class">
<dt id="mozwebidlcodegen.BuildSystemWebIDL">
<em class="property">class </em><code class="sig-prename descclassname">mozwebidlcodegen.</code><code class="sig-name descname">BuildSystemWebIDL</code><span class="sig-paren">(</span><em class="sig-param">topsrcdir</em>, <em class="sig-param">settings</em>, <em class="sig-param">log_manager</em>, <em class="sig-param">topobjdir=None</em>, <em class="sig-param">mozconfig=&lt;object object&gt;</em>, <em class="sig-param">virtualenv_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.BuildSystemWebIDL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.html#mozbuild.base.MozbuildObject" title="mozbuild.base.MozbuildObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MozbuildObject</span></code></a></p>
<dl class="py method">
<dt id="mozwebidlcodegen.BuildSystemWebIDL.manager">
<em class="property">property </em><code class="sig-name descname">manager</code><a class="headerlink" href="#mozwebidlcodegen.BuildSystemWebIDL.manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozwebidlcodegen.WebIDLCodegenManager">
<em class="property">class </em><code class="sig-prename descclassname">mozwebidlcodegen.</code><code class="sig-name descname">WebIDLCodegenManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_path</span></em>, <em class="sig-param"><span class="n">webidl_root</span></em>, <em class="sig-param"><span class="n">inputs</span></em>, <em class="sig-param"><span class="n">exported_header_dir</span></em>, <em class="sig-param"><span class="n">codegen_dir</span></em>, <em class="sig-param"><span class="n">state_path</span></em>, <em class="sig-param"><span class="n">cache_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">make_deps_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">make_deps_target</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mach.mixin.html#mach.mixin.logging.LoggingMixin" title="mach.mixin.logging.LoggingMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.mixin.logging.LoggingMixin</span></code></a></p>
<p>Manages all code generation around WebIDL.</p>
<p>To facilitate testing, this object is meant to be generic and reusable.
Paths, etc should be parameters and not hardcoded.</p>
<dl class="py attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DECLARE_FILES">
<code class="sig-name descname">GLOBAL_DECLARE_FILES</code><em class="property"> = {'GeneratedAtomList.h', 'GeneratedEventList.h', 'PrototypeList.h', 'RegisterBindings.h', 'RegisterWorkerBindings.h', 'RegisterWorkerDebuggerBindings.h', 'RegisterWorkletBindings.h', 'UnionConversions.h', 'UnionTypes.h', 'WebIDLPrefs.h', 'WebIDLSerializable.h'}</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DECLARE_FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DEFINE_FILES">
<code class="sig-name descname">GLOBAL_DEFINE_FILES</code><em class="property"> = {'PrototypeList.cpp', 'RegisterBindings.cpp', 'RegisterWorkerBindings.cpp', 'RegisterWorkerDebuggerBindings.cpp', 'RegisterWorkletBindings.cpp', 'UnionTypes.cpp', 'WebIDLPrefs.cpp', 'WebIDLSerializable.cpp'}</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.GLOBAL_DEFINE_FILES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.config">
<em class="property">property </em><code class="sig-name descname">config</code><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.expected_build_output_files">
<code class="sig-name descname">expected_build_output_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.expected_build_output_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the set of files generate_build_files() should write.</p>
</dd></dl>

<dl class="py method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.generate_build_files">
<code class="sig-name descname">generate_build_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.generate_build_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate files required for the build.</p>
<p>This function is in charge of generating all the .h/.cpp files derived
from input .webidl files. Please note that there are build actions
required to produce .webidl files and these build actions are
explicitly not captured here: this function assumes all .webidl files
are present and up to date.</p>
<p>This routine is called as part of the build to ensure files that need
to exist are present and up to date. This routine may not be called if
the build dependencies (generated as a result of calling this the first
time) say everything is up to date.</p>
<p>Because reprocessing outputs for every .webidl on every invocation
is expensive, we only regenerate the minimal set of files on every
invocation. The rules for deciding what needs done are roughly as
follows:</p>
<ol class="arabic simple">
<li><p>If any .webidl changes, reparse all .webidl files and regenerate
the global derived files. Only regenerate output files (.h/.cpp)
impacted by the modified .webidl files.</p></li>
<li><p>If an non-.webidl dependency (Python files, config file) changes,
assume everything is out of date and regenerate the world. This
is because changes in those could globally impact every output
file.</p></li>
<li><p>If an output file is missing, ensure it is present by performing
necessary regeneration.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="mozwebidlcodegen.WebIDLCodegenManager.generate_example_files">
<code class="sig-name descname">generate_example_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interface</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManager.generate_example_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates example files for a given interface.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState">
<em class="property">class </em><code class="sig-prename descclassname">mozwebidlcodegen.</code><code class="sig-name descname">WebIDLCodegenManagerState</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Holds state for the WebIDL code generation manager.</p>
<p>State is currently just an extended dict. The internal implementation of
state should be considered a black box to everyone except
WebIDLCodegenManager. But we’ll still document it.</p>
<p>Fields:</p>
<dl class="simple">
<dt>version</dt><dd><p>The integer version of the format. This is to detect incompatible
changes between state. It should be bumped whenever the format
changes or semantics change.</p>
</dd>
<dt>webidls</dt><dd><p>A dictionary holding information about every known WebIDL input.
Keys are the basenames of input WebIDL files. Values are dicts of
metadata. Keys in those dicts are:</p>
<ul class="simple">
<li><p>filename - The full path to the input filename.</p></li>
<li><p>inputs - A set of full paths to other webidl files this webidl
depends on.</p></li>
<li><p>outputs - Set of full output paths that are created/derived from
this file.</p></li>
<li><p>sha1 - The hexidecimal SHA-1 of the input filename from the last
processing time.</p></li>
</ul>
</dd>
<dt>global_inputs</dt><dd><p>A dictionary defining files that influence all processing. Keys
are full filenames. Values are hexidecimal SHA-1 from the last
processing time.</p>
</dd>
<dt>dictionaries_convertible_to_js</dt><dd><p>A set of names of dictionaries that are convertible to JS.</p>
</dd>
<dt>dictionaries_convertible_from_js</dt><dd><p>A set of names of dictionaries that are convertible from JS.</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState.VERSION">
<code class="sig-name descname">VERSION</code><em class="property"> = 3</em><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState.VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozwebidlcodegen.WebIDLCodegenManagerState.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.WebIDLCodegenManagerState.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump serialized state to a file handle.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozwebidlcodegen.create_build_system_manager">
<code class="sig-prename descclassname">mozwebidlcodegen.</code><code class="sig-name descname">create_build_system_manager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">dist_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozwebidlcodegen.create_build_system_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a WebIDLCodegenManager for use by the build system.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>