

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mozbuild package &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>mozbuild package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/mozbuild.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mozbuild-package">
<h1>mozbuild package<a class="headerlink" href="#mozbuild-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.action.html">mozbuild.action package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.buildlist">mozbuild.action.buildlist module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#mozbuild-action-check-binary-module">mozbuild.action.check_binary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.download_wpt_manifest">mozbuild.action.download_wpt_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.dump_env">mozbuild.action.dump_env module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.dumpsymbols">mozbuild.action.dumpsymbols module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.exe_7z_archive">mozbuild.action.exe_7z_archive module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.exe_7z_extract">mozbuild.action.exe_7z_extract module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.fat_aar">mozbuild.action.fat_aar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.file_generate">mozbuild.action.file_generate module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#mozbuild-action-generate-searchjson-module">mozbuild.action.generate_searchjson module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.generate_symbols_file">mozbuild.action.generate_symbols_file module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.install">mozbuild.action.install module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.jar_maker">mozbuild.action.jar_maker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.l10n_merge">mozbuild.action.l10n_merge module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.langpack_manifest">mozbuild.action.langpack_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.make_dmg">mozbuild.action.make_dmg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.make_unzip">mozbuild.action.make_unzip module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.make_zip">mozbuild.action.make_zip module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.node">mozbuild.action.node module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#mozbuild-action-output-searchplugins-list-module">mozbuild.action.output_searchplugins_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.package_generated_sources">mozbuild.action.package_generated_sources module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.preprocessor">mozbuild.action.preprocessor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.process_define_files">mozbuild.action.process_define_files module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.process_install_manifest">mozbuild.action.process_install_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.symbols_archive">mozbuild.action.symbols_archive module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#mozbuild-action-test-archive-module">mozbuild.action.test_archive module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.tooltool">mozbuild.action.tooltool module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.unpack_dmg">mozbuild.action.unpack_dmg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.util">mozbuild.action.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.webidl">mozbuild.action.webidl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.wrap_rustc">mozbuild.action.wrap_rustc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.xpccheck">mozbuild.action.xpccheck module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#mozbuild-action-xpidl-process-module">mozbuild.action.xpidl-process module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action.zip">mozbuild.action.zip module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.action.html#module-mozbuild.action">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.analyze.html">mozbuild.analyze package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.analyze.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.analyze.html#module-mozbuild.analyze.hg">mozbuild.analyze.hg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.analyze.html#module-mozbuild.analyze">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.backend.html">mozbuild.backend package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.base">mozbuild.backend.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.cargo_build_defs">mozbuild.backend.cargo_build_defs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.clangd">mozbuild.backend.clangd module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.common">mozbuild.backend.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.configenvironment">mozbuild.backend.configenvironment module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.cpp_eclipse">mozbuild.backend.cpp_eclipse module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.fastermake">mozbuild.backend.fastermake module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.mach_commands">mozbuild.backend.mach_commands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.make">mozbuild.backend.make module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.recursivemake">mozbuild.backend.recursivemake module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.static_analysis">mozbuild.backend.static_analysis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.test_manifest">mozbuild.backend.test_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend.visualstudio">mozbuild.backend.visualstudio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.backend.html#module-mozbuild.backend">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.codecoverage.html">mozbuild.codecoverage package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#module-mozbuild.codecoverage.chrome_map">mozbuild.codecoverage.chrome_map module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#module-mozbuild.codecoverage.lcov_rewriter">mozbuild.codecoverage.lcov_rewriter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#module-mozbuild.codecoverage.manifest_handler">mozbuild.codecoverage.manifest_handler module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#module-mozbuild.codecoverage.packager">mozbuild.codecoverage.packager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.codecoverage.html#module-mozbuild.codecoverage">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.compilation.html">mozbuild.compilation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#module-mozbuild.compilation.codecomplete">mozbuild.compilation.codecomplete module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#module-mozbuild.compilation.database">mozbuild.compilation.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#module-mozbuild.compilation.util">mozbuild.compilation.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#module-mozbuild.compilation.warnings">mozbuild.compilation.warnings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.compilation.html#module-mozbuild.compilation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.configure.html">mozbuild.configure package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.check_debug_ranges">mozbuild.configure.check_debug_ranges module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.constants">mozbuild.configure.constants module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.help">mozbuild.configure.help module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.libstdcxx">mozbuild.configure.libstdcxx module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.lint">mozbuild.configure.lint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.options">mozbuild.configure.options module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure.util">mozbuild.configure.util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.configure.html#module-mozbuild.configure">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.controller.html">mozbuild.controller package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.controller.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.controller.html#module-mozbuild.controller.building">mozbuild.controller.building module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.controller.html#module-mozbuild.controller.clobber">mozbuild.controller.clobber module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.controller.html#module-mozbuild.controller">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.frontend.html">mozbuild.frontend package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.context">mozbuild.frontend.context module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.data">mozbuild.frontend.data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.emitter">mozbuild.frontend.emitter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.gyp_reader">mozbuild.frontend.gyp_reader module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.mach_commands">mozbuild.frontend.mach_commands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.reader">mozbuild.frontend.reader module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend.sandbox">mozbuild.frontend.sandbox module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.frontend.html#module-mozbuild.frontend">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.repackaging.html">mozbuild.repackaging package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging.application_ini">mozbuild.repackaging.application_ini module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging.dmg">mozbuild.repackaging.dmg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging.installer">mozbuild.repackaging.installer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging.mar">mozbuild.repackaging.mar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging.msi">mozbuild.repackaging.msi module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.repackaging.html#module-mozbuild.repackaging">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.test.html">mozbuild.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mozbuild.test.backend.html">mozbuild.test.backend package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.common">mozbuild.test.backend.common module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_build">mozbuild.test.backend.test_build module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_configenvironment">mozbuild.test.backend.test_configenvironment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_database">mozbuild.test.backend.test_database module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_fastermake">mozbuild.test.backend.test_fastermake module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_gn_processor">mozbuild.test.backend.test_gn_processor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_partialconfigenvironment">mozbuild.test.backend.test_partialconfigenvironment module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_recursivemake">mozbuild.test.backend.test_recursivemake module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_test_manifest">mozbuild.test.backend.test_test_manifest module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend.test_visualstudio">mozbuild.test.backend.test_visualstudio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.backend.html#module-mozbuild.test.backend">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mozbuild.test.compilation.html">mozbuild.test.compilation package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.compilation.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.compilation.html#module-mozbuild.test.compilation.test_warnings">mozbuild.test.compilation.test_warnings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.compilation.html#module-mozbuild.test.compilation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mozbuild.test.controller.html">mozbuild.test.controller package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.controller.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.controller.html#module-mozbuild.test.controller.test_ccachestats">mozbuild.test.controller.test_ccachestats module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.controller.html#module-mozbuild.test.controller.test_clobber">mozbuild.test.controller.test_clobber module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.controller.html#module-mozbuild.test.controller">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mozbuild.test.frontend.html">mozbuild.test.frontend package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend.test_context">mozbuild.test.frontend.test_context module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend.test_emitter">mozbuild.test.frontend.test_emitter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend.test_namespaces">mozbuild.test.frontend.test_namespaces module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend.test_reader">mozbuild.test.frontend.test_reader module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend.test_sandbox">mozbuild.test.frontend.test_sandbox module</a></li>
<li class="toctree-l4"><a class="reference internal" href="mozbuild.test.frontend.html#module-mozbuild.test.frontend">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.common">mozbuild.test.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_android_version_code">mozbuild.test.test_android_version_code module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_artifact_cache">mozbuild.test.test_artifact_cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_base">mozbuild.test.test_base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_containers">mozbuild.test.test_containers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_dotproperties">mozbuild.test.test_dotproperties module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_expression">mozbuild.test.test_expression module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_jarmaker">mozbuild.test.test_jarmaker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_licenses">mozbuild.test.test_licenses module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_line_endings">mozbuild.test.test_line_endings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_makeutil">mozbuild.test.test_makeutil module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#mozbuild-test-test-manifest-module">mozbuild.test.test_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_mozconfig">mozbuild.test.test_mozconfig module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_mozinfo">mozbuild.test.test_mozinfo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_preprocessor">mozbuild.test.test_preprocessor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_pythonutil">mozbuild.test.test_pythonutil module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_util">mozbuild.test.test_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test.test_util_fileavoidwrite">mozbuild.test.test_util_fileavoidwrite module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.test.html#module-mozbuild.test">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mozbuild.vendor.html">mozbuild.vendor package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.host_github">mozbuild.vendor.host_github module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.host_gitlab">mozbuild.vendor.host_gitlab module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.host_googlesource">mozbuild.vendor.host_googlesource module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.mach_commands">mozbuild.vendor.mach_commands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.moz_yaml">mozbuild.vendor.moz_yaml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.vendor_manifest">mozbuild.vendor.vendor_manifest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.vendor_python">mozbuild.vendor.vendor_python module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor.vendor_rust">mozbuild.vendor.vendor_rust module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mozbuild.vendor.html#module-mozbuild.vendor">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozbuild.android_version_code">
<span id="mozbuild-android-version-code-module"></span><h2>mozbuild.android_version_code module<a class="headerlink" href="#module-mozbuild.android_version_code" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.android_version_code.android_version_code">
<code class="sig-prename descclassname">mozbuild.android_version_code.</code><code class="sig-name descname">android_version_code</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buildid</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.android_version_code.android_version_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.android_version_code.android_version_code_v0">
<code class="sig-prename descclassname">mozbuild.android_version_code.</code><code class="sig-name descname">android_version_code_v0</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buildid</span></em>, <em class="sig-param"><span class="n">cpu_arch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_sdk</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max_sdk</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.android_version_code.android_version_code_v0" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.android_version_code.android_version_code_v1">
<code class="sig-prename descclassname">mozbuild.android_version_code.</code><code class="sig-name descname">android_version_code_v1</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buildid</span></em>, <em class="sig-param"><span class="n">cpu_arch</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_sdk</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max_sdk</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.android_version_code.android_version_code_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a v1 android:versionCode.
The important consideration is that version codes be monotonically
increasing (per Android package name) for all published builds.  The input
build IDs are based on timestamps and hence are always monotonically
increasing.</p>
<p>The generated v1 version codes look like (in binary):</p>
<p>0111 1000 0010 tttt tttt tttt tttt txpg</p>
<p>The 17 bits labelled ‘t’ represent the number of hours since midnight on
September 1, 2015.  (2015090100 in YYYYMMMDDHH format.)  This yields a
little under 15 years worth of hourly build identifiers, since 2**17 / (366
* 24) =~ 14.92.</p>
<p>The bits labelled ‘x’, ‘p’, and ‘g’ are feature flags.</p>
<p>The bit labelled ‘x’ is 1 if the build is for an x86 or x86-64 architecture,
and 0 otherwise, which means the build is for an ARM or ARM64 architecture.
(Fennec no longer supports ARMv6, so ARM is equivalent to ARMv7.</p>
<blockquote>
<div><p>ARM64 is also known as AArch64; it is logically ARMv8.)</p>
</div></blockquote>
<p>For the same release, x86 and x86_64 builds have higher version codes and
take precedence over ARM builds, so that they are preferred over ARM on
devices that have ARM emulation.</p>
<p>The bit labelled ‘p’ is 1 if the build is for a 64-bit architecture (x86-64
or ARM64), and 0 otherwise, which means the build is for a 32-bit
architecture (x86 or ARM). 64-bit builds have higher version codes so
they take precedence over 32-bit builds on devices that support 64-bit.</p>
<p>The bit labelled ‘g’ is 1 if the build targets a recent API level, which
is currently always the case, because Firefox no longer ships releases that
are split by API levels. However, we may reintroduce a split in the future,
in which case the release that targets an older API level will</p>
<p>We throw an explanatory exception when we are within one calendar year of
running out of build events.  This gives lots of time to update the version
scheme.  The responsible individual should then bump the range (to allow
builds to continue) and use the time remaining to update the version scheme
via the reserved high order bits.</p>
<p>N.B.: the reserved 0 bit to the left of the highest order ‘t’ bit can,
sometimes, be used to bump the version scheme.  In addition, by reducing the
granularity of the build identifiers (for example, moving to identifying
builds every 2 or 4 hours), the version scheme may be adjusted further still
without losing a (valuable) high order bit.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.android_version_code.main">
<code class="sig-prename descclassname">mozbuild.android_version_code.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">argv</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.android_version_code.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.artifact_builds">
<span id="mozbuild-artifact-builds-module"></span><h2>mozbuild.artifact_builds module<a class="headerlink" href="#module-mozbuild.artifact_builds" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozbuild.artifact_cache">
<span id="mozbuild-artifact-cache-module"></span><h2>mozbuild.artifact_cache module<a class="headerlink" href="#module-mozbuild.artifact_cache" title="Permalink to this headline">¶</a></h2>
<p>Fetch and cache artifacts from URLs.</p>
<p>This module manages fetching artifacts from URLS and purging old
artifacts using a simple Least Recently Used cache.</p>
<p>This module requires certain modules be importable from the ambient Python
environment.  Consumers will need to arrange this themselves.</p>
<p>The bulk of the complexity is in managing and persisting several caches.  If
we found a Python LRU cache that pickled cleanly, we could remove a lot of
this code!  Sadly, I found no such candidate implementations, so we pickle
pylru caches manually.</p>
<p>None of the instances (or the underlying caches) are safe for concurrent use.
A future need, perhaps.</p>
<dl class="py class">
<dt id="mozbuild.artifact_cache.ArtifactCache">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifact_cache.</code><code class="sig-name descname">ArtifactCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cache_dir</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fetch artifacts from URLS and purge least recently used artifacts from disk.</p>
<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactCache.clear_cache">
<code class="sig-name descname">clear_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactCache.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactCache.fetch">
<code class="sig-name descname">fetch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactCache.fetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactCache.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactCache.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifact_cache.</code><code class="sig-name descname">ArtifactPersistLimit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dlmanager.persist_limit.PersistLimit</span></code></p>
<p>Handle persistence for a cache of artifacts.</p>
<p>When instantiating a DownloadManager, it starts by filling the
PersistLimit instance it’s given with register_dir_content.
In practice, this registers all the files already in the cache directory.
After a download finishes, the newly downloaded file is registered, and the
oldest files registered to the PersistLimit instance are removed depending
on the size and file limits it’s configured for.
This is all good, but there are a few tweaks we want here:
- We have pickle files in the cache directory that we don’t want purged.
- Files that were just downloaded in the same session shouldn’t be purged.</p>
<blockquote>
<div><dl class="simple">
<dt>(if for some reason we end up downloading more than the default max size,</dt><dd><p>we don’t want the files to be purged)</p>
</dd>
</dl>
</div></blockquote>
<p>To achieve this, this subclass of PersistLimit inhibits the register_file
method for pickle files and tracks what files were downloaded in the same
session to avoid removing them.</p>
<p>The register_file method may be used to register cache matches too, so that
later sessions know they were freshly used.</p>
<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit.register_dir_content">
<code class="sig-name descname">register_dir_content</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">pattern</span><span class="o">=</span><span class="default_value">'*'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit.register_dir_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Register every files in a directory that match <em>pattern</em>.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit.register_file">
<code class="sig-name descname">register_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit.register_file" title="Permalink to this definition">¶</a></dt>
<dd><p>register a single file.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit.remove_all">
<code class="sig-name descname">remove_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit.remove_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_cache.ArtifactPersistLimit.remove_old_files">
<code class="sig-name descname">remove_old_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_cache.ArtifactPersistLimit.remove_old_files" title="Permalink to this definition">¶</a></dt>
<dd><p>remove oldest registered files.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.artifact_commands">
<span id="mozbuild-artifact-commands-module"></span><h2>mozbuild.artifact_commands module<a class="headerlink" href="#module-mozbuild.artifact_commands" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.artifact_commands.ArtifactSubCommand">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifact_commands.</code><code class="sig-name descname">ArtifactSubCommand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">subcommand</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parser</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.ArtifactSubCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mach.html#mach.decorators.SubCommand" title="mach.decorators.SubCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.decorators.SubCommand</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifact_commands.PackageFrontend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifact_commands.</code><code class="sig-name descname">PackageFrontend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.PackageFrontend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Fetch and install binary artifacts from Mozilla automation.</p>
<dl class="py method">
<dt id="mozbuild.artifact_commands.PackageFrontend.artifact">
<code class="sig-name descname">artifact</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.PackageFrontend.artifact" title="Permalink to this definition">¶</a></dt>
<dd><p>Download, cache, and install pre-built binary artifacts to build Firefox.</p>
<p>Use <a href="#id1"><span class="problematic" id="id2">|mach build|</span></a> as normal to freshen your installed binary libraries:
artifact builds automatically download, cache, and install binary
artifacts from Mozilla automation, replacing whatever may be in your
object directory.  Use <a href="#id3"><span class="problematic" id="id4">|mach artifact last|</span></a> to see what binary artifacts
were last used.</p>
<p>Never build libxul again!</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_commands.PackageFrontend.artifact_clear_cache">
<code class="sig-name descname">artifact_clear_cache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">job</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.PackageFrontend.artifact_clear_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_commands.PackageFrontend.artifact_install">
<code class="sig-name descname">artifact_install</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tree</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">job</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">no_tests</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">distdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_process</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">maven_zip</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.PackageFrontend.artifact_install" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifact_commands.PackageFrontend.artifact_toolchain">
<code class="sig-name descname">artifact_toolchain</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">cache_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">from_build</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">tooltool_manifest</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">authentication_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">no_unpack</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">retry</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">bootstrap</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">artifact_manifest</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.PackageFrontend.artifact_toolchain" title="Permalink to this definition">¶</a></dt>
<dd><p>Download, cache and install pre-built toolchains.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifact_commands.SymbolsAction">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifact_commands.</code><code class="sig-name descname">SymbolsAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">nargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">const</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">choices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">required</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">help</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metavar</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifact_commands.SymbolsAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.artifacts">
<span id="mozbuild-artifacts-module"></span><h2>mozbuild.artifacts module<a class="headerlink" href="#module-mozbuild.artifacts" title="Permalink to this headline">¶</a></h2>
<p>Fetch build artifacts from a Firefox tree.</p>
<p>This provides an (at-the-moment special purpose) interface to download Android
artifacts from Mozilla’s Task Cluster.</p>
<p>This module performs the following steps:</p>
<ul class="simple">
<li><p>find a candidate hg parent revision.  At one time we used the local pushlog,
which required the mozext hg extension.  This isn’t feasible with git, and it
is only mildly less efficient to not use the pushlog, so we don’t use it even
when querying hg.</p></li>
<li><p>map the candidate parent to candidate Task Cluster tasks and artifact
locations.  Pushlog entries might not correspond to tasks (yet), and those
tasks might not produce the desired class of artifacts.</p></li>
<li><p>fetch fresh Task Cluster artifacts and purge old artifacts, using a simple
Least Recently Used cache.</p></li>
<li><p>post-process fresh artifacts, to speed future installation.  In particular,
extract relevant files from Mac OS X DMG files into a friendly archive format
so we don’t have to mount DMG files frequently.</p></li>
</ul>
<p>This module requires certain modules be importable from the ambient Python
environment.  <a href="#id5"><span class="problematic" id="id6">|mach artifact|</span></a> ensures these modules are available, but other
consumers will need to arrange this themselves.</p>
<dl class="py class">
<dt id="mozbuild.artifacts.AndroidArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">AndroidArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ArtifactJob" title="mozbuild.artifacts.ArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ArtifactJob</span></code></a></p>
<dl class="py attribute">
<dt id="mozbuild.artifacts.AndroidArtifactJob.package_artifact_patterns">
<code class="sig-name descname">package_artifact_patterns</code><em class="property"> = {'**/*.so'}</em><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob.package_artifact_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.AndroidArtifactJob.package_re">
<code class="sig-name descname">package_re</code><em class="property"> = 'public/build/geckoview_example\\.apk'</em><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob.package_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.AndroidArtifactJob.process_package_artifact">
<code class="sig-name descname">process_package_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob.process_package_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.AndroidArtifactJob.process_symbols_archive">
<code class="sig-name descname">process_symbols_archive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob.process_symbols_archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.AndroidArtifactJob.product">
<code class="sig-name descname">product</code><em class="property"> = 'mobile'</em><a class="headerlink" href="#mozbuild.artifacts.AndroidArtifactJob.product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.ArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">ArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="mozbuild.artifacts.ArtifactJob.candidate_trees">
<code class="sig-name descname">candidate_trees</code><em class="property"> = ['mozilla-central', 'integration/autoland', 'releases/mozilla-beta', 'releases/mozilla-release']</em><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.candidate_trees" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.find_candidate_artifacts">
<code class="sig-name descname">find_candidate_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifacts</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.find_candidate_artifacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.iter_artifact_archive">
<code class="sig-name descname">iter_artifact_archive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.iter_artifact_archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_artifact">
<code class="sig-name descname">process_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_host_bin">
<code class="sig-name descname">process_host_bin</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_host_bin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_package_artifact">
<code class="sig-name descname">process_package_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_package_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_symbols_archive">
<code class="sig-name descname">process_symbols_archive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em>, <em class="sig-param"><span class="n">skip_compressed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_symbols_archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_tests_tar_artifact">
<code class="sig-name descname">process_tests_tar_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_tests_tar_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.ArtifactJob.process_tests_zip_artifact">
<code class="sig-name descname">process_tests_zip_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.process_tests_zip_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ArtifactJob.test_artifact_patterns">
<code class="sig-name descname">test_artifact_patterns</code><em class="property"> = {('bin/BadCertAndPinningServer', ('bin', 'bin')), ('bin/DelegatedCredentialsServer', ('bin', 'bin')), ('bin/GenerateOCSPResponse', ('bin', 'bin')), ('bin/OCSPStaplingServer', ('bin', 'bin')), ('bin/SanctionsTestServer', ('bin', 'bin')), ('bin/certutil', ('bin', 'bin')), ('bin/components/*.xpt', ('bin/components', 'bin/components')), ('bin/geckodriver', ('bin', 'bin')), ('bin/http3server', ('bin', 'bin')), ('bin/pk12util', ('bin', 'bin')), ('bin/plugins/*', ('bin/plugins', 'plugins')), ('bin/plugins/gmp-*/*/*', ('bin/plugins', 'bin')), ('bin/screentopng', ('bin', 'bin')), ('bin/ssltunnel', ('bin', 'bin')), ('bin/xpcshell', ('bin', 'bin'))}</em><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.test_artifact_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ArtifactJob.trust_domain">
<code class="sig-name descname">trust_domain</code><em class="property"> = 'gecko'</em><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.trust_domain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ArtifactJob.try_tree">
<code class="sig-name descname">try_tree</code><em class="property"> = 'try'</em><a class="headerlink" href="#mozbuild.artifacts.ArtifactJob.try_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.Artifacts">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">Artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">substs</span></em>, <em class="sig-param"><span class="n">defines</span></em>, <em class="sig-param"><span class="n">job</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cache_dir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">hg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">git</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">topsrcdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">no_process</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Maintain state to efficiently fetch build artifacts from a Firefox tree.</p>
<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.clear_cache">
<code class="sig-name descname">clear_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.find_pushhead_artifacts">
<code class="sig-name descname">find_pushhead_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_cache</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">pushhead</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.find_pushhead_artifacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from">
<code class="sig-name descname">install_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Install artifacts from a <code class="docutils literal notranslate"><span class="pre">source</span></code> into the given <code class="docutils literal notranslate"><span class="pre">distdir</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from_file">
<code class="sig-name descname">install_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from_recent">
<code class="sig-name descname">install_from_recent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from_recent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from_revset">
<code class="sig-name descname">install_from_revset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">revset</span></em>, <em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from_revset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from_task">
<code class="sig-name descname">install_from_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">taskId</span></em>, <em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from_task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.install_from_url">
<code class="sig-name descname">install_from_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">distdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.install_from_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.Artifacts.run_hg">
<code class="sig-name descname">run_hg</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.Artifacts.run_hg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.CacheManager">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">CacheManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cache_dir</span></em>, <em class="sig-param"><span class="n">cache_name</span></em>, <em class="sig-param"><span class="n">cache_size</span></em>, <em class="sig-param"><span class="n">cache_callback</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.CacheManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Maintain an LRU cache.  Provide simple persistence, including support for
loading and saving the state using a “with” block.  Allow clearing the cache
and printing the cache for debugging.</p>
<p>Provide simple logging.</p>
<dl class="py method">
<dt id="mozbuild.artifacts.CacheManager.clear_cache">
<code class="sig-name descname">clear_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.CacheManager.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.CacheManager.dump_cache">
<code class="sig-name descname">dump_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.CacheManager.dump_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.CacheManager.load_cache">
<code class="sig-name descname">load_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.CacheManager.load_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.CacheManager.log">
<code class="sig-name descname">log</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.CacheManager.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.LinuxArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">LinuxArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.LinuxArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ArtifactJob" title="mozbuild.artifacts.ArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ArtifactJob</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.artifacts.LinuxArtifactJob.package_artifact_patterns">
<em class="property">property </em><code class="sig-name descname">package_artifact_patterns</code><a class="headerlink" href="#mozbuild.artifacts.LinuxArtifactJob.package_artifact_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.LinuxArtifactJob.package_re">
<code class="sig-name descname">package_re</code><em class="property"> = 'public/build/target\\.tar\\.bz2'</em><a class="headerlink" href="#mozbuild.artifacts.LinuxArtifactJob.package_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.LinuxArtifactJob.process_package_artifact">
<code class="sig-name descname">process_package_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.LinuxArtifactJob.process_package_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.LinuxArtifactJob.product">
<code class="sig-name descname">product</code><em class="property"> = 'firefox'</em><a class="headerlink" href="#mozbuild.artifacts.LinuxArtifactJob.product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.LinuxThunderbirdArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">LinuxThunderbirdArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.LinuxThunderbirdArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ThunderbirdMixin" title="mozbuild.artifacts.ThunderbirdMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ThunderbirdMixin</span></code></a>, <a class="reference internal" href="#mozbuild.artifacts.LinuxArtifactJob" title="mozbuild.artifacts.LinuxArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.LinuxArtifactJob</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.MacArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">MacArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.MacArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ArtifactJob" title="mozbuild.artifacts.ArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ArtifactJob</span></code></a></p>
<dl class="py attribute">
<dt id="mozbuild.artifacts.MacArtifactJob.package_re">
<code class="sig-name descname">package_re</code><em class="property"> = 'public/build/target\\.dmg'</em><a class="headerlink" href="#mozbuild.artifacts.MacArtifactJob.package_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.MacArtifactJob.paths_no_keep_path">
<em class="property">property </em><code class="sig-name descname">paths_no_keep_path</code><a class="headerlink" href="#mozbuild.artifacts.MacArtifactJob.paths_no_keep_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.MacArtifactJob.process_package_artifact">
<code class="sig-name descname">process_package_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.MacArtifactJob.process_package_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.MacArtifactJob.product">
<code class="sig-name descname">product</code><em class="property"> = 'firefox'</em><a class="headerlink" href="#mozbuild.artifacts.MacArtifactJob.product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.MacThunderbirdArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">MacThunderbirdArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.MacThunderbirdArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ThunderbirdMixin" title="mozbuild.artifacts.ThunderbirdMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ThunderbirdMixin</span></code></a>, <a class="reference internal" href="#mozbuild.artifacts.MacArtifactJob" title="mozbuild.artifacts.MacArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.MacArtifactJob</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.PushheadCache">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">PushheadCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cache_dir</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.PushheadCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.CacheManager" title="mozbuild.artifacts.CacheManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.CacheManager</span></code></a></p>
<p>Helps map tree/revision pairs to parent pushheads according to the pushlog.</p>
<dl class="py method">
<dt id="mozbuild.artifacts.PushheadCache.parent_pushhead_id">
<code class="sig-name descname">parent_pushhead_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">revision</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.PushheadCache.parent_pushhead_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.PushheadCache.pushid_range">
<code class="sig-name descname">pushid_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.PushheadCache.pushid_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.TaskCache">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">TaskCache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cache_dir</span></em>, <em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">skip_cache</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.TaskCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.CacheManager" title="mozbuild.artifacts.CacheManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.CacheManager</span></code></a></p>
<p>Map candidate pushheads to Task Cluster task IDs and artifact URLs.</p>
<dl class="py method">
<dt id="mozbuild.artifacts.TaskCache.artifacts">
<code class="sig-name descname">artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">artifact_job_class</span></em>, <em class="sig-param"><span class="n">rev</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.TaskCache.artifacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.ThunderbirdMixin">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">ThunderbirdMixin</code><a class="headerlink" href="#mozbuild.artifacts.ThunderbirdMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="mozbuild.artifacts.ThunderbirdMixin.candidate_trees">
<code class="sig-name descname">candidate_trees</code><em class="property"> = ['comm-central']</em><a class="headerlink" href="#mozbuild.artifacts.ThunderbirdMixin.candidate_trees" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ThunderbirdMixin.product">
<code class="sig-name descname">product</code><em class="property"> = 'thunderbird'</em><a class="headerlink" href="#mozbuild.artifacts.ThunderbirdMixin.product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ThunderbirdMixin.trust_domain">
<code class="sig-name descname">trust_domain</code><em class="property"> = 'comm'</em><a class="headerlink" href="#mozbuild.artifacts.ThunderbirdMixin.trust_domain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.ThunderbirdMixin.try_tree">
<code class="sig-name descname">try_tree</code><em class="property"> = 'try-comm-central'</em><a class="headerlink" href="#mozbuild.artifacts.ThunderbirdMixin.try_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.WinArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">WinArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ArtifactJob" title="mozbuild.artifacts.ArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ArtifactJob</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.artifacts.WinArtifactJob.package_artifact_patterns">
<em class="property">property </em><code class="sig-name descname">package_artifact_patterns</code><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob.package_artifact_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.WinArtifactJob.package_re">
<code class="sig-name descname">package_re</code><em class="property"> = 'public/build/target\\.(zip|tar\\.gz)'</em><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob.package_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.artifacts.WinArtifactJob.process_package_artifact">
<code class="sig-name descname">process_package_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">processed_filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob.process_package_artifact" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.WinArtifactJob.product">
<code class="sig-name descname">product</code><em class="property"> = 'firefox'</em><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob.product" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.artifacts.WinArtifactJob.test_artifact_patterns">
<code class="sig-name descname">test_artifact_patterns</code><em class="property"> = {('bin/BadCertAndPinningServer.exe', ('bin', 'bin')), ('bin/DelegatedCredentialsServer.exe', ('bin', 'bin')), ('bin/GenerateOCSPResponse.exe', ('bin', 'bin')), ('bin/OCSPStaplingServer.exe', ('bin', 'bin')), ('bin/SanctionsTestServer.exe', ('bin', 'bin')), ('bin/certutil.exe', ('bin', 'bin')), ('bin/components/*', ('bin/components', 'bin/components')), ('bin/geckodriver.exe', ('bin', 'bin')), ('bin/http3server.exe', ('bin', 'bin')), ('bin/minidumpwriter.exe', ('bin', 'bin')), ('bin/pk12util.exe', ('bin', 'bin')), ('bin/plugins/*', ('bin/plugins', 'plugins')), ('bin/plugins/gmp-*/*/*', ('bin/plugins', 'bin')), ('bin/screenshot.exe', ('bin', 'bin')), ('bin/ssltunnel.exe', ('bin', 'bin')), ('bin/xpcshell.exe', ('bin', 'bin'))}</em><a class="headerlink" href="#mozbuild.artifacts.WinArtifactJob.test_artifact_patterns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.artifacts.WinThunderbirdArtifactJob">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">WinThunderbirdArtifactJob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">download_tests</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">download_symbols</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_host_bins</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">download_maven_zip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozbuild</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.WinThunderbirdArtifactJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.artifacts.ThunderbirdMixin" title="mozbuild.artifacts.ThunderbirdMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.ThunderbirdMixin</span></code></a>, <a class="reference internal" href="#mozbuild.artifacts.WinArtifactJob" title="mozbuild.artifacts.WinArtifactJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.artifacts.WinArtifactJob</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.artifacts.cachedmethod">
<code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">cachedmethod</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cachefunc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.cachedmethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to wrap a class or instance method with a memoizing callable that
saves results in a (possibly shared) cache.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.artifacts.startswithwhich">
<code class="sig-prename descclassname">mozbuild.artifacts.</code><code class="sig-name descname">startswithwhich</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">prefixes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.artifacts.startswithwhich" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.base">
<span id="mozbuild-base-module"></span><h2>mozbuild.base module<a class="headerlink" href="#module-mozbuild.base" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="mozbuild.base.BadEnvironmentException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">BadEnvironmentException</code><a class="headerlink" href="#mozbuild.base.BadEnvironmentException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base class for errors raised when the build environment is not sane.</p>
</dd></dl>

<dl class="py exception">
<dt id="mozbuild.base.BinaryNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">BinaryNotFoundException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.BinaryNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when the binary is not found in the expected location.</p>
<dl class="py method">
<dt id="mozbuild.base.BinaryNotFoundException.help">
<code class="sig-name descname">help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.BinaryNotFoundException.help" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="mozbuild.base.BuildEnvironmentNotFoundException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">BuildEnvironmentNotFoundException</code><a class="headerlink" href="#mozbuild.base.BuildEnvironmentNotFoundException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.BadEnvironmentException" title="mozbuild.base.BadEnvironmentException"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.BadEnvironmentException</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeError</span></code></p>
<p>Raised when we could not find a build environment.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.base.ExecutionSummary">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">ExecutionSummary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">summary_format</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.ExecutionSummary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Helper for execution summaries.</p>
<dl class="py method">
<dt id="mozbuild.base.ExecutionSummary.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">summary_format</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.ExecutionSummary.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.base.MachCommandBase">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">MachCommandBase</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MozbuildObject" title="mozbuild.base.MozbuildObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MozbuildObject</span></code></a></p>
<p>Base class for mach command providers that wish to be MozbuildObjects.</p>
<p>This provides a level of indirection so MozbuildObject can be refactored
without having to change everything that inherits from it.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.base.MachCommandConditions">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">MachCommandConditions</code><a class="headerlink" href="#mozbuild.base.MachCommandConditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A series of commonly used condition functions which can be applied to
mach commands with providers deriving from MachCommandBase.</p>
<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.has_build">
<em class="property">static </em><code class="sig-name descname">has_build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.has_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.has_build_or_shell">
<em class="property">static </em><code class="sig-name descname">has_build_or_shell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.has_build_or_shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a build or a shell build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_android">
<em class="property">static </em><code class="sig-name descname">is_android</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_android" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have an Android build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_artifact_build">
<em class="property">static </em><code class="sig-name descname">is_artifact_build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_artifact_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be an artifact build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_buildapp_in">
<em class="property">static </em><code class="sig-name descname">is_buildapp_in</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em>, <em class="sig-param"><span class="n">apps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_buildapp_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a build for one of the given app</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_firefox">
<em class="property">static </em><code class="sig-name descname">is_firefox</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_firefox" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a Firefox build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_firefox_or_android">
<em class="property">static </em><code class="sig-name descname">is_firefox_or_android</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_firefox_or_android" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a Firefox or Android build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_firefox_or_thunderbird">
<em class="property">static </em><code class="sig-name descname">is_firefox_or_thunderbird</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_firefox_or_thunderbird" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a Firefox or Thunderbird build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_git">
<em class="property">static </em><code class="sig-name descname">is_git</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_git" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a git source checkout.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_hg">
<em class="property">static </em><code class="sig-name descname">is_hg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_hg" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a mercurial source checkout.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_jsshell">
<em class="property">static </em><code class="sig-name descname">is_jsshell</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_jsshell" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a jsshell build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_non_artifact_build">
<em class="property">static </em><code class="sig-name descname">is_non_artifact_build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_non_artifact_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Must not be an artifact build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_not_android">
<em class="property">static </em><code class="sig-name descname">is_not_android</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_not_android" title="Permalink to this definition">¶</a></dt>
<dd><p>Must not have an Android build.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MachCommandConditions.is_thunderbird">
<em class="property">static </em><code class="sig-name descname">is_thunderbird</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MachCommandConditions.is_thunderbird" title="Permalink to this definition">¶</a></dt>
<dd><p>Must have a Thunderbird build.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.base.MozbuildObject">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">MozbuildObject</code><span class="sig-paren">(</span><em class="sig-param">topsrcdir</em>, <em class="sig-param">settings</em>, <em class="sig-param">log_manager</em>, <em class="sig-param">topobjdir=None</em>, <em class="sig-param">mozconfig=&lt;object object&gt;</em>, <em class="sig-param">virtualenv_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mach.mixin.html#mach.mixin.process.ProcessExecutionMixin" title="mach.mixin.process.ProcessExecutionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">mach.mixin.process.ProcessExecutionMixin</span></code></a></p>
<p>Base class providing basic functionality useful to many modules.</p>
<p>Modules in this package typically require common functionality such as
accessing the current config, getting the location of the source directory,
running processes, etc. This classes provides that functionality. Other
modules can inherit from this class to obtain this functionality easily.</p>
<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.activate_virtualenv">
<code class="sig-name descname">activate_virtualenv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.activate_virtualenv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.backend_out_of_date">
<code class="sig-name descname">backend_out_of_date</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backend_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.backend_out_of_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.bindir">
<em class="property">property </em><code class="sig-name descname">bindir</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.bindir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.build_out_of_date">
<code class="sig-name descname">build_out_of_date</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">dep_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.build_out_of_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.config_environment">
<em class="property">property </em><code class="sig-name descname">config_environment</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.config_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ConfigEnvironment for the current build configuration.</p>
<p>This property is only available once configure has executed.</p>
<p>If configure’s output is not available, this will raise.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.defines">
<em class="property">property </em><code class="sig-name descname">defines</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.defines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.distdir">
<em class="property">property </em><code class="sig-name descname">distdir</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.distdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.from_environment">
<em class="property">classmethod </em><code class="sig-name descname">from_environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cwd</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">detect_virtualenv_mozinfo</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.from_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a MozbuildObject by detecting the proper one from the env.</p>
<p>This examines environment state like the current working directory and
creates a MozbuildObject from the found source directory, mozconfig, etc.</p>
<p>The role of this function is to identify a topsrcdir, topobjdir, and
mozconfig file.</p>
<p>If the current working directory is inside a known objdir, we always
use the topsrcdir and mozconfig associated with that objdir.</p>
<p>If the current working directory is inside a known srcdir, we use that
topsrcdir and look for mozconfigs using the default mechanism, which
looks inside environment variables.</p>
<p>If the current Python interpreter is running from a virtualenv inside
an objdir, we use that as our objdir.</p>
<p>If we’re not inside a srcdir or objdir, an exception is raised.</p>
<p>detect_virtualenv_mozinfo determines whether we should look for a
mozinfo.json file relative to the virtualenv directory. This was
added to facilitate testing. Callers likely shouldn’t change the
default.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.get_binary_path">
<code class="sig-name descname">get_binary_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">'app'</span></em>, <em class="sig-param"><span class="n">validate_exists</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">where</span><span class="o">=</span><span class="default_value">'default'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.get_binary_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the path to a compiled binary for this build configuration.</p>
<p>The what argument is the program or tool being sought after. See the
code implementation for supported values.</p>
<p>If validate_exists is True (the default), we will ensure the found path
exists before returning, raising an exception if it doesn’t.</p>
<p>If where is ‘staged-package’, we will return the path to the binary in
the package staging directory.</p>
<p>If no arguments are specified, we will return the main binary for the
configured XUL application.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.get_mozconfig_and_target">
<em class="property">static </em><code class="sig-name descname">get_mozconfig_and_target</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">env_mozconfig</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.get_mozconfig_and_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.includedir">
<em class="property">property </em><code class="sig-name descname">includedir</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.includedir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.is_clobber_needed">
<code class="sig-name descname">is_clobber_needed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.is_clobber_needed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.mozbuild_reader">
<code class="sig-name descname">mozbuild_reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_mode</span><span class="o">=</span><span class="default_value">'build'</span></em>, <em class="sig-param"><span class="n">vcs_revision</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vcs_check_clean</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.mozbuild_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a <code class="docutils literal notranslate"><span class="pre">BuildReader</span></code> for evaluating moz.build files.</p>
<p>Given arguments, returns a <code class="docutils literal notranslate"><span class="pre">mozbuild.frontend.reader.BuildReader</span></code>
that can be used to evaluate moz.build files for this repo.</p>
<p><code class="docutils literal notranslate"><span class="pre">config_mode</span></code> is either <code class="docutils literal notranslate"><span class="pre">build</span></code> or <code class="docutils literal notranslate"><span class="pre">empty</span></code>. If <code class="docutils literal notranslate"><span class="pre">build</span></code>,
<code class="docutils literal notranslate"><span class="pre">self.config_environment</span></code> is used. This requires a configured build
system to work. If <code class="docutils literal notranslate"><span class="pre">empty</span></code>, an empty config is used. <code class="docutils literal notranslate"><span class="pre">empty</span></code> is
appropriate for file-based traversal mode where <code class="docutils literal notranslate"><span class="pre">Files</span></code> metadata is
read.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">vcs_revision</span></code> is defined, it specifies a version control revision
to use to obtain files content. The default is to use the filesystem.
This mode is only supported with Mercurial repositories.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">vcs_revision</span></code> is not defined and the version control checkout is
sparse, this implies <code class="docutils literal notranslate"><span class="pre">vcs_revision='.'</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">vcs_revision</span></code> is <code class="docutils literal notranslate"><span class="pre">.</span></code> (denotes the parent of the working
directory), we will verify that the working directory is clean unless
<code class="docutils literal notranslate"><span class="pre">vcs_check_clean</span></code> is False. This prevents confusion due to uncommitted
file changes not being reflected in the reader.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.mozconfig">
<em class="property">property </em><code class="sig-name descname">mozconfig</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.mozconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information about the current mozconfig file.</p>
<p>This a dict as returned by MozconfigLoader.read_mozconfig()</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.mozconfig_and_target">
<em class="property">property </em><code class="sig-name descname">mozconfig_and_target</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.mozconfig_and_target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.notify">
<code class="sig-name descname">notify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Show a desktop notification with the supplied message</p>
<p>On Linux and Mac, this will show a desktop notification with the message,
but on Windows we can only flash the screen.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.platform">
<em class="property">property </em><code class="sig-name descname">platform</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.platform" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns current platform and architecture name</p>
</dd></dl>

<dl class="py attribute">
<dt id="mozbuild.base.MozbuildObject.python3">
<code class="sig-name descname">python3</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.python3" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized version of the memoize decorator that works for
class instance properties.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.reload_config_environment">
<code class="sig-name descname">reload_config_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.reload_config_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Force config.status to be re-read and return the new value
of <code class="docutils literal notranslate"><span class="pre">self.config_environment</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="mozbuild.base.MozbuildObject.repository">
<code class="sig-name descname">repository</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.repository" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized version of the memoize decorator that works for
class instance properties.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.resolve_config_guess">
<code class="sig-name descname">resolve_config_guess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.resolve_config_guess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.resolve_mozconfig_topobjdir">
<code class="sig-name descname">resolve_mozconfig_topobjdir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.MozbuildObject.resolve_mozconfig_topobjdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.statedir">
<em class="property">property </em><code class="sig-name descname">statedir</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.statedir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.substs">
<em class="property">property </em><code class="sig-name descname">substs</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.substs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.topobjdir">
<em class="property">property </em><code class="sig-name descname">topobjdir</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.topobjdir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.MozbuildObject.virtualenv_manager">
<em class="property">property </em><code class="sig-name descname">virtualenv_manager</code><a class="headerlink" href="#mozbuild.base.MozbuildObject.virtualenv_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="mozbuild.base.ObjdirMismatchException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">ObjdirMismatchException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">objdir1</span></em>, <em class="sig-param"><span class="n">objdir2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.ObjdirMismatchException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.BadEnvironmentException" title="mozbuild.base.BadEnvironmentException"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.BadEnvironmentException</span></code></a></p>
<p>Raised when the current dir is an objdir and doesn’t match the mozconfig.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.base.PathArgument">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">PathArgument</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">cwd</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.PathArgument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parse a filesystem path argument and transform it in various ways.</p>
<dl class="py method">
<dt id="mozbuild.base.PathArgument.objdir_path">
<code class="sig-name descname">objdir_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.PathArgument.objdir_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.base.PathArgument.relpath">
<code class="sig-name descname">relpath</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.PathArgument.relpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a path relative to the topsrcdir or topobjdir.</p>
<p>If the argument is a path to a location in one of the base directories
(topsrcdir or topobjdir), then strip off the base directory part and
just return the path within the base directory.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.base.PathArgument.srcdir_path">
<code class="sig-name descname">srcdir_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.PathArgument.srcdir_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.base.ancestors">
<code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">ancestors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.ancestors" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the parent directories of a path.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.base.samepath">
<code class="sig-prename descclassname">mozbuild.base.</code><code class="sig-name descname">samepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path1</span></em>, <em class="sig-param"><span class="n">path2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.base.samepath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.build_commands">
<span id="mozbuild-build-commands-module"></span><h2>mozbuild.build_commands module<a class="headerlink" href="#module-mozbuild.build_commands" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.build_commands.Build">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.build_commands.</code><code class="sig-name descname">Build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.build_commands.Build" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Interface to build the tree.</p>
<dl class="py method">
<dt id="mozbuild.build_commands.Build.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobs</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">keep_going</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.build_commands.Build.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the source tree.</p>
<p>With no arguments, this will perform a full build.</p>
<p>Positional arguments define targets to build. These can be make targets
or patterns like “&lt;dir&gt;/&lt;target&gt;” to indicate a make target within a
directory.</p>
<p>There are a few special targets that can be used to perform a partial
build faster than what <cite>mach build</cite> would perform:</p>
<ul class="simple">
<li><p>binaries - compiles and links all C/C++ sources and produces shared
libraries and executables (binaries).</p></li>
<li><p>faster - builds JavaScript, XUL, CSS, etc files.</p></li>
</ul>
<p>“binaries” and “faster” almost fully complement each other. However,
there are build actions not captured by either. If things don’t appear to
be rebuilding, perform a vanilla <cite>mach build</cite> to rebuild the world.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.build_commands.Build.build_backend">
<code class="sig-name descname">build_backend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">backend</span></em>, <em class="sig-param"><span class="n">diff</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dry_run</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.build_commands.Build.build_backend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.build_commands.Build.configure">
<code class="sig-name descname">configure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">options</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">buildstatus_messages</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">line_handler</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.build_commands.Build.configure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.build_commands.Build.resource_usage">
<code class="sig-name descname">resource_usage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">address</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">browser</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">url</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.build_commands.Build.resource_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.chunkify">
<span id="mozbuild-chunkify-module"></span><h2>mozbuild.chunkify module<a class="headerlink" href="#module-mozbuild.chunkify" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="mozbuild.chunkify.ChunkingError">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.chunkify.</code><code class="sig-name descname">ChunkingError</code><a class="headerlink" href="#mozbuild.chunkify.ChunkingError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.chunkify.chunkify">
<code class="sig-prename descclassname">mozbuild.chunkify.</code><code class="sig-name descname">chunkify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">things</span></em>, <em class="sig-param"><span class="n">this_chunk</span></em>, <em class="sig-param"><span class="n">chunks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.chunkify.chunkify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.chunkify.split_evenly">
<code class="sig-prename descclassname">mozbuild.chunkify.</code><code class="sig-name descname">split_evenly</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span></em>, <em class="sig-param"><span class="n">chunks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.chunkify.split_evenly" title="Permalink to this definition">¶</a></dt>
<dd><p>Split an integer into evenly distributed list</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_evenly</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 2, 2]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_evenly</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">[4, 4, 4]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_evenly</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">[4, 4, 4, 4, 4, 3, 3, 3, 3, 3]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_evenly</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">ChunkingError</span>: <span class="n">Number of chunks is greater than number</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.config_status">
<span id="mozbuild-config-status-module"></span><h2>mozbuild.config_status module<a class="headerlink" href="#module-mozbuild.config_status" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.config_status.config_status">
<code class="sig-prename descclassname">mozbuild.config_status.</code><code class="sig-name descname">config_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topobjdir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">topsrcdir</span><span class="o">=</span><span class="default_value">'.'</span></em>, <em class="sig-param"><span class="n">defines</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">substs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mozconfig</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">args</span><span class="o">=</span><span class="default_value">['doc']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.config_status.config_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function, providing config.status functionality.</p>
<p>Contrary to config.status, it doesn’t use CONFIG_FILES or CONFIG_HEADERS
variables.</p>
<p>Without the -n option, this program acts as config.status and considers
the current directory as the top object directory, even when config.status
is in a different directory. It will, however, treat the directory
containing config.status as the top object directory with the -n option.</p>
<p>The options to this function are passed when creating the
ConfigEnvironment. These lists, as well as the actual wrapper script
around this function, are meant to be generated by configure.
See build/autoconf/config.status.m4.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.doctor">
<span id="mozbuild-doctor-module"></span><h2>mozbuild.doctor module<a class="headerlink" href="#module-mozbuild.doctor" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.doctor.Doctor">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.doctor.</code><code class="sig-name descname">Doctor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">srcdir</span></em>, <em class="sig-param"><span class="n">objdir</span></em>, <em class="sig-param"><span class="n">fix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mozbuild.doctor.Doctor.check_all">
<code class="sig-name descname">check_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor.check_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.check_mount_lastaccess">
<code class="sig-name descname">check_mount_lastaccess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mount</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor.check_mount_lastaccess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.cpu">
<em class="property">property </em><code class="sig-name descname">cpu</code><a class="headerlink" href="#mozbuild.doctor.Doctor.cpu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.fs_lastaccess">
<em class="property">property </em><code class="sig-name descname">fs_lastaccess</code><a class="headerlink" href="#mozbuild.doctor.Doctor.fs_lastaccess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.getmount">
<code class="sig-name descname">getmount</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor.getmount" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.memory">
<em class="property">property </em><code class="sig-name descname">memory</code><a class="headerlink" href="#mozbuild.doctor.Doctor.memory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.mozillabuild">
<em class="property">property </em><code class="sig-name descname">mozillabuild</code><a class="headerlink" href="#mozbuild.doctor.Doctor.mozillabuild" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.platform">
<em class="property">property </em><code class="sig-name descname">platform</code><a class="headerlink" href="#mozbuild.doctor.Doctor.platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.prompt_bool">
<code class="sig-name descname">prompt_bool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prompt</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor.prompt_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Prompts the user with prompt and requires a boolean value.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">results</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.doctor.Doctor.report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.doctor.Doctor.storage_freespace">
<em class="property">property </em><code class="sig-name descname">storage_freespace</code><a class="headerlink" href="#mozbuild.doctor.Doctor.storage_freespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.dotproperties">
<span id="mozbuild-dotproperties-module"></span><h2>mozbuild.dotproperties module<a class="headerlink" href="#module-mozbuild.dotproperties" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.dotproperties.DotProperties">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.dotproperties.</code><code class="sig-name descname">DotProperties</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.dotproperties.DotProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A thin representation of a key=value .properties file.</p>
<dl class="py method">
<dt id="mozbuild.dotproperties.DotProperties.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.dotproperties.DotProperties.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.dotproperties.DotProperties.get_dict">
<code class="sig-name descname">get_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefix</span></em>, <em class="sig-param"><span class="n">required_keys</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.dotproperties.DotProperties.get_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns {‘foo.title’:’title’, …} into {‘title’:’title’, …}.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">|required_keys|</span></code> is present, it must be an iterable of required key
names.  If a required key is not present, ValueError is thrown.</p>
<p>Returns {} to indicate an empty or missing dict.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.dotproperties.DotProperties.get_list">
<code class="sig-name descname">get_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.dotproperties.DotProperties.get_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns {‘list.0’:’foo’, ‘list.1’:’bar’} into [‘foo’, ‘bar’].</p>
<p>Returns [] to indicate an empty or missing list.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.dotproperties.DotProperties.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.dotproperties.DotProperties.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates properties from a file name or file-like object.</p>
<p>Ignores empty lines and comment lines.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.export_telemetry_schema">
<span id="mozbuild-export-telemetry-schema-module"></span><h2>mozbuild.export_telemetry_schema module<a class="headerlink" href="#module-mozbuild.export_telemetry_schema" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.export_telemetry_schema.ensure_luscious">
<code class="sig-prename descclassname">mozbuild.export_telemetry_schema.</code><code class="sig-name descname">ensure_luscious</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">virtualenv_manager</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.export_telemetry_schema.ensure_luscious" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.export_telemetry_schema.main">
<code class="sig-prename descclassname">mozbuild.export_telemetry_schema.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.export_telemetry_schema.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="mozbuild-faster-daemon-module">
<h2>mozbuild.faster_daemon module<a class="headerlink" href="#mozbuild-faster-daemon-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mozbuild.gen_test_backend">
<span id="mozbuild-gen-test-backend-module"></span><h2>mozbuild.gen_test_backend module<a class="headerlink" href="#module-mozbuild.gen_test_backend" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.gen_test_backend.gen_test_backend">
<code class="sig-prename descclassname">mozbuild.gen_test_backend.</code><code class="sig-name descname">gen_test_backend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gen_test_backend.gen_test_backend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.generated_sources">
<span id="mozbuild-generated-sources-module"></span><h2>mozbuild.generated_sources module<a class="headerlink" href="#module-mozbuild.generated_sources" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.generated_sources.get_filename_with_digest">
<code class="sig-prename descclassname">mozbuild.generated_sources.</code><code class="sig-name descname">get_filename_with_digest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">contents</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.generated_sources.get_filename_with_digest" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filename that will be used to store the generated file
in the S3 bucket, consisting of the SHA-512 digest of <cite>contents</cite>
joined with the relative path <cite>name</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.generated_sources.get_generated_sources">
<code class="sig-prename descclassname">mozbuild.generated_sources.</code><code class="sig-name descname">get_generated_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.generated_sources.get_generated_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield tuples of <cite>(objdir-rel-path, file)</cite> for generated source files
in this objdir, where <cite>file</cite> is either an absolute path to the file or
a <cite>mozpack.File</cite> instance.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.generated_sources.get_s3_region_and_bucket">
<code class="sig-prename descclassname">mozbuild.generated_sources.</code><code class="sig-name descname">get_s3_region_and_bucket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.generated_sources.get_s3_region_and_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of (region, bucket) giving the AWS region and S3
bucket to which generated sources should be uploaded.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.generated_sources.sha512_digest">
<code class="sig-prename descclassname">mozbuild.generated_sources.</code><code class="sig-name descname">sha512_digest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.generated_sources.sha512_digest" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the SHA-512 digest of <cite>data</cite> and return it as a hex string.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.gn_processor">
<span id="mozbuild-gn-processor-module"></span><h2>mozbuild.gn_processor module<a class="headerlink" href="#module-mozbuild.gn_processor" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.gn_processor.GnConfigGenBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">GnConfigGenBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnConfigGenBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.backend.html#mozbuild.backend.base.BuildBackend" title="mozbuild.backend.base.BuildBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.BuildBackend</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.gn_processor.GnConfigGenBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnConfigGenBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.GnConfigGenBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnConfigGenBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.gn_processor.GnMozbuildWriterBackend">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">GnMozbuildWriterBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">environment</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnMozbuildWriterBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mozbuild.backend.html#mozbuild.backend.base.BuildBackend" title="mozbuild.backend.base.BuildBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.backend.base.BuildBackend</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.gn_processor.GnMozbuildWriterBackend.consume_finished">
<code class="sig-name descname">consume_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnMozbuildWriterBackend.consume_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when consume() has completed handling all objects.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.GnMozbuildWriterBackend.consume_object">
<code class="sig-name descname">consume_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.GnMozbuildWriterBackend.consume_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Consumes an individual TreeMetadata instance.</p>
<p>This is the main method used by child classes to react to build
metadata.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.gn_processor.MozbuildWriter">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">MozbuildWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.finalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.mb_serialize">
<code class="sig-name descname">mb_serialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.mb_serialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.terminate_condition">
<code class="sig-name descname">terminate_condition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.terminate_condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">content</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_attrs">
<code class="sig-name descname">write_attrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context_attrs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_condition">
<code class="sig-name descname">write_condition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_condition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_ln">
<code class="sig-name descname">write_ln</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_ln" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_mozbuild_dict">
<code class="sig-name descname">write_mozbuild_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_mozbuild_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_mozbuild_list">
<code class="sig-name descname">write_mozbuild_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_mozbuild_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.gn_processor.MozbuildWriter.write_mozbuild_value">
<code class="sig-name descname">write_mozbuild_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.MozbuildWriter.write_mozbuild_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.filter_gn_config">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">filter_gn_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gn_result</span></em>, <em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">sandbox_vars</span></em>, <em class="sig-param"><span class="n">input_vars</span></em>, <em class="sig-param"><span class="n">gn_target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.filter_gn_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.find_common_attrs">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">find_common_attrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_attributes</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.find_common_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.find_deps">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">find_deps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">all_targets</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.find_deps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.generate_gn_config">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">generate_gn_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">srcdir</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">non_unified_sources</span></em>, <em class="sig-param"><span class="n">gn_binary</span></em>, <em class="sig-param"><span class="n">input_variables</span></em>, <em class="sig-param"><span class="n">sandbox_variables</span></em>, <em class="sig-param"><span class="n">gn_target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.generate_gn_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.process_gn_config">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">process_gn_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gn_config</span></em>, <em class="sig-param"><span class="n">srcdir</span></em>, <em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">non_unified_sources</span></em>, <em class="sig-param"><span class="n">sandbox_vars</span></em>, <em class="sig-param"><span class="n">mozilla_flags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.process_gn_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.gn_processor.write_mozbuild">
<code class="sig-prename descclassname">mozbuild.gn_processor.</code><code class="sig-name descname">write_mozbuild</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">srcdir</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">non_unified_sources</span></em>, <em class="sig-param"><span class="n">gn_config_files</span></em>, <em class="sig-param"><span class="n">mozilla_flags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.gn_processor.write_mozbuild" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.html_build_viewer">
<span id="mozbuild-html-build-viewer-module"></span><h2>mozbuild.html_build_viewer module<a class="headerlink" href="#module-mozbuild.html_build_viewer" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.html_build_viewer.BuildViewerServer">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.html_build_viewer.</code><code class="sig-name descname">BuildViewerServer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">address</span><span class="o">=</span><span class="default_value">'localhost'</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.BuildViewerServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="mozbuild.html_build_viewer.BuildViewerServer.add_resource_json_file">
<code class="sig-name descname">add_resource_json_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.BuildViewerServer.add_resource_json_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a resource JSON file with the server.</p>
<p>The file will be made available under the name/key specified.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.html_build_viewer.BuildViewerServer.add_resource_json_url">
<code class="sig-name descname">add_resource_json_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">url</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.BuildViewerServer.add_resource_json_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a resource JSON file at a URL.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.html_build_viewer.BuildViewerServer.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.BuildViewerServer.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.html_build_viewer.BuildViewerServer.url">
<em class="property">property </em><code class="sig-name descname">url</code><a class="headerlink" href="#mozbuild.html_build_viewer.BuildViewerServer.url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.html_build_viewer.HTTPHandler">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.html_build_viewer.</code><code class="sig-name descname">HTTPHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">request</span></em>, <em class="sig-param"><span class="n">client_address</span></em>, <em class="sig-param"><span class="n">server</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.HTTPHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">http.server.BaseHTTPRequestHandler</span></code></p>
<dl class="py method">
<dt id="mozbuild.html_build_viewer.HTTPHandler.do_GET">
<code class="sig-name descname">do_GET</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.HTTPHandler.do_GET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.html_build_viewer.HTTPHandler.do_POST">
<code class="sig-name descname">do_POST</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.HTTPHandler.do_POST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.html_build_viewer.HTTPHandler.serve_docroot">
<code class="sig-name descname">serve_docroot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.html_build_viewer.HTTPHandler.serve_docroot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.jar">
<span id="mozbuild-jar-module"></span><h2>mozbuild.jar module<a class="headerlink" href="#module-mozbuild.jar" title="Permalink to this headline">¶</a></h2>
<p>jarmaker.py provides a python class to package up chrome content by
processing jar.mn files.</p>
<p>See the documentation for jar.mn on MDC for further details on the format.</p>
<dl class="py class">
<dt id="mozbuild.jar.JarMaker">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.jar.</code><code class="sig-name descname">JarMaker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">outputFormat</span><span class="o">=</span><span class="default_value">'flat'</span></em>, <em class="sig-param"><span class="n">useJarfileManifest</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">useChromeManifest</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>JarMaker reads jar.mn files and process those into jar files or
flat directories, along with chrome.manifest files.</p>
<dl class="py class">
<dt id="mozbuild.jar.JarMaker.OutputHelper_flat">
<em class="property">class </em><code class="sig-name descname">OutputHelper_flat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_flat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provide getDestModTime and getOutput for a given flat
output directory. The helper method ensureDirFor is used by
the symlink subclass.</p>
<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_flat.ensureDirFor">
<code class="sig-name descname">ensureDirFor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_flat.ensureDirFor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_flat.getDestModTime">
<code class="sig-name descname">getDestModTime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aPath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_flat.getDestModTime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_flat.getOutput">
<code class="sig-name descname">getOutput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'wb'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_flat.getOutput" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.jar.JarMaker.OutputHelper_jar">
<em class="property">class </em><code class="sig-name descname">OutputHelper_jar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jarfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_jar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provide getDestModTime and getOutput for a given jarfile.</p>
<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_jar.getDestModTime">
<code class="sig-name descname">getDestModTime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aPath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_jar.getDestModTime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_jar.getOutput">
<code class="sig-name descname">getOutput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'wb'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_jar.getOutput" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.jar.JarMaker.OutputHelper_symlink">
<em class="property">class </em><code class="sig-name descname">OutputHelper_symlink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">basepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_symlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.jar.JarMaker.OutputHelper_flat" title="mozbuild.jar.JarMaker.OutputHelper_flat"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.jar.JarMaker.OutputHelper_flat</span></code></a></p>
<p>Subclass of OutputHelper_flat that provides a helper for
creating a symlink including creating the parent directories.</p>
<dl class="py method">
<dt id="mozbuild.jar.JarMaker.OutputHelper_symlink.symlink">
<code class="sig-name descname">symlink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">dest</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.OutputHelper_symlink.symlink" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.finalizeJar">
<code class="sig-name descname">finalizeJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jardir</span></em>, <em class="sig-param"><span class="n">jarbase</span></em>, <em class="sig-param"><span class="n">jarname</span></em>, <em class="sig-param"><span class="n">chromebasepath</span></em>, <em class="sig-param"><span class="n">register</span></em>, <em class="sig-param"><span class="n">doZip</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.finalizeJar" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Helper method to write out the chrome registration entries to</dt><dd><p>jarfile.manifest or chrome.manifest, or both.</p>
</dd>
</dl>
<p>The actual file processing is done in updateManifest.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.generateLocaleDirs">
<code class="sig-name descname">generateLocaleDirs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">relativesrcdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.generateLocaleDirs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.getCommandLineParser">
<code class="sig-name descname">getCommandLineParser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.getCommandLineParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a optparse.OptionParser for jarmaker.</p>
<p>This OptionParser has the options for jarmaker as well as
the options for the inner PreProcessor.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.makeJar">
<code class="sig-name descname">makeJar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">infile</span></em>, <em class="sig-param"><span class="n">jardir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.makeJar" title="Permalink to this definition">¶</a></dt>
<dd><p>makeJar is the main entry point to JarMaker.</p>
<p>It takes the input file, the output directory, the source dirs and the
top source dir as argument, and optionally the l10n dirs.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.processJarSection">
<code class="sig-name descname">processJarSection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jarinfo</span></em>, <em class="sig-param"><span class="n">jardir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.processJarSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method called by makeJar to actually process a section
of a jar.mn file.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.jar.JarMaker.updateManifest">
<code class="sig-name descname">updateManifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manifestPath</span></em>, <em class="sig-param"><span class="n">chromebasepath</span></em>, <em class="sig-param"><span class="n">register</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.jar.JarMaker.updateManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>updateManifest replaces the % in the chrome registration entries
with the given chrome base path, and updates the given manifest file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.mach_commands">
<span id="mozbuild-mach-commands-module"></span><h2>mozbuild.mach_commands module<a class="headerlink" href="#module-mozbuild.mach_commands" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.mach_commands.Buildsymbols">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Buildsymbols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Buildsymbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Produce a package of debug symbols suitable for use with Breakpad.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Buildsymbols.buildsymbols">
<code class="sig-name descname">buildsymbols</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Buildsymbols.buildsymbols" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.CargoProvider">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">CargoProvider</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.CargoProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Invoke cargo in useful ways.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.CargoProvider.cargo">
<code class="sig-name descname">cargo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.CargoProvider.cargo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.CargoProvider.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">all_crates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crates</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobs</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.CargoProvider.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Clobber">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Clobber</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Clobber" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<dl class="py attribute">
<dt id="mozbuild.mach_commands.Clobber.CLOBBER_CHOICES">
<code class="sig-name descname">CLOBBER_CHOICES</code><em class="property"> = {'gradle', 'objdir', 'python'}</em><a class="headerlink" href="#mozbuild.mach_commands.Clobber.CLOBBER_CHOICES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.mach_commands.Clobber.NO_AUTO_LOG">
<code class="sig-name descname">NO_AUTO_LOG</code><em class="property"> = True</em><a class="headerlink" href="#mozbuild.mach_commands.Clobber.NO_AUTO_LOG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Clobber.clobber">
<code class="sig-name descname">clobber</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">what</span></em>, <em class="sig-param"><span class="n">full</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Clobber.clobber" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up the source and object directories.</p>
<p>Performing builds and running various commands generate various files.</p>
<p>Sometimes it is necessary to clean up these files in order to make
things work again. This command can be used to perform that cleanup.</p>
<p>The <cite>objdir</cite> target removes most files in the current object directory
(where build output is stored). Some files (like Visual Studio project
files) are not removed by default. If you would like to remove the
object directory in its entirety, run with <cite>–full</cite>.</p>
<p>The <cite>python</cite> target will clean up various generated Python files from
the source directory and will remove untracked files from well-known
directories containing Python packages. Run this to remove .pyc files,
compiled C extensions, etc. Note: all files not tracked or ignored by
version control in third_party/python will be deleted. Run the <cite>status</cite>
command of your VCS to see if any untracked files you haven’t committed
yet will be deleted.</p>
<p>The <cite>gradle</cite> target will remove the “gradle” subdirectory of the object
directory.</p>
<p>By default, the command clobbers the <cite>objdir</cite> and <cite>python</cite> targets.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Clobber.substs">
<em class="property">property </em><code class="sig-name descname">substs</code><a class="headerlink" href="#mozbuild.mach_commands.Clobber.substs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.CreateMachEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">CreateMachEnvironment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.CreateMachEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Create the mach virtualenvs.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.CreateMachEnvironment.create_mach_environment">
<code class="sig-name descname">create_mach_environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">force</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.CreateMachEnvironment.create_mach_environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Doctor">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Doctor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Doctor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Provide commands for diagnosing common build environment problems</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Doctor.doctor">
<code class="sig-name descname">doctor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fix</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Doctor.doctor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.GTestCommands">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">GTestCommands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.GTestCommands" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.mach_commands.GTestCommands.android_gtest">
<code class="sig-name descname">android_gtest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test_dir</span></em>, <em class="sig-param"><span class="n">shuffle</span></em>, <em class="sig-param"><span class="n">gtest_filter</span></em>, <em class="sig-param"><span class="n">package</span></em>, <em class="sig-param"><span class="n">adb_path</span></em>, <em class="sig-param"><span class="n">device_serial</span></em>, <em class="sig-param"><span class="n">remote_test_root</span></em>, <em class="sig-param"><span class="n">libxul_path</span></em>, <em class="sig-param"><span class="n">enable_webrender</span></em>, <em class="sig-param"><span class="n">install</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.GTestCommands.android_gtest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.GTestCommands.gtest">
<code class="sig-name descname">gtest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shuffle</span></em>, <em class="sig-param"><span class="n">jobs</span></em>, <em class="sig-param"><span class="n">gtest_filter</span></em>, <em class="sig-param"><span class="n">tbpl_parser</span></em>, <em class="sig-param"><span class="n">enable_webrender</span></em>, <em class="sig-param"><span class="n">package</span></em>, <em class="sig-param"><span class="n">adb_path</span></em>, <em class="sig-param"><span class="n">device_serial</span></em>, <em class="sig-param"><span class="n">remote_test_root</span></em>, <em class="sig-param"><span class="n">libxul_path</span></em>, <em class="sig-param"><span class="n">no_install</span></em>, <em class="sig-param"><span class="n">debug</span></em>, <em class="sig-param"><span class="n">debugger</span></em>, <em class="sig-param"><span class="n">debugger_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.GTestCommands.gtest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.GTestCommands.prepend_debugger_args">
<code class="sig-name descname">prepend_debugger_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">debugger</span></em>, <em class="sig-param"><span class="n">debugger_args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.GTestCommands.prepend_debugger_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an array with program arguments, prepend arguments to run it under a
debugger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – The executable and arguments used to run the process normally.</p></li>
<li><p><strong>debugger</strong> – The debugger to use, or empty to use the default debugger.</p></li>
<li><p><strong>debugger_args</strong> – Any additional parameters to pass to the debugger.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Install">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Install</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Install" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Install a package.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Install.install">
<code class="sig-name descname">install</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Install.install" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.L10NCommands">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">L10NCommands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.L10NCommands" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.mach_commands.L10NCommands.package_l10n">
<code class="sig-name descname">package_l10n</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">locales</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.L10NCommands.package_l10n" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Logs">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Logs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Provide commands to read mach logs.</p>
<dl class="py attribute">
<dt id="mozbuild.mach_commands.Logs.NO_AUTO_LOG">
<code class="sig-name descname">NO_AUTO_LOG</code><em class="property"> = True</em><a class="headerlink" href="#mozbuild.mach_commands.Logs.NO_AUTO_LOG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Logs.show_log">
<code class="sig-name descname">show_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Logs.show_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.MachDebug">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">MachDebug</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.MachDebug" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<dl class="py method">
<dt id="mozbuild.mach_commands.MachDebug.environment">
<code class="sig-name descname">environment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span></em>, <em class="sig-param"><span class="n">output</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.MachDebug.environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Package">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Package</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Package" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Package the built product for distribution.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Package.package">
<code class="sig-name descname">package</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Package.package" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Repackage">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Repackage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Repackages artifacts into different formats.</p>
<p>This is generally used after packages are signed by the signing
scriptworkers in order to bundle things up into shippable formats, such as a
.dmg on OSX or an installer exe on Windows.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Repackage.repackage">
<code class="sig-name descname">repackage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage.repackage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Repackage.repackage_dmg">
<code class="sig-name descname">repackage_dmg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">output</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage.repackage_dmg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Repackage.repackage_installer">
<code class="sig-name descname">repackage_installer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">setupexe</span></em>, <em class="sig-param"><span class="n">package</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">package_name</span></em>, <em class="sig-param"><span class="n">sfx_stub</span></em>, <em class="sig-param"><span class="n">use_upx</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage.repackage_installer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Repackage.repackage_mar">
<code class="sig-name descname">repackage_mar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">mar</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">arch</span></em>, <em class="sig-param"><span class="n">mar_channel_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage.repackage_mar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Repackage.repackage_msi">
<code class="sig-name descname">repackage_msi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wsx</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">locale</span></em>, <em class="sig-param"><span class="n">arch</span></em>, <em class="sig-param"><span class="n">setupexe</span></em>, <em class="sig-param"><span class="n">candle</span></em>, <em class="sig-param"><span class="n">light</span></em>, <em class="sig-param"><span class="n">output</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Repackage.repackage_msi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.RunProgram">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">RunProgram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.RunProgram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Run the compiled program.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.RunProgram.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.RunProgram.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.RunSettings">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">RunSettings</code><a class="headerlink" href="#mozbuild.mach_commands.RunSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="mozbuild.mach_commands.RunSettings.config_settings">
<code class="sig-name descname">config_settings</code><em class="property"> = [('runprefs.*', 'string', 'Pass a pref into Firefox when using `mach run`, of the form `foo.bar=value`.\nPrefs will automatically be cast into the appropriate type. Integers can be\nsingle quoted to force them to be strings.')]</em><a class="headerlink" href="#mozbuild.mach_commands.RunSettings.config_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.StoreDebugParamsAndWarnAction">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">StoreDebugParamsAndWarnAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">nargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">const</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">choices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">required</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">help</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metavar</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.StoreDebugParamsAndWarnAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.TelemetrySettings">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">TelemetrySettings</code><a class="headerlink" href="#mozbuild.mach_commands.TelemetrySettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt id="mozbuild.mach_commands.TelemetrySettings.config_settings">
<code class="sig-name descname">config_settings</code><em class="property"> = [('build.telemetry', 'boolean', 'Enable submission of build system telemetry.', False)]</em><a class="headerlink" href="#mozbuild.mach_commands.TelemetrySettings.config_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Warnings">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Warnings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Provide commands for inspecting warnings.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Warnings.database">
<em class="property">property </em><code class="sig-name descname">database</code><a class="headerlink" href="#mozbuild.mach_commands.Warnings.database" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Warnings.database_path">
<em class="property">property </em><code class="sig-name descname">database_path</code><a class="headerlink" href="#mozbuild.mach_commands.Warnings.database_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Warnings.join_ensure_dir">
<code class="sig-name descname">join_ensure_dir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir1</span></em>, <em class="sig-param"><span class="n">dir2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Warnings.join_ensure_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Warnings.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">report</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Warnings.list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mach_commands.Warnings.summary">
<code class="sig-name descname">summary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">report</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Warnings.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.mach_commands.Watch">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">Watch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">virtualenv_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metrics</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.base.MachCommandBase" title="mozbuild.base.MachCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.base.MachCommandBase</span></code></a></p>
<p>Interface to watch and re-build the tree.</p>
<dl class="py method">
<dt id="mozbuild.mach_commands.Watch.watch">
<code class="sig-name descname">watch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.Watch.watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch and re-build the source tree.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.mach_commands.setup_install_parser">
<code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">setup_install_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.setup_install_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.mach_commands.setup_run_parser">
<code class="sig-prename descclassname">mozbuild.mach_commands.</code><code class="sig-name descname">setup_run_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mach_commands.setup_run_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.makeutil">
<span id="mozbuild-makeutil-module"></span><h2>mozbuild.makeutil module<a class="headerlink" href="#module-mozbuild.makeutil" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.makeutil.Makefile">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.makeutil.</code><code class="sig-name descname">Makefile</code><a class="headerlink" href="#mozbuild.makeutil.Makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides an interface for writing simple makefiles</p>
<p>Instances of this class are created, populated with rules, then
written.</p>
<dl class="py method">
<dt id="mozbuild.makeutil.Makefile.add_statement">
<code class="sig-name descname">add_statement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">statement</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Makefile.add_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a raw statement in the makefile. Meant to be used for
simple variable assignments.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Makefile.create_rule">
<code class="sig-name descname">create_rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">targets</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Makefile.create_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new rule in the makefile for the given targets.
Returns the corresponding Rule instance.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Makefile.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em>, <em class="sig-param"><span class="n">removal_guard</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Makefile.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump all the rules to the given file handle. Optionally (and by
default), add guard rules for file removals (empty rules for other
rules’ dependencies)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.makeutil.Rule">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.makeutil.</code><code class="sig-name descname">Rule</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">targets</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class handling simple rules in the form:
target1 target2 … : dep1 dep2 …</p>
<blockquote>
<div><p>command1
command2
…</p>
</div></blockquote>
<dl class="py method">
<dt id="mozbuild.makeutil.Rule.add_commands">
<code class="sig-name descname">add_commands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">commands</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.add_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Add commands to the rule.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.add_dependencies">
<code class="sig-name descname">add_dependencies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.add_dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Add dependencies to the rule.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.add_targets">
<code class="sig-name descname">add_targets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">targets</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.add_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Add additional targets to the rule.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.commands">
<code class="sig-name descname">commands</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator on the rule commands.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.dependencies">
<code class="sig-name descname">dependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.dependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator on the rule dependencies.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump the rule to the given file handle.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.makeutil.Rule.targets">
<code class="sig-name descname">targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.Rule.targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator on the rule targets.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.makeutil.read_dep_makefile">
<code class="sig-prename descclassname">mozbuild.makeutil.</code><code class="sig-name descname">read_dep_makefile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.read_dep_makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the file handler containing a dep makefile (simple makefile only
containing dependencies) and returns an iterator of the corresponding Rules
it contains. Ignores removal guard rules.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.makeutil.write_dep_makefile">
<code class="sig-prename descclassname">mozbuild.makeutil.</code><code class="sig-name descname">write_dep_makefile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fh</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">deps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.makeutil.write_dep_makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a Makefile containing only target’s dependencies to the file handle
specified.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.mozconfig">
<span id="mozbuild-mozconfig-module"></span><h2>mozbuild.mozconfig module<a class="headerlink" href="#module-mozbuild.mozconfig" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="mozbuild.mozconfig.MozconfigLoadException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.mozconfig.</code><code class="sig-name descname">MozconfigLoadException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">output</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoadException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when a mozconfig could not be loaded properly.</p>
<p>This typically indicates a malformed or misbehaving mozconfig file.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.mozconfig.MozconfigLoader">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.mozconfig.</code><code class="sig-name descname">MozconfigLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles loading and parsing of mozconfig files.</p>
<dl class="py attribute">
<dt id="mozbuild.mozconfig.MozconfigLoader.AUTODETECT">
<code class="sig-name descname">AUTODETECT</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader.AUTODETECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.mozconfig.MozconfigLoader.ENVIRONMENT_VARIABLES">
<code class="sig-name descname">ENVIRONMENT_VARIABLES</code><em class="property"> = {'CC', 'CFLAGS', 'CXX', 'CXXFLAGS', 'LDFLAGS', 'MOZ_OBJDIR'}</em><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader.ENVIRONMENT_VARIABLES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.mozconfig.MozconfigLoader.IGNORE_SHELL_VARIABLES">
<code class="sig-name descname">IGNORE_SHELL_VARIABLES</code><em class="property"> = {'BASH_ARGC', 'BASH_ARGV', 'BASH_ARGV0', '_'}</em><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader.IGNORE_SHELL_VARIABLES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="mozbuild.mozconfig.MozconfigLoader.RE_MAKE_VARIABLE">
<code class="sig-name descname">RE_MAKE_VARIABLE</code><em class="property"> = re.compile('\n        ^\\s*                    # Leading whitespace\n        (?P&lt;var&gt;[a-zA-Z_0-9]+)  # Variable name\n        \\s* [?:]?= \\s*          # Assignment operator surrounded by optional\n             , re.VERBOSE)</em><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader.RE_MAKE_VARIABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.mozconfig.MozconfigLoader.read_mozconfig">
<code class="sig-name descname">read_mozconfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mozconfig.MozconfigLoader.read_mozconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a mozconfig into a data structure.</p>
<p>This takes the path to a mozconfig to load. If the given path is
AUTODETECT, will try to find a mozconfig from the environment using
find_mozconfig().</p>
<p>mozconfig files are shell scripts. So, we can’t just parse them.
Instead, we run the shell script in a wrapper which allows us to record
state from execution. Thus, the output from a mozconfig is a friendly
static data structure.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-mozbuild.mozinfo">
<span id="mozbuild-mozinfo-module"></span><h2>mozbuild.mozinfo module<a class="headerlink" href="#module-mozbuild.mozinfo" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.mozinfo.build_dict">
<code class="sig-prename descclassname">mozbuild.mozinfo.</code><code class="sig-name descname">build_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">env</span><span class="o">=</span><span class="default_value">environ({'NVM_INC': '/Users/greg/.nvm/versions/node/v12.18.2/include/node', 'TERM_PROGRAM': 'iTerm.app', 'NVM_CD_FLAGS': '', 'SHELL': '/bin/bash', 'TERM': 'xterm-256color', 'HISTSIZE': '2000', 'MACH_NOTIFY_MINTIME': '0', 'CLICOLOR': '1', 'TMPDIR': '/var/folders/y7/0gx4dtxs223gpzqt_6rqjrmm0000gp/T/', 'TERM_PROGRAM_VERSION': '3.4.0beta10', 'PYTHONHTTPSVERIFY': '0', 'TERM_SESSION_ID': 'w0t3p0:95B82EF0-FCC5-4874-99AB-B16FCBC8292C', 'RUST_SRC_PATH': '/usr/local/Cellar/rust/src/src', 'AMO_JWT_ISSUER': 'user:6210320:609', 'USER': 'greg', 'HISTFILESIZE': '5000000', 'NVM_DIR': '/Users/greg/.nvm', 'SSH_AUTH_SOCK': '/private/tmp/com.apple.launchd.MhpYHGEYRY/Listeners', 'CCACHE_COMPRESS': '', '__CF_USER_TEXT_ENCODING': '0x1F6:0x0:0x0', 'PYENV_VIRTUALENV_INIT': '1', 'BASH_SILENCE_DEPRECATION_WARNING': '1', 'npm_package_config_firefox': '/Applications/Nightly.app/Contents/MacOS/firefox-bin', 'LSCOLORS': 'GxFxCxDxBxegedabagaced', 'PATH': '/Users/greg/dev/gecko-dev/objdir-frontend/docs/html/_venv/bin:/Users/greg/dev/gecko-dev/objdir-frontend/_virtualenvs/docs/bin:/Users/greg/.nvm/versions/node/v12.18.2/bin:/opt/local/bin:/opt/local/sbin:/usr/local/opt/python/libexec/bin:/Users/greg/Library/Python/3.7/bin:/Users/greg/Library/Android/sdk/platform-tools:/Users/greg/Library/Android/sdk/emulator:/Users/greg/scripts/phabricator/arcanist/bin:/Applications/Postgres.app/Contents/Versions/10/bin:/Users/greg/.cargo/bin:/Users/greg/dev/gecko-dev:./node_modules/.bin:/Users/greg/scripts/version-control-tools/git/commands:/Users/greg/scripts/moz-git-tools:/Users/greg/scripts/git-cinnabar:/Users/greg/scripts:/usr/local/Cellar/vim/8.0.1700/bin:/usr/local/Cellar/pyenv-virtualenv/1.1.5/shims:/Users/greg/.pyenv/shims:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin', 'PWD': '/Users/greg/dev/gecko-dev', 'EDITOR': 'vim', 'LANG': 'en_US.UTF-8', 'ITERM_PROFILE': 'Default', 'XPC_FLAGS': '0x0', 'AMO_JWT_SECRET': 'a48e65236b94e670a740692d420825293819a1b2cf843df0767fb0e9cec02a52', 'XPC_SERVICE_NAME': '0', 'HISTCONTROL': 'ignoredups', 'COLORFGBG': '15;0', 'HOME': '/Users/greg', 'SHLVL': '1', 'PYENV_SHELL': 'bash', 'LC_TERMINAL_VERSION': '3.4.0beta10', 'ITERM_SESSION_ID': 'w0t3p0:95B82EF0-FCC5-4874-99AB-B16FCBC8292C', 'LOGNAME': 'greg', 'PYTHONPATH': '/Users/greg/Library/Python/3.7/lib/python/site-packages:', 'NVM_BIN': '/Users/greg/.nvm/versions/node/v12.18.2/bin', 'DISPLAY': '/private/tmp/com.apple.launchd.qA0kqWowAP/org.macosforge.xquartz:0', 'LC_TERMINAL': 'iTerm2', 'COLORTERM': 'truecolor', 'MACH_VIRTUALENV': '1', 'MACH_MAIN_PID': '48561', 'MACH_STDOUT_ISATTY': '1', 'VIRTUAL_ENV': '/Users/greg/dev/gecko-dev/objdir-frontend/docs/html/_venv', 'DOCUTILSCONFIG': '/Users/greg/dev/gecko-dev/docs/docutils.conf'})</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mozinfo.build_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a dict containing data about the build configuration from
the environment.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.mozinfo.write_mozinfo">
<code class="sig-prename descclassname">mozbuild.mozinfo.</code><code class="sig-name descname">write_mozinfo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">env</span><span class="o">=</span><span class="default_value">environ({'NVM_INC': '/Users/greg/.nvm/versions/node/v12.18.2/include/node', 'TERM_PROGRAM': 'iTerm.app', 'NVM_CD_FLAGS': '', 'SHELL': '/bin/bash', 'TERM': 'xterm-256color', 'HISTSIZE': '2000', 'MACH_NOTIFY_MINTIME': '0', 'CLICOLOR': '1', 'TMPDIR': '/var/folders/y7/0gx4dtxs223gpzqt_6rqjrmm0000gp/T/', 'TERM_PROGRAM_VERSION': '3.4.0beta10', 'PYTHONHTTPSVERIFY': '0', 'TERM_SESSION_ID': 'w0t3p0:95B82EF0-FCC5-4874-99AB-B16FCBC8292C', 'RUST_SRC_PATH': '/usr/local/Cellar/rust/src/src', 'AMO_JWT_ISSUER': 'user:6210320:609', 'USER': 'greg', 'HISTFILESIZE': '5000000', 'NVM_DIR': '/Users/greg/.nvm', 'SSH_AUTH_SOCK': '/private/tmp/com.apple.launchd.MhpYHGEYRY/Listeners', 'CCACHE_COMPRESS': '', '__CF_USER_TEXT_ENCODING': '0x1F6:0x0:0x0', 'PYENV_VIRTUALENV_INIT': '1', 'BASH_SILENCE_DEPRECATION_WARNING': '1', 'npm_package_config_firefox': '/Applications/Nightly.app/Contents/MacOS/firefox-bin', 'LSCOLORS': 'GxFxCxDxBxegedabagaced', 'PATH': '/Users/greg/dev/gecko-dev/objdir-frontend/docs/html/_venv/bin:/Users/greg/dev/gecko-dev/objdir-frontend/_virtualenvs/docs/bin:/Users/greg/.nvm/versions/node/v12.18.2/bin:/opt/local/bin:/opt/local/sbin:/usr/local/opt/python/libexec/bin:/Users/greg/Library/Python/3.7/bin:/Users/greg/Library/Android/sdk/platform-tools:/Users/greg/Library/Android/sdk/emulator:/Users/greg/scripts/phabricator/arcanist/bin:/Applications/Postgres.app/Contents/Versions/10/bin:/Users/greg/.cargo/bin:/Users/greg/dev/gecko-dev:./node_modules/.bin:/Users/greg/scripts/version-control-tools/git/commands:/Users/greg/scripts/moz-git-tools:/Users/greg/scripts/git-cinnabar:/Users/greg/scripts:/usr/local/Cellar/vim/8.0.1700/bin:/usr/local/Cellar/pyenv-virtualenv/1.1.5/shims:/Users/greg/.pyenv/shims:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Library/Apple/usr/bin', 'PWD': '/Users/greg/dev/gecko-dev', 'EDITOR': 'vim', 'LANG': 'en_US.UTF-8', 'ITERM_PROFILE': 'Default', 'XPC_FLAGS': '0x0', 'AMO_JWT_SECRET': 'a48e65236b94e670a740692d420825293819a1b2cf843df0767fb0e9cec02a52', 'XPC_SERVICE_NAME': '0', 'HISTCONTROL': 'ignoredups', 'COLORFGBG': '15;0', 'HOME': '/Users/greg', 'SHLVL': '1', 'PYENV_SHELL': 'bash', 'LC_TERMINAL_VERSION': '3.4.0beta10', 'ITERM_SESSION_ID': 'w0t3p0:95B82EF0-FCC5-4874-99AB-B16FCBC8292C', 'LOGNAME': 'greg', 'PYTHONPATH': '/Users/greg/Library/Python/3.7/lib/python/site-packages:', 'NVM_BIN': '/Users/greg/.nvm/versions/node/v12.18.2/bin', 'DISPLAY': '/private/tmp/com.apple.launchd.qA0kqWowAP/org.macosforge.xquartz:0', 'LC_TERMINAL': 'iTerm2', 'COLORTERM': 'truecolor', 'MACH_VIRTUALENV': '1', 'MACH_MAIN_PID': '48561', 'MACH_STDOUT_ISATTY': '1', 'VIRTUAL_ENV': '/Users/greg/dev/gecko-dev/objdir-frontend/docs/html/_venv', 'DOCUTILSCONFIG': '/Users/greg/dev/gecko-dev/docs/docutils.conf'})</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.mozinfo.write_mozinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Write JSON data about the configuration specified in config and an
environment variable dict to <code class="docutils literal notranslate"><span class="pre">|file|</span></code>, which may be a filename or file-like
object.
See build_dict for information about what  environment variables are used,
and what keys are produced.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.nodeutil">
<span id="mozbuild-nodeutil-module"></span><h2>mozbuild.nodeutil module<a class="headerlink" href="#module-mozbuild.nodeutil" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.nodeutil.check_executable_version">
<code class="sig-prename descclassname">mozbuild.nodeutil.</code><code class="sig-name descname">check_executable_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exe</span></em>, <em class="sig-param"><span class="n">wrap_call_with_node</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.nodeutil.check_executable_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the version of a Node executable by invoking it.</p>
<p>May raise <code class="docutils literal notranslate"><span class="pre">subprocess.CalledProcessError</span></code> or <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> on failure.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.nodeutil.find_executable">
<code class="sig-prename descclassname">mozbuild.nodeutil.</code><code class="sig-name descname">find_executable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em>, <em class="sig-param"><span class="n">min_version</span></em>, <em class="sig-param"><span class="n">use_node_for_version_check</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.nodeutil.find_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.nodeutil.find_node_executable">
<code class="sig-prename descclassname">mozbuild.nodeutil.</code><code class="sig-name descname">find_node_executable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nodejs_exe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_version</span><span class="o">=</span><span class="default_value">StrictVersion('10.22.1')</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.nodeutil.find_node_executable" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a Node executable from the mozbuild directory.</p>
<p>Returns a tuple containing the the path to an executable binary and a
version tuple. Both tuple entries will be None if a Node executable
could not be resolved.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.nodeutil.find_node_paths">
<code class="sig-prename descclassname">mozbuild.nodeutil.</code><code class="sig-name descname">find_node_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.nodeutil.find_node_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the possible paths for node executables.</p>
<p>Returns a list of paths, which includes the build state directory.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.nodeutil.find_npm_executable">
<code class="sig-prename descclassname">mozbuild.nodeutil.</code><code class="sig-name descname">find_npm_executable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_version</span><span class="o">=</span><span class="default_value">StrictVersion('6.14.6')</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.nodeutil.find_npm_executable" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a Node executable from the mozbuild directory.</p>
<p>Returns a tuple containing the the path to an executable binary and a
version tuple. Both tuple entries will be None if a Node executable
could not be resolved.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.preprocessor">
<span id="mozbuild-preprocessor-module"></span><h2>mozbuild.preprocessor module<a class="headerlink" href="#module-mozbuild.preprocessor" title="Permalink to this headline">¶</a></h2>
<p>This is a very primitive line based preprocessor, for times when using
a C preprocessor isn’t an option.</p>
<p>It currently supports the following grammar for expressions, whitespace is
ignored:</p>
<dl class="simple">
<dt>expression :</dt><dd><p>and_cond ( ‘||’ expression ) ? ;</p>
</dd>
<dt>and_cond:</dt><dd><p>test ( ‘&amp;&amp;’ and_cond ) ? ;</p>
</dd>
<dt>test:</dt><dd><p>unary ( ( ‘==’ | ‘!=’ ) unary ) ? ;</p>
</dd>
<dt>unary :</dt><dd><p>‘!’? value ;</p>
</dd>
<dt>value :</dt><dd><p>[0-9]+ # integer
| ‘defined(‘ w+ ‘)’
| w+  # string identifier or value;</p>
</dd>
</dl>
<dl class="py class">
<dt id="mozbuild.preprocessor.Context">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.preprocessor.</code><code class="sig-name descname">Context</code><a class="headerlink" href="#mozbuild.preprocessor.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>This class holds variable values by subclassing dict, and while it
truthfully reports True and False on</p>
<p>name in context</p>
<p>it returns the variable name itself on</p>
<p>context[“name”]</p>
<p>to reflect the ambiguity between string literals and preprocessor
variables.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.preprocessor.Expression">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.preprocessor.</code><code class="sig-name descname">Expression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expression_string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py exception">
<dt id="mozbuild.preprocessor.Expression.ParseError">
<em class="property">exception </em><code class="sig-name descname">ParseError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expression</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Expression.ParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error raised when parsing fails.
It has two members, offset and content, which give the offset of the
error and the offending content.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Expression.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Expression.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the expression with the given context</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.preprocessor.Preprocessor">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.preprocessor.</code><code class="sig-name descname">Preprocessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">defines</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">marker</span><span class="o">=</span><span class="default_value">'#'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for preprocessing text files.</p>
<dl class="py exception">
<dt id="mozbuild.preprocessor.Preprocessor.Error">
<em class="property">exception </em><code class="sig-name descname">Error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cpp</span></em>, <em class="sig-param"><span class="n">MSG</span></em>, <em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.addDefines">
<code class="sig-name descname">addDefines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">defines</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.addDefines" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the specified defines to the preprocessor.
<code class="docutils literal notranslate"><span class="pre">defines</span></code> may be a dictionary object or an iterable of key/value pairs
(as tuples or other iterables of length two)</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.applyFilters">
<code class="sig-name descname">applyFilters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.applyFilters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a clone of the current processor, including line ending
settings, marker, variable definitions, output stream.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.computeDependencies">
<code class="sig-name descname">computeDependencies</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.computeDependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the <code class="docutils literal notranslate"><span class="pre">input</span></code> stream, and computes the dependencies for that input.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_define">
<code class="sig-name descname">do_define</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_define" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_elif">
<code class="sig-name descname">do_elif</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_elif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_elifdef">
<code class="sig-name descname">do_elifdef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_elifdef" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_elifndef">
<code class="sig-name descname">do_elifndef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_elifndef" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_else">
<code class="sig-name descname">do_else</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">ifState</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_else" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_endif">
<code class="sig-name descname">do_endif</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_endif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_error">
<code class="sig-name descname">do_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_expand">
<code class="sig-name descname">do_expand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_expand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_filter">
<code class="sig-name descname">do_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_if">
<code class="sig-name descname">do_if</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">replace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_if" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_ifdef">
<code class="sig-name descname">do_ifdef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">replace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_ifdef" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_ifndef">
<code class="sig-name descname">do_ifndef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">replace</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_ifndef" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_include">
<code class="sig-name descname">do_include</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">filters</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_include" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocess a given file.
args can either be a file name, or a file-like object.
Files should be opened, and will be closed after processing.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_includesubst">
<code class="sig-name descname">do_includesubst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_includesubst" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_literal">
<code class="sig-name descname">do_literal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_literal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_undef">
<code class="sig-name descname">do_undef</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_undef" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.do_unfilter">
<code class="sig-name descname">do_unfilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.do_unfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.ensure_not_else">
<code class="sig-name descname">ensure_not_else</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.ensure_not_else" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.failUnused">
<code class="sig-name descname">failUnused</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.failUnused" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.filter_attemptSubstitution">
<code class="sig-name descname">filter_attemptSubstitution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.filter_attemptSubstitution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.filter_dumbComments">
<code class="sig-name descname">filter_dumbComments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.filter_dumbComments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.filter_emptyLines">
<code class="sig-name descname">filter_emptyLines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.filter_emptyLines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.filter_substitution">
<code class="sig-name descname">filter_substitution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em>, <em class="sig-param"><span class="n">fatal</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.filter_substitution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.getCommandLineParser">
<code class="sig-name descname">getCommandLineParser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unescapeDefines</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.getCommandLineParser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.handleCommandLine">
<code class="sig-name descname">handleCommandLine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">defaultToStdin</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.handleCommandLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a commandline into this parser.
Uses OptionParser internally, no args mean sys.argv[1:].</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.handleLine">
<code class="sig-name descname">handleLine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.handleLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a single line of input (internal).</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.noteLineInfo">
<code class="sig-name descname">noteLineInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.noteLineInfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.processFile">
<code class="sig-name descname">processFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">output</span></em>, <em class="sig-param"><span class="n">depfile</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.processFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Preprocesses the contents of the <code class="docutils literal notranslate"><span class="pre">input</span></code> stream and writes the result
to the <code class="docutils literal notranslate"><span class="pre">output</span></code> stream. If <code class="docutils literal notranslate"><span class="pre">depfile</span></code> is set,  the dependencies of
<code class="docutils literal notranslate"><span class="pre">output</span></code> file are written to <code class="docutils literal notranslate"><span class="pre">depfile</span></code> in Makefile format.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.setMarker">
<code class="sig-name descname">setMarker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aMarker</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.setMarker" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker to be used for processing directives.
Used for handling CSS files, with pp.setMarker(‘%’), for example.
The given marker may be None, in which case no markers are processed.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.setSilenceDirectiveWarnings">
<code class="sig-name descname">setSilenceDirectiveWarnings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.setSilenceDirectiveWarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets whether missing directive warnings are silenced, according to
<code class="docutils literal notranslate"><span class="pre">value</span></code>.  The default behavior of the preprocessor is to emit
such warnings.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.preprocessor.Preprocessor.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">aLine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.Preprocessor.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method for handling output.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.preprocessor.preprocess">
<code class="sig-prename descclassname">mozbuild.preprocessor.</code><code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param">includes=[&lt;_io.TextIOWrapper name='&lt;stdin&gt;' mode='r' encoding='utf-8'&gt;], defines={}, output=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='utf-8'&gt;, marker='#'</em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.preprocessor.preprocess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.pythonutil">
<span id="mozbuild-pythonutil-module"></span><h2>mozbuild.pythonutil module<a class="headerlink" href="#module-mozbuild.pythonutil" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.pythonutil.find_python2_executable">
<code class="sig-prename descclassname">mozbuild.pythonutil.</code><code class="sig-name descname">find_python2_executable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_version</span><span class="o">=</span><span class="default_value">'2.7.0'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.pythonutil.find_python2_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.pythonutil.find_python3_executable">
<code class="sig-prename descclassname">mozbuild.pythonutil.</code><code class="sig-name descname">find_python3_executable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_version</span><span class="o">=</span><span class="default_value">'3.6.0'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.pythonutil.find_python3_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.pythonutil.iter_modules_in_path">
<code class="sig-prename descclassname">mozbuild.pythonutil.</code><code class="sig-name descname">iter_modules_in_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">paths</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.pythonutil.iter_modules_in_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.pythonutil.python_executable_version">
<code class="sig-prename descclassname">mozbuild.pythonutil.</code><code class="sig-name descname">python_executable_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exe</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.pythonutil.python_executable_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the version of a Python executable by invoking it.</p>
<p>May raise <code class="docutils literal notranslate"><span class="pre">subprocess.CalledProcessError</span></code> or <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> on failure.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.schedules">
<span id="mozbuild-schedules-module"></span><h2>mozbuild.schedules module<a class="headerlink" href="#module-mozbuild.schedules" title="Permalink to this headline">¶</a></h2>
<p>Constants for SCHEDULES configuration in moz.build files and for
skip-unless-schedules optimizations in task-graph generation.</p>
</div>
<div class="section" id="module-mozbuild.shellutil">
<span id="mozbuild-shellutil-module"></span><h2>mozbuild.shellutil module<a class="headerlink" href="#module-mozbuild.shellutil" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="mozbuild.shellutil.MetaCharacterException">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.shellutil.</code><code class="sig-name descname">MetaCharacterException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">char</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.shellutil.MetaCharacterException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.shellutil.quote">
<code class="sig-prename descclassname">mozbuild.shellutil.</code><code class="sig-name descname">quote</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">strings</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.shellutil.quote" title="Permalink to this definition">¶</a></dt>
<dd><p>Given one or more strings, returns a quoted string that can be used
literally on a shell command line.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">quote</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="go">&quot;a b&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quote</span><span class="p">(</span><span class="s1">&#39;a b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="go">&quot;&#39;a b&#39; c&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.shellutil.split">
<code class="sig-prename descclassname">mozbuild.shellutil.</code><code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cline</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.shellutil.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the given command line string.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.sphinx">
<span id="mozbuild-sphinx-module"></span><h2>mozbuild.sphinx module<a class="headerlink" href="#module-mozbuild.sphinx" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.sphinx.MozbuildSymbols">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">MozbuildSymbols</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">arguments</span></em>, <em class="sig-param"><span class="n">options</span></em>, <em class="sig-param"><span class="n">content</span></em>, <em class="sig-param"><span class="n">lineno</span></em>, <em class="sig-param"><span class="n">content_offset</span></em>, <em class="sig-param"><span class="n">block_text</span></em>, <em class="sig-param"><span class="n">state</span></em>, <em class="sig-param"><span class="n">state_machine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.MozbuildSymbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">docutils.parsers.rst.Directive</span></code></p>
<p>Directive to insert mozbuild sandbox symbol information.</p>
<dl class="py attribute">
<dt id="mozbuild.sphinx.MozbuildSymbols.required_arguments">
<code class="sig-name descname">required_arguments</code><em class="property"> = 1</em><a class="headerlink" href="#mozbuild.sphinx.MozbuildSymbols.required_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.sphinx.MozbuildSymbols.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.MozbuildSymbols.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.sphinx.format_module">
<code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">format_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.format_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.sphinx.function_reference">
<code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">function_reference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">attr</span></em>, <em class="sig-param"><span class="n">args</span></em>, <em class="sig-param"><span class="n">doc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.function_reference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.sphinx.setup">
<code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.sphinx.special_reference">
<code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">special_reference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">typ</span></em>, <em class="sig-param"><span class="n">doc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.special_reference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.sphinx.variable_reference">
<code class="sig-prename descclassname">mozbuild.sphinx.</code><code class="sig-name descname">variable_reference</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em>, <em class="sig-param"><span class="n">st_type</span></em>, <em class="sig-param"><span class="n">in_type</span></em>, <em class="sig-param"><span class="n">doc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.sphinx.variable_reference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.telemetry">
<span id="mozbuild-telemetry-module"></span><h2>mozbuild.telemetry module<a class="headerlink" href="#module-mozbuild.telemetry" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="mozbuild.telemetry.cpu_brand_linux">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">cpu_brand_linux</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.cpu_brand_linux" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the CPU brand string out of /proc/cpuinfo on Linux.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.cpu_brand_mac">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">cpu_brand_mac</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.cpu_brand_mac" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the CPU brand string via sysctl on macos.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.cpu_brand_windows">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">cpu_brand_windows</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.cpu_brand_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the CPU brand string from the registry on Windows.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.filter_args">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">filter_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">argv</span></em>, <em class="sig-param"><span class="n">instance</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.filter_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the full list of command-line arguments, remove anything up to and including <cite>command</cite>,
and attempt to filter absolute pathnames out of any arguments after that.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.gather_telemetry">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">gather_telemetry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">command</span></em>, <em class="sig-param"><span class="n">success</span></em>, <em class="sig-param"><span class="n">start_time</span></em>, <em class="sig-param"><span class="n">end_time</span></em>, <em class="sig-param"><span class="n">mach_context</span></em>, <em class="sig-param"><span class="n">instance</span></em>, <em class="sig-param"><span class="n">command_attrs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.gather_telemetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather telemetry about the build and the user’s system and pass it to the telemetry
handler to be stored for later submission.</p>
<p>Any absolute paths on the command line will be made relative to a relevant base path
or replaced with a placeholder to avoid including paths from developer’s machines.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_build_attrs">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_build_attrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attrs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_build_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts clobber and cpu usage info from command attributes.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_build_opts">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_build_opts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">substs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_build_opts" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate selected items from <cite>substs</cite> into <cite>build_opts</cite> keys in the schema.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_client_id">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_client_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_client_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a client id, which is a UUID, from a file in the state directory. If the file doesn’t
exist, generate a UUID and save it to a file.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_cpu_brand">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_cpu_brand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_cpu_brand" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the CPU brand string as returned by CPUID.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_os_name">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_os_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_os_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_psutil_stats">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_psutil_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_psutil_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether psutil exists and its associated stats.</p>
<dl class="simple">
<dt>&#64;returns (bool, int, int, int) whether psutil exists, the logical CPU count,</dt><dd><p>physical CPU count, and total number of bytes of memory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.get_system_info">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">get_system_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.get_system_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather info to fill the <cite>system</cite> keys in the schema.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.telemetry.verify_statedir">
<code class="sig-prename descclassname">mozbuild.telemetry.</code><code class="sig-name descname">verify_statedir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">statedir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.telemetry.verify_statedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the statedir is structured correctly. Returns the outgoing,
submitted and log paths.</p>
<p>Requires presence of the following directories; will raise if absent:
- statedir/telemetry
- statedir/telemetry/outgoing</p>
<p>Creates the following directories and files if absent (first submission):
- statedir/telemetry/submitted</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.testing">
<span id="mozbuild-testing-module"></span><h2>mozbuild.testing module<a class="headerlink" href="#module-mozbuild.testing" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.testing.SupportFilesConverter">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">SupportFilesConverter</code><a class="headerlink" href="#mozbuild.testing.SupportFilesConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Processes a “support-files” entry from a test object, either from
a parsed object from a test manifests or its representation in
moz.build and returns the installs to perform for this test object.</p>
<p>Processing the same support files multiple times will not have any further
effect, and the structure of the parsed objects from manifests will have a
lot of repeated entries, so this class takes care of memoizing.</p>
<dl class="py method">
<dt id="mozbuild.testing.SupportFilesConverter.convert_support_files">
<code class="sig-name descname">convert_support_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test</span></em>, <em class="sig-param"><span class="n">install_root</span></em>, <em class="sig-param"><span class="n">manifest_dir</span></em>, <em class="sig-param"><span class="n">out_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.SupportFilesConverter.convert_support_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.testing.TestInstallInfo">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">TestInstallInfo</code><a class="headerlink" href="#mozbuild.testing.TestInstallInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.testing.all_test_flavors">
<code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">all_test_flavors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.all_test_flavors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.testing.install_test_files">
<code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">install_test_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">tests_root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.install_test_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Installs the requested test files to the objdir. This is invoked by
test runners to avoid installing tens of thousands of test files when
only a few tests need to be run.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.testing.read_manifestparser_manifest">
<code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">read_manifestparser_manifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">manifest_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.read_manifestparser_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.testing.read_reftest_manifest">
<code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">read_reftest_manifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">manifest_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.read_reftest_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.testing.read_wpt_manifest">
<code class="sig-prename descclassname">mozbuild.testing.</code><code class="sig-name descname">read_wpt_manifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">paths</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.testing.read_wpt_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-mozbuild.util">
<span id="mozbuild-util-module"></span><h2>mozbuild.util module<a class="headerlink" href="#module-mozbuild.util" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.util.DefinesAction">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">DefinesAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">option_strings</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">nargs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">const</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">choices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">required</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">help</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metavar</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.DefinesAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
<p>An ArgumentParser action to handle -Dvar[=value] type of arguments.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.EmptyValue">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">EmptyValue</code><a class="headerlink" href="#mozbuild.util.EmptyValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
<p>A dummy type that behaves like an empty string and sequence.</p>
<p>This type exists in order to support
<a class="reference internal" href="mozbuild.frontend.html#mozbuild.frontend.reader.EmptyConfig" title="mozbuild.frontend.reader.EmptyConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.frontend.reader.EmptyConfig</span></code></a>. It should likely not be
used elsewhere.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.EnumString">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">EnumString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.EnumString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
<p>A string type that only can have a limited set of values, similarly to
an Enum, and can only be compared against that set of values.</p>
<p>The class is meant to be subclassed, where the subclass defines
POSSIBLE_VALUES. The <cite>subclass</cite> method is a helper to create such
subclasses.</p>
<dl class="py attribute">
<dt id="mozbuild.util.EnumString.POSSIBLE_VALUES">
<code class="sig-name descname">POSSIBLE_VALUES</code><em class="property"> = ()</em><a class="headerlink" href="#mozbuild.util.EnumString.POSSIBLE_VALUES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.util.EnumString.subclass">
<em class="property">static </em><code class="sig-name descname">subclass</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">possible_values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.EnumString.subclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="mozbuild.util.EnumStringComparisonError">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">EnumStringComparisonError</code><a class="headerlink" href="#mozbuild.util.EnumStringComparisonError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.FileAvoidWrite">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">FileAvoidWrite</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">capture_diff</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dry_run</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">readmode</span><span class="o">=</span><span class="default_value">'rU'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.FileAvoidWrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_io.BytesIO</span></code></p>
<p>File-like object that buffers output and only writes if content changed.</p>
<p>We create an instance from an existing filename. New content is written to
it. When we close the file object, if the content in the in-memory buffer
differs from what is on disk, then we write out the new content. Otherwise,
the original file is untouched.</p>
<p>Instances can optionally capture diffs of file changes. This feature is not
enabled by default because it a) doesn’t make sense for binary files b)
could add unwanted overhead to calls.</p>
<p>Additionally, there is dry run mode where the file is not actually written
out, but reports whether the file was existing and would have been updated
still occur, as well as diff capture if requested.</p>
<dl class="py method">
<dt id="mozbuild.util.FileAvoidWrite.avoid_writing_to_file">
<code class="sig-name descname">avoid_writing_to_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.FileAvoidWrite.avoid_writing_to_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.util.FileAvoidWrite.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.FileAvoidWrite.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop accepting writes, compare file contents, and rewrite if needed.</p>
<p>Returns a tuple of bools indicating what action was performed:</p>
<blockquote>
<div><p>(file existed, file updated)</p>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">capture_diff</span></code> was specified at construction time and the
underlying file was changed, <code class="docutils literal notranslate"><span class="pre">.diff</span></code> will be populated with the diff
of the result.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.util.FileAvoidWrite.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.FileAvoidWrite.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write bytes to file.</p>
<p>Return the number of bytes written.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.FlagsFactory">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">FlagsFactory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.FlagsFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a class which holds optional flags for an item in a list.</p>
<p>The flags are defined in the dict given as argument, where keys are
the flag names, and values the type used for the value of that flag.</p>
<p>The resulting class is used by the various &lt;TypeName&gt;WithFlagsFactory
functions below.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.HierarchicalStringList">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">HierarchicalStringList</code><a class="headerlink" href="#mozbuild.util.HierarchicalStringList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A hierarchy of lists of strings.</p>
<p>Each instance of this object contains a list of strings, which can be set or
appended to. A sub-level of the hierarchy is also an instance of this class,
can be added by appending to an attribute instead.</p>
<p>For example, the moz.build variable EXPORTS is an instance of this class. We
can do:</p>
<p>EXPORTS += [‘foo.h’]
EXPORTS.mozilla.dom += [‘bar.h’]</p>
<p>In this case, we have 3 instances (EXPORTS, EXPORTS.mozilla, and
EXPORTS.mozilla.dom), and the first and last each have one element in their
list.</p>
<dl class="py class">
<dt id="mozbuild.util.HierarchicalStringList.StringListAdaptor">
<em class="property">class </em><code class="sig-name descname">StringListAdaptor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hsl</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.HierarchicalStringList.StringListAdaptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Sequence</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.util.HierarchicalStringList.walk">
<code class="sig-name descname">walk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.HierarchicalStringList.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Walk over all HierarchicalStringLists in the hierarchy.</p>
<p>This is a generator of (path, sequence).</p>
<p>The path is ‘’ for the root level and ‘/’-delimited strings for
any descendants.  The sequence is a read-only sequence of the
strings contained at that level.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.ImmutableStrictOrderingOnAppendList">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ImmutableStrictOrderingOnAppendList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ImmutableStrictOrderingOnAppendList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.StrictOrderingOnAppendList" title="mozbuild.util.StrictOrderingOnAppendList"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.StrictOrderingOnAppendList</span></code></a></p>
<p>Like StrictOrderingOnAppendList, but not allowing mutations of the value.</p>
<dl class="py method">
<dt id="mozbuild.util.ImmutableStrictOrderingOnAppendList.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">elt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ImmutableStrictOrderingOnAppendList.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append object to the end of the list.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.util.ImmutableStrictOrderingOnAppendList.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ImmutableStrictOrderingOnAppendList.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend list by appending elements from the iterable.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.KeyedDefaultDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">KeyedDefaultDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_factory</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.KeyedDefaultDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Like a defaultdict, but the default_factory function takes the key as
argument</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.List">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">List</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.List" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>A list specialized for moz.build environments.</p>
<p>We overload the assignment and append operations to require that the
appended thing is a list. This avoids bad surprises coming from appending
a string to a list, which would just add each letter of the string.</p>
<dl class="py method">
<dt id="mozbuild.util.List.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.List.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend list by appending elements from the iterable.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.LockFile">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">LockFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lockfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.LockFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>LockFile is used by the lock_file method to hold the lock.</p>
<p>This object should not be used directly, but only through
the lock_file method below.</p>
</dd></dl>

<dl class="py exception">
<dt id="mozbuild.util.MozbuildDeletionError">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">MozbuildDeletionError</code><a class="headerlink" href="#mozbuild.util.MozbuildDeletionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.OrderedDefaultDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">OrderedDefaultDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_factory</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.OrderedDefaultDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></p>
<p>A combination of OrderedDict and defaultdict.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.ReadOnlyDefaultDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ReadOnlyDefaultDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_factory</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ReadOnlyDefaultDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.ReadOnlyDict" title="mozbuild.util.ReadOnlyDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.ReadOnlyDict</span></code></a></p>
<p>A read-only dictionary that supports default values on retrieval.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.ReadOnlyDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ReadOnlyDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ReadOnlyDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A read-only dictionary.</p>
<dl class="py method">
<dt id="mozbuild.util.ReadOnlyDict.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">E</em>, <span class="optional">]</span><em class="sig-param">**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#mozbuild.util.ReadOnlyDict.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.ReadOnlyKeyedDefaultDict">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ReadOnlyKeyedDefaultDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_factory</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ReadOnlyKeyedDefaultDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.KeyedDefaultDict" title="mozbuild.util.KeyedDefaultDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.KeyedDefaultDict</span></code></a>, <a class="reference internal" href="#mozbuild.util.ReadOnlyDict" title="mozbuild.util.ReadOnlyDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.ReadOnlyDict</span></code></a></p>
<p>Like KeyedDefaultDict, but read-only.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.ReadOnlyNamespace">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ReadOnlyNamespace</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ReadOnlyNamespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for objects with immutable attributes set at initialization.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.StrictOrderingOnAppendList">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">StrictOrderingOnAppendList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.List" title="mozbuild.util.List"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.List</span></code></a></p>
<p>A list specialized for moz.build environments.</p>
<p>We overload the assignment and append operations to require that incoming
elements be ordered. This enforces cleaner style in moz.build files.</p>
<dl class="py method">
<dt id="mozbuild.util.StrictOrderingOnAppendList.ensure_sorted">
<em class="property">static </em><code class="sig-name descname">ensure_sorted</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendList.ensure_sorted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.util.StrictOrderingOnAppendList.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendList.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend list by appending elements from the iterable.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.StrictOrderingOnAppendListWithAction">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">StrictOrderingOnAppendListWithAction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">action</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendListWithAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.StrictOrderingOnAppendList" title="mozbuild.util.StrictOrderingOnAppendList"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.StrictOrderingOnAppendList</span></code></a></p>
<p>An ordered list that accepts a callable to be applied to each item.</p>
<p>A callable (action) passed to the constructor is run on each item of input.
The result of running the callable on each item will be stored in place of
the original input, but the original item must be used to enforce sortedness.</p>
<dl class="py method">
<dt id="mozbuild.util.StrictOrderingOnAppendListWithAction.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">l</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendListWithAction.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend list by appending elements from the iterable.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.StrictOrderingOnAppendListWithFlags">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">StrictOrderingOnAppendListWithFlags</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendListWithFlags" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.util.StrictOrderingOnAppendList" title="mozbuild.util.StrictOrderingOnAppendList"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.util.StrictOrderingOnAppendList</span></code></a></p>
<p>A list with flags specialized for moz.build environments.</p>
<p>Each subclass has a set of typed flags; this class lets us use <cite>isinstance</cite>
for natural testing.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.StrictOrderingOnAppendListWithFlagsFactory">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">StrictOrderingOnAppendListWithFlagsFactory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.StrictOrderingOnAppendListWithFlagsFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a StrictOrderingOnAppendList-like object, with optional
flags on each item.</p>
<p>The flags are defined in the dict given as argument, where keys are
the flag names, and values the type used for the value of that flag.</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>FooList = StrictOrderingOnAppendListWithFlagsFactory({</dt><dd><p>‘foo’: bool, ‘bar’: unicode</p>
</dd>
</dl>
<p>})
foo = FooList([‘a’, ‘b’, ‘c’])
foo[‘a’].foo = True
foo[‘b’].bar = ‘bar’</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.TypedList">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">TypedList</code><span class="sig-paren">(</span><em class="sig-param">type</em>, <em class="sig-param">base_class=&lt;class 'mozbuild.util.List'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.TypedList" title="Permalink to this definition">¶</a></dt>
<dd><p>A list with type coercion.</p>
<p>The given <code class="docutils literal notranslate"><span class="pre">type</span></code> is what list elements are being coerced to. It may do
strict validation, throwing ValueError exceptions.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">base_class</span></code> type can be given for more specific uses than a List. For
example, a Typed StrictOrderingOnAppendList can be created with:</p>
<blockquote>
<div><p>TypedList(unicode, StrictOrderingOnAppendList)</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.TypedNamedTuple">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">TypedNamedTuple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.TypedNamedTuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory for named tuple types with strong typing.</p>
<p>Arguments are an iterable of 2-tuples. The first member is the
the field name. The second member is a type the field will be validated
to be.</p>
<p>Construction of instances varies from <code class="docutils literal notranslate"><span class="pre">collections.namedtuple</span></code>.</p>
<p>First, if a single tuple argument is given to the constructor, this is
treated as the equivalent of passing each tuple value as a separate
argument into __init__. e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">TypedTuple</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="n">TypedTuple</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>This behavior is meant for moz.build files, so vanilla tuples are
automatically cast to typed tuple instances.</p>
<p>Second, fields in the tuple are validated to be instances of the specified
type. This is done via an <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> check. To allow multiple types,
pass a tuple as the allowed types field.</p>
</dd></dl>

<dl class="py exception">
<dt id="mozbuild.util.UnsortedError">
<em class="property">exception </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">UnsortedError</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">srtd</span></em>, <em class="sig-param"><span class="n">original</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.UnsortedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.ensureParentDir">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ensureParentDir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ensureParentDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures the directory parent to the given file exists.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.ensure_bytes">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ensure_bytes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ensure_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.util.ensure_subprocess_env">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ensure_subprocess_env</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">env</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ensure_subprocess_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the environment is in the correct format for the <cite>subprocess</cite>
module.</p>
<p>This will convert all keys and values to bytes on Python 2, and text on
Python 3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<em>dict</em>) – Environment to ensure.</p></li>
<li><p><strong>encoding</strong> (<em>str</em>) – Encoding to use when converting to/from bytes/text
(default: utf-8).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.ensure_unicode">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">ensure_unicode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.ensure_unicode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.util.exec_">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">exec_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">object</span></em>, <em class="sig-param"><span class="n">globals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">locals</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.exec_" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper around the exec statement to avoid bogus errors like:</p>
<p>SyntaxError: unqualified exec is not allowed in function …
it is a nested function.</p>
<p>or</p>
<p>SyntaxError: unqualified exec is not allowed in function …
it contains a nested function with free variable</p>
<p>which happen with older versions of python 2.7.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.expand_variables">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">expand_variables</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">variables</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.expand_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string with $(var) variable references, replace those references
with the corresponding entries from the given <cite>variables</cite> dict.</p>
<p>If a variable value is not a string, it is iterated and its items are
joined with a whitespace.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.group_unified_files">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">group_unified_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">unified_prefix</span></em>, <em class="sig-param"><span class="n">unified_suffix</span></em>, <em class="sig-param"><span class="n">files_per_unified_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.group_unified_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator of (unified_filename, source_filenames) tuples.</p>
<p>We compile most C and C++ files in “unified mode”; instead of compiling
<code class="docutils literal notranslate"><span class="pre">a.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">b.cpp</span></code>, and <code class="docutils literal notranslate"><span class="pre">c.cpp</span></code> separately, we compile a single file
that looks approximately like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;a.cpp&quot;</span>
<span class="c1">#include &quot;b.cpp&quot;</span>
<span class="c1">#include &quot;c.cpp&quot;</span>
</pre></div>
</div>
<p>This function handles the details of generating names for the unified
files, and determining which original source files go in which unified
file.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.hash_file">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">hash_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">hasher</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.hash_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Hashes a file specified by the path given and returns the hex digest.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.lock_file">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">lock_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lockfile</span></em>, <em class="sig-param"><span class="n">max_wait</span><span class="o">=</span><span class="default_value">600</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.lock_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and hold a lockfile of the given name, with the given timeout.</p>
<p>To release the lock, delete the returned object.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.memoize">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">memoize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.memoize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A decorator to memoize the results of function calls depending
on its arguments.
Both functions and instance methods are handled, although in the
instance method case, the results are cache in the instance itself.</p>
<dl class="py method">
<dt id="mozbuild.util.memoize.method_call">
<code class="sig-name descname">method_call</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">instance</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.memoize.method_call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.memoized_property">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">memoized_property</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.memoized_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A specialized version of the memoize decorator that works for
class instance properties.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.mkdir">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">mkdir</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">not_indexed</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure a directory exists.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">not_indexed</span></code> is True, an attribute is set that disables content
indexing on the directory.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.pair">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">pair</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an iterable, returns an iterable pairing its items.</p>
<dl class="simple">
<dt>For example,</dt><dd><p>list(pair([1,2,3,4,5,6]))</p>
</dd>
<dt>returns</dt><dd><p>[(1,2), (3,4), (5,6)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.pairwise">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">pairwise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.pairwise" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an iterable, returns an iterable of overlapped pairs of
its items. Based on the Python itertools documentation.</p>
<dl class="simple">
<dt>For example,</dt><dd><p>list(pairwise([1,2,3,4,5,6]))</p>
</dd>
<dt>returns</dt><dd><p>[(1,2), (2,3), (3,4), (4,5), (5,6)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.patch_main">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">patch_main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.patch_main" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a hack to work around the fact that Windows multiprocessing needs
to import the original main module, and assumes that it corresponds to a file
ending in .py.</p>
<p>We do this by a sort of two-level function interposing. The first
level interposes forking.get_command_line() with our version defined
in my_get_command_line(). Our version of get_command_line will
replace the command string with the contents of the fork_interpose()
function to be used in the subprocess.</p>
<p>The subprocess then gets an interposed imp.find_module(), which we
hack up to find the main module name multiprocessing will assume, since we
know what this will be based on the main module in the parent. If we’re not
looking for our main module, then the original find_module will suffice.</p>
<p>See also: <a class="reference external" href="http://bugs.python.org/issue19946">http://bugs.python.org/issue19946</a>
And: <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=914563">https://bugzilla.mozilla.org/show_bug.cgi?id=914563</a></p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.process_time">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">process_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.process_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.util.resolve_target_to_make">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">resolve_target_to_make</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topobjdir</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.resolve_target_to_make" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve <cite>target</cite> (a target, directory, or file) to a make target.</p>
<p><cite>topobjdir</cite> is the object directory; all make targets will be
rooted at or below the top-level Makefile in this directory.</p>
<p>Returns a pair <cite>(reldir, target)</cite> where <cite>reldir</cite> is a directory
relative to <cite>topobjdir</cite> containing a Makefile and <cite>target</cite> is a
make target (possibly <cite>None</cite>).</p>
<p>A directory resolves to the nearest directory at or above
containing a Makefile, and target <cite>None</cite>.</p>
<p>A regular (non-Makefile) file resolves to the nearest directory at
or above the file containing a Makefile, and an appropriate
target.</p>
<p>A Makefile resolves to the nearest parent strictly above the
Makefile containing a different Makefile, and an appropriate
target.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.simple_diff">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">simple_diff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">old_lines</span></em>, <em class="sig-param"><span class="n">new_lines</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.simple_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the diff between old_lines and new_lines, in unified diff form,
as a list of lines.</p>
<p>old_lines and new_lines are lists of non-newline terminated lines to
compare.
old_lines can be None, indicating a file creation.
new_lines can be None, indicating a file deletion.</p>
</dd></dl>

<dl class="py class">
<dt id="mozbuild.util.undefined_default">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">undefined_default</code><a class="headerlink" href="#mozbuild.util.undefined_default" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents an undefined argument value that isn’t None.</p>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.util.write_indented_repr">
<code class="sig-prename descclassname">mozbuild.util.</code><code class="sig-name descname">write_indented_repr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">4</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.util.write_indented_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an indented representation (similar to repr()) of the object to the
given file <cite>f</cite>.</p>
<p>One notable difference with repr is that the returned representation
assumes <cite>from __future__ import unicode_literals</cite>.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild.virtualenv">
<span id="mozbuild-virtualenv-module"></span><h2>mozbuild.virtualenv module<a class="headerlink" href="#module-mozbuild.virtualenv" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="mozbuild.virtualenv.VirtualenvHelper">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">VirtualenvHelper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">virtualenv_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvHelper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Contains basic logic for getting information about virtualenvs.</p>
<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvHelper.bin_path">
<em class="property">property </em><code class="sig-name descname">bin_path</code><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvHelper.bin_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvHelper.python_path">
<em class="property">property </em><code class="sig-name descname">python_path</code><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvHelper.python_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mozbuild.virtualenv.VirtualenvManager">
<em class="property">class </em><code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">VirtualenvManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">virtualenv_path</span></em>, <em class="sig-param"><span class="n">log_handle</span></em>, <em class="sig-param"><span class="n">manifest_path</span></em>, <em class="sig-param"><span class="n">populate_local_paths</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mozbuild.virtualenv.VirtualenvHelper" title="mozbuild.virtualenv.VirtualenvHelper"><code class="xref py py-class docutils literal notranslate"><span class="pre">mozbuild.virtualenv.VirtualenvHelper</span></code></a></p>
<p>Contains logic for managing virtualenvs for building the tree.</p>
<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.activate">
<code class="sig-name descname">activate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.activate" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate the virtualenv in this Python context.</p>
<p>If you run a random Python script and wish to “activate” the
virtualenv, you can simply instantiate an instance of this class
and call .ensure() and .activate() to make the virtualenv active.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.activate_path">
<em class="property">property </em><code class="sig-name descname">activate_path</code><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.activate_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a virtualenv per tree conventions.</p>
<p>This returns the path of the created virtualenv.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.call_setup">
<code class="sig-name descname">call_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span></em>, <em class="sig-param"><span class="n">arguments</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.call_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls setup.py in a directory.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new, empty virtualenv.</p>
<p>Receives the path to virtualenv’s virtualenv.py script (which will be
called out to), the path to create the virtualenv in, and a handle to
write output to.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.ensure">
<code class="sig-name descname">ensure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span><span class="o">=</span><span class="default_value">'/Users/greg/.mozbuild/_virtualenvs/mach/bin/python'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.ensure" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the virtualenv is present and up to date.</p>
<p>If the virtualenv is up to date, this does nothing. Otherwise, it
creates and populates the virtualenv as necessary.</p>
<p>This should be the main API used from this class as it is the
highest-level.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.get_exe_info">
<code class="sig-name descname">get_exe_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.get_exe_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the version of the python executable that was in use when
this virtualenv was created.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.install_pip_package">
<code class="sig-name descname">install_pip_package</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">package</span></em>, <em class="sig-param"><span class="n">vendored</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.install_pip_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Install a package via pip.</p>
<p>The supplied package is specified using a pip requirement specifier.
e.g. ‘foo’ or ‘foo==1.0’.</p>
<p>If the package is already installed, this is a no-op.</p>
<p>If vendored is True, no package index will be used and no dependencies
will be installed.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.install_pip_requirements">
<code class="sig-name descname">install_pip_requirements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">require_hashes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">quiet</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">vendored</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.install_pip_requirements" title="Permalink to this definition">¶</a></dt>
<dd><p>Install a pip requirements.txt file.</p>
<p>The supplied path is a text file containing pip requirement
specifiers.</p>
<p>If require_hashes is True, each specifier must contain the
expected hash of the downloaded package. See:
<a class="reference external" href="https://pip.pypa.io/en/stable/reference/pip_install/#hash-checking-mode">https://pip.pypa.io/en/stable/reference/pip_install/#hash-checking-mode</a></p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.packages">
<code class="sig-name descname">packages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.packages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.populate">
<code class="sig-name descname">populate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sitecustomize</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the virtualenv.</p>
<p>The manifest file consists of colon-delimited fields. The first field
specifies the action. The remaining fields are arguments to that
action. The following actions are supported:</p>
<dl class="simple">
<dt>setup.py – Invoke setup.py for a package. Expects the arguments:</dt><dd><ol class="arabic simple">
<li><p>relative path directory containing setup.py.</p></li>
<li><p>argument(s) to setup.py. e.g. “develop”. Each program argument
is delimited by a colon. Arguments with colons are not yet
supported.</p></li>
</ol>
</dd>
<dt>filename.pth – Adds the path given as argument to filename.pth under</dt><dd><p>the virtualenv site packages directory.</p>
</dd>
<dt>optional – This denotes the action as optional. The requested action</dt><dd><p>is attempted. If it fails, we issue a warning and go on. The
initial “optional” field is stripped then the remaining line is
processed like normal. e.g.
“optional:setup.py:python/foo:built_ext:-i”</p>
</dd>
<dt>packages.txt – Denotes that the specified path is a child manifest. It</dt><dd><p>will be read and processed as if its contents were concatenated
into the manifest being read.</p>
</dd>
<dt>windows – This denotes that the action should only be taken when run</dt><dd><p>on Windows.</p>
</dd>
<dt>!windows – This denotes that the action should only be taken when run</dt><dd><p>on non-Windows systems.</p>
</dd>
<dt>python3 – This denotes that the action should only be taken when run</dt><dd><p>on Python 3.</p>
</dd>
<dt>python2 – This denotes that the action should only be taken when run</dt><dd><p>on python 2.</p>
</dd>
<dt>set-variable – Set the given environment variable; e.g.</dt><dd><p><cite>set-variable FOO=1</cite>.</p>
</dd>
</dl>
<p>Note that the Python interpreter running this function should be the
one from the virtualenv. If it is the system Python or if the
environment is not configured properly, packages could be installed
into the wrong place. This is how virtualenv’s work.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.python_executable_hexversion">
<code class="sig-name descname">python_executable_hexversion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.python_executable_hexversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a Python executable and return its sys.hexversion value.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.up_to_date">
<code class="sig-name descname">up_to_date</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.up_to_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the virtualenv is present and up to date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>python</strong> – Full path string to the Python executable that this virtualenv
should be running.  If the Python executable passed in to this
argument is not the same version as the Python the virtualenv was
built with then this method will return False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.version_info">
<em class="property">property </em><code class="sig-name descname">version_info</code><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.version_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.virtualenv_script_path">
<em class="property">property </em><code class="sig-name descname">virtualenv_script_path</code><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.virtualenv_script_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to virtualenv’s own populator script.</p>
</dd></dl>

<dl class="py method">
<dt id="mozbuild.virtualenv.VirtualenvManager.write_exe_info">
<code class="sig-name descname">write_exe_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">python</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.VirtualenvManager.write_exe_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Records the the version of the python executable that was in use when
this virtualenv was created. We record this explicitly because
on OS X our python path may end up being a different or modified
executable.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mozbuild.virtualenv.ensure_binary">
<code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">ensure_binary</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.ensure_binary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.virtualenv.ensure_subprocess_env">
<code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">ensure_subprocess_env</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">env</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.ensure_subprocess_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the environment is in the correct format for the <cite>subprocess</cite>
module.</p>
<p>This method uses the method with same name from mozbuild.utils as
virtualenv.py must be a standalone module.</p>
<p>This will convert all keys and values to bytes on Python 2, and text on
Python 3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> (<em>dict</em>) – Environment to ensure.</p></li>
<li><p><strong>encoding</strong> (<em>str</em>) – Encoding to use when converting to/from bytes/text
(default: utf-8).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mozbuild.virtualenv.ensure_text">
<code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">ensure_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.ensure_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="mozbuild.virtualenv.verify_python_version">
<code class="sig-prename descclassname">mozbuild.virtualenv.</code><code class="sig-name descname">verify_python_version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mozbuild.virtualenv.verify_python_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure the current version of Python is sufficient.</p>
</dd></dl>

</div>
<div class="section" id="module-mozbuild">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mozbuild" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>