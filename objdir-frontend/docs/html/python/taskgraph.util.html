

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>taskgraph.util package &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>taskgraph.util package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/taskgraph.util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="taskgraph-util-package">
<h1>taskgraph.util package<a class="headerlink" href="#taskgraph-util-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-taskgraph.util.attributes">
<span id="taskgraph-util-attributes-module"></span><h2>taskgraph.util.attributes module<a class="headerlink" href="#module-taskgraph.util.attributes" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.attributes.attrmatch">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">attrmatch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attributes</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.attrmatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the given set of task attributes matches.  The
conditions are given as keyword arguments, where each keyword names an
attribute.  The keyword value can be a literal, a set, or a callable.  A
literal must match the attribute exactly.  Given a set, the attribute value
must be in the set.  A callable is called with the attribute value.  If an
attribute is specified as a keyword argument but not present in the
attributes, the result is False.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.copy_attributes_from_dependent_job">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">copy_attributes_from_dependent_job</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dep_job</span></em>, <em class="sig-param"><span class="n">denylist</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.copy_attributes_from_dependent_job" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.keymatch">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">keymatch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attributes</span></em>, <em class="sig-param"><span class="n">target</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.keymatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if any keys in attributes are a match to target, then return
a list of matching values. First exact matches will be checked. Failing
that, regex matches and finally a default key.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.match_run_on_hg_branches">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">match_run_on_hg_branches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hg_branch</span></em>, <em class="sig-param"><span class="n">run_on_hg_branches</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.match_run_on_hg_branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the given project is included in the <cite>run-on-hg-branches</cite>
parameter. Allows ‘all’.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.match_run_on_projects">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">match_run_on_projects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">run_on_projects</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.match_run_on_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the given project is included in the <cite>run-on-projects</cite>
parameter, applying expansions for things like “integration” mentioned in
the attribute documentation.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.release_level">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">release_level</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.release_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this is a staging release or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Return six.text_type</dt>
<dd class="field-odd"><p>One of “production” or “staging”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.attributes.sorted_unique_list">
<code class="sig-prename descclassname">taskgraph.util.attributes.</code><code class="sig-name descname">sorted_unique_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.attributes.sorted_unique_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Join one or more lists, and return a sorted list of unique members</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.backstop">
<span id="taskgraph-util-backstop-module"></span><h2>taskgraph.util.backstop module<a class="headerlink" href="#module-taskgraph.util.backstop" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.backstop.is_backstop">
<code class="sig-prename descclassname">taskgraph.util.backstop.</code><code class="sig-name descname">is_backstop</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">push_interval</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="n">time_interval</span><span class="o">=</span><span class="default_value">240</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.backstop.is_backstop" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether the given parameters represent a backstop push.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>push_interval</strong> (<em>int</em>) – Number of pushes</p></li>
<li><p><strong>time_interval</strong> (<em>int</em>) – Minutes between forced schedules.
Use 0 to disable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if this is a backtop, otherwise False.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.bugbug">
<span id="taskgraph-util-bugbug-module"></span><h2>taskgraph.util.bugbug module<a class="headerlink" href="#module-taskgraph.util.bugbug" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="taskgraph.util.bugbug.BugbugTimeoutException">
<em class="property">exception </em><code class="sig-prename descclassname">taskgraph.util.bugbug.</code><code class="sig-name descname">BugbugTimeoutException</code><a class="headerlink" href="#taskgraph.util.bugbug.BugbugTimeoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.bugbug.get_session">
<code class="sig-prename descclassname">taskgraph.util.bugbug.</code><code class="sig-name descname">get_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.bugbug.get_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.bugbug.push_schedules">
<code class="sig-prename descclassname">taskgraph.util.bugbug.</code><code class="sig-name descname">push_schedules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">branch</span></em>, <em class="sig-param"><span class="n">rev</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.bugbug.push_schedules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.bugbug.translate_group">
<code class="sig-prename descclassname">taskgraph.util.bugbug.</code><code class="sig-name descname">translate_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.bugbug.translate_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.cached_tasks">
<span id="taskgraph-util-cached-tasks-module"></span><h2>taskgraph.util.cached_tasks module<a class="headerlink" href="#module-taskgraph.util.cached_tasks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.cached_tasks.add_optimization">
<code class="sig-prename descclassname">taskgraph.util.cached_tasks.</code><code class="sig-name descname">add_optimization</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">taskdesc</span></em>, <em class="sig-param"><span class="n">cache_type</span></em>, <em class="sig-param"><span class="n">cache_name</span></em>, <em class="sig-param"><span class="n">digest</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">digest_data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.cached_tasks.add_optimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow the results of this task to be cached. This adds index routes to the
task so it can be looked up for future runs, and optimization hints so that
cached artifacts can be found. Exactly one of <cite>digest</cite> and <cite>digest_data</cite>
must be passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>taskdesc</strong> (<em>dict</em>) – The description of the current task.</p></li>
<li><p><strong>cache_type</strong> (<em>str</em>) – The type of task result being cached.</p></li>
<li><p><strong>cache_name</strong> (<em>str</em>) – The name of the object being cached.</p></li>
<li><p><strong>digest</strong> (<em>bytes</em><em> or </em><em>None</em>) – A unique string indentifying this version of the artifacts
being generated. Typically this will be the hash of inputs to the task.</p></li>
<li><p><strong>digest_data</strong> (<em>list of bytes</em><em> or </em><em>None</em>) – A list of bytes representing the inputs of this task.
They will be concatenated and hashed to create the digest for this
task.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.chunking">
<span id="taskgraph-util-chunking-module"></span><h2>taskgraph.util.chunking module<a class="headerlink" href="#module-taskgraph.util.chunking" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="taskgraph.util.chunking.BaseManifestLoader">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">BaseManifestLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.BaseManifestLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="taskgraph.util.chunking.BaseManifestLoader.get_manifests">
<em class="property">abstract </em><code class="sig-name descname">get_manifests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flavor</span></em>, <em class="sig-param"><span class="n">subsuite</span></em>, <em class="sig-param"><span class="n">mozinfo</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.BaseManifestLoader.get_manifests" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute which manifests should run for the given flavor, subsuite and mozinfo.</p>
<p>This function returns skipped manifests separately so that more balanced
chunks can be achieved by only considering “active” manifests in the
chunking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flavor</strong> (<em>str</em>) – The suite to run. Values are defined by the ‘build_flavor’ key
in <cite>moztest.resolve.TEST_SUITES</cite>.</p></li>
<li><p><strong>subsuite</strong> (<em>str</em>) – The subsuite to run or ‘undefined’ to denote no subsuite.</p></li>
<li><p><strong>mozinfo</strong> (<em>frozenset</em>) – Set of data in the form of (&lt;key&gt;, &lt;value&gt;) used
for filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of two manifest lists. The first is the set of active manifests (will
run at least one test. The second is a list of skipped manifests (all tests are
skipped).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.chunking.BugbugLoader">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">BugbugLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.BugbugLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#taskgraph.util.chunking.DefaultLoader" title="taskgraph.util.chunking.DefaultLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">taskgraph.util.chunking.DefaultLoader</span></code></a></p>
<p>Load manifests using metadata from the TestResolver, and then
filter them based on a query to bugbug.</p>
<dl class="py attribute">
<dt id="taskgraph.util.chunking.BugbugLoader.CONFIDENCE_THRESHOLD">
<code class="sig-name descname">CONFIDENCE_THRESHOLD</code><em class="property"> = 0.7</em><a class="headerlink" href="#taskgraph.util.chunking.BugbugLoader.CONFIDENCE_THRESHOLD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="taskgraph.util.chunking.BugbugLoader.get_manifests">
<code class="sig-name descname">get_manifests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">suite</span></em>, <em class="sig-param"><span class="n">mozinfo</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.BugbugLoader.get_manifests" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute which manifests should run for the given flavor, subsuite and mozinfo.</p>
<p>This function returns skipped manifests separately so that more balanced
chunks can be achieved by only considering “active” manifests in the
chunking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flavor</strong> (<em>str</em>) – The suite to run. Values are defined by the ‘build_flavor’ key
in <cite>moztest.resolve.TEST_SUITES</cite>.</p></li>
<li><p><strong>subsuite</strong> (<em>str</em>) – The subsuite to run or ‘undefined’ to denote no subsuite.</p></li>
<li><p><strong>mozinfo</strong> (<em>frozenset</em>) – Set of data in the form of (&lt;key&gt;, &lt;value&gt;) used
for filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of two manifest lists. The first is the set of active manifests (will
run at least one test. The second is a list of skipped manifests (all tests are
skipped).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.chunking.DefaultLoader">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">DefaultLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.DefaultLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#taskgraph.util.chunking.BaseManifestLoader" title="taskgraph.util.chunking.BaseManifestLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">taskgraph.util.chunking.BaseManifestLoader</span></code></a></p>
<p>Load manifests using metadata from the TestResolver.</p>
<dl class="py method">
<dt id="taskgraph.util.chunking.DefaultLoader.get_manifests">
<code class="sig-name descname">get_manifests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">suite</span></em>, <em class="sig-param"><span class="n">mozinfo</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.DefaultLoader.get_manifests" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute which manifests should run for the given flavor, subsuite and mozinfo.</p>
<p>This function returns skipped manifests separately so that more balanced
chunks can be achieved by only considering “active” manifests in the
chunking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flavor</strong> (<em>str</em>) – The suite to run. Values are defined by the ‘build_flavor’ key
in <cite>moztest.resolve.TEST_SUITES</cite>.</p></li>
<li><p><strong>subsuite</strong> (<em>str</em>) – The subsuite to run or ‘undefined’ to denote no subsuite.</p></li>
<li><p><strong>mozinfo</strong> (<em>frozenset</em>) – Set of data in the form of (&lt;key&gt;, &lt;value&gt;) used
for filtering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of two manifest lists. The first is the set of active manifests (will
run at least one test. The second is a list of skipped manifests (all tests are
skipped).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="taskgraph.util.chunking.DefaultLoader.get_tests">
<code class="sig-name descname">get_tests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">suite</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.DefaultLoader.get_tests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.chunking.chunk_manifests">
<code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">chunk_manifests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">suite</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">chunks</span></em>, <em class="sig-param"><span class="n">manifests</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.chunk_manifests" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the chunking algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>platform</strong> (<em>str</em>) – Platform used to find runtime info.</p></li>
<li><p><strong>chunks</strong> (<em>int</em>) – Number of chunks to split manifests into.</p></li>
<li><p><strong>manifests</strong> (<em>list</em>) – Manifests to chunk.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of length <cite>chunks</cite> where each item contains a list of manifests
that run in that chunk.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.chunking.get_manifest_loader">
<code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">get_manifest_loader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.get_manifest_loader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.chunking.get_runtimes">
<code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">get_runtimes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">suite_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.get_runtimes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.chunking.guess_mozinfo_from_task">
<code class="sig-prename descclassname">taskgraph.util.chunking.</code><code class="sig-name descname">guess_mozinfo_from_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.chunking.guess_mozinfo_from_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to build a mozinfo dict from a task definition.</p>
<p>This won’t be perfect and many values used in the manifests will be missing. But
it should cover most of the major ones and be “good enough” for chunking in the
taskgraph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>task</strong> (<em>dict</em>) – A task definition.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict that can be used as a mozinfo replacement.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.declarative_artifacts">
<span id="taskgraph-util-declarative-artifacts-module"></span><h2>taskgraph.util.declarative_artifacts module<a class="headerlink" href="#module-taskgraph.util.declarative_artifacts" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.declarative_artifacts.get_geckoview_artifact_id">
<code class="sig-prename descclassname">taskgraph.util.declarative_artifacts.</code><code class="sig-name descname">get_geckoview_artifact_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">update_channel</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.declarative_artifacts.get_geckoview_artifact_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.declarative_artifacts.get_geckoview_template_vars">
<code class="sig-prename descclassname">taskgraph.util.declarative_artifacts.</code><code class="sig-name descname">get_geckoview_template_vars</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">update_channel</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.declarative_artifacts.get_geckoview_template_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.declarative_artifacts.get_geckoview_upstream_artifacts">
<code class="sig-prename descclassname">taskgraph.util.declarative_artifacts.</code><code class="sig-name descname">get_geckoview_upstream_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">platform</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.declarative_artifacts.get_geckoview_upstream_artifacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.docker">
<span id="taskgraph-util-docker-module"></span><h2>taskgraph.util.docker module<a class="headerlink" href="#module-taskgraph.util.docker" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="taskgraph.util.docker.HashingWriter">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">HashingWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">writer</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.HashingWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A file object with write capabilities that hashes the written data at
the same time it passes down to a real file object.</p>
<dl class="py method">
<dt id="taskgraph.util.docker.HashingWriter.hexdigest">
<code class="sig-name descname">hexdigest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.HashingWriter.hexdigest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="taskgraph.util.docker.HashingWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.HashingWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.docker.ImagePathsMap">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">ImagePathsMap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config_path</span></em>, <em class="sig-param"><span class="n">image_dir</span><span class="o">=</span><span class="default_value">'/Users/greg/dev/gecko-dev/taskcluster/docker'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.ImagePathsMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></p>
<p>ImagePathsMap contains the mapping of Docker image names to their
context location in the filesystem. The register function allows Thunderbird
to define additional images under comm/taskcluster.</p>
<dl class="py method">
<dt id="taskgraph.util.docker.ImagePathsMap.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jobs_config_path</span></em>, <em class="sig-param"><span class="n">image_dir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.ImagePathsMap.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register additional image_paths. In this case, there is no ‘jobs’
key in the loaded YAML as this file is loaded via jobs-from in kind.yml.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.docker.VoidWriter">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">VoidWriter</code><a class="headerlink" href="#taskgraph.util.docker.VoidWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A file object with write capabilities that does nothing with the written
data.</p>
<dl class="py method">
<dt id="taskgraph.util.docker.VoidWriter.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">buf</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.VoidWriter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.create_context_tar">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">create_context_tar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">context_dir</span></em>, <em class="sig-param"><span class="n">out_path</span></em>, <em class="sig-param"><span class="n">image_name</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.create_context_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a context tarball.</p>
<p>A directory <code class="docutils literal notranslate"><span class="pre">context_dir</span></code> containing a Dockerfile will be assembled into
a gzipped tar file at <code class="docutils literal notranslate"><span class="pre">out_path</span></code>.</p>
<p>We also scan the source Dockerfile for special syntax that influences
context generation.</p>
<p>If a line in the Dockerfile has the form <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">%include</span> <span class="pre">&lt;path&gt;</span></code>,
the relative path specified on that line will be matched against
files in the source repository and added to the context under the
path <code class="docutils literal notranslate"><span class="pre">topsrcdir/</span></code>. If an entry is a directory, we add all files
under that directory.</p>
<p>If a line in the Dockerfile has the form <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">%ARG</span> <span class="pre">&lt;name&gt;</span></code>, occurrences of
the string <code class="docutils literal notranslate"><span class="pre">$&lt;name&gt;</span></code> in subsequent lines are replaced with the value
found in the <code class="docutils literal notranslate"><span class="pre">args</span></code> argument. Exception: this doesn’t apply to VOLUME
definitions.</p>
<p>Returns the SHA-256 hex digest of the created archive.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.docker_image">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">docker_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">by_tag</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.docker_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve in-tree prebuilt docker image to <code class="docutils literal notranslate"><span class="pre">&lt;registry&gt;/&lt;repository&gt;&#64;sha256:&lt;digest&gt;</span></code>,
or <code class="docutils literal notranslate"><span class="pre">&lt;registry&gt;/&lt;repository&gt;:&lt;tag&gt;</span></code> if <cite>by_tag</cite> is <cite>True</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.docker_url">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">docker_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.docker_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.generate_context_hash">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">generate_context_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">image_path</span></em>, <em class="sig-param"><span class="n">image_name</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.generate_context_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a sha256 hash for context directory used to build an image.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.image_path">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">image_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.image_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.parse_volumes">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">parse_volumes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.parse_volumes" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse VOLUME entries from a Dockerfile for an image.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.post_to_docker">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">post_to_docker</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tar</span></em>, <em class="sig-param"><span class="n">api_path</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.post_to_docker" title="Permalink to this definition">¶</a></dt>
<dd><p>POSTs a tar file to a given docker API path.</p>
<p>The tar argument can be anything that can be passed to requests.post()
as data (e.g. iterator or file object).
The extra keyword arguments are passed as arguments to the docker API.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.docker.stream_context_tar">
<code class="sig-prename descclassname">taskgraph.util.docker.</code><code class="sig-name descname">stream_context_tar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">topsrcdir</span></em>, <em class="sig-param"><span class="n">context_dir</span></em>, <em class="sig-param"><span class="n">out_file</span></em>, <em class="sig-param"><span class="n">image_name</span></em>, <em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.docker.stream_context_tar" title="Permalink to this definition">¶</a></dt>
<dd><p>Like create_context_tar, but streams the tar file to the <cite>out_file</cite> file
object.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.hash">
<span id="taskgraph-util-hash-module"></span><h2>taskgraph.util.hash module<a class="headerlink" href="#module-taskgraph.util.hash" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.hash.get_file_finder">
<code class="sig-prename descclassname">taskgraph.util.hash.</code><code class="sig-name descname">get_file_finder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hash.get_file_finder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hash.hash_path">
<code class="sig-prename descclassname">taskgraph.util.hash.</code><code class="sig-name descname">hash_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hash.hash_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash a single file.</p>
<p>Returns the SHA-256 hash in hex form.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hash.hash_paths">
<code class="sig-prename descclassname">taskgraph.util.hash.</code><code class="sig-name descname">hash_paths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_path</span></em>, <em class="sig-param"><span class="n">patterns</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hash.hash_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Give a list of path patterns, return a digest of the contents of all
the corresponding files, similarly to git tree objects or mercurial
manifests.</p>
<p>Each file is hashed. The list of all hashes and file paths is then
itself hashed to produce the result.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.hg">
<span id="taskgraph-util-hg-module"></span><h2>taskgraph.util.hg module<a class="headerlink" href="#module-taskgraph.util.hg" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.hg.calculate_head_rev">
<code class="sig-prename descclassname">taskgraph.util.hg.</code><code class="sig-name descname">calculate_head_rev</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hg.calculate_head_rev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hg.find_hg_revision_push_info">
<code class="sig-prename descclassname">taskgraph.util.hg.</code><code class="sig-name descname">find_hg_revision_push_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repository</span></em>, <em class="sig-param"><span class="n">revision</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hg.find_hg_revision_push_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the parameters for this action and a revision, find the
pushlog_id of the revision.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hg.get_hg_commit_message">
<code class="sig-prename descclassname">taskgraph.util.hg.</code><code class="sig-name descname">get_hg_commit_message</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hg.get_hg_commit_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hg.get_hg_revision_branch">
<code class="sig-prename descclassname">taskgraph.util.hg.</code><code class="sig-name descname">get_hg_revision_branch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">revision</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hg.get_hg_revision_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the parameters for a revision, find the hg_branch (aka
relbranch) of the revision.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.hg.get_push_data">
<code class="sig-prename descclassname">taskgraph.util.hg.</code><code class="sig-name descname">get_push_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repository</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">push_id_start</span></em>, <em class="sig-param"><span class="n">push_id_end</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.hg.get_push_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.keyed_by">
<span id="taskgraph-util-keyed-by-module"></span><h2>taskgraph.util.keyed_by module<a class="headerlink" href="#module-taskgraph.util.keyed_by" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.keyed_by.evaluate_keyed_by">
<code class="sig-prename descclassname">taskgraph.util.keyed_by.</code><code class="sig-name descname">evaluate_keyed_by</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">attributes</span></em>, <em class="sig-param"><span class="n">defer</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.keyed_by.evaluate_keyed_by" title="Permalink to this definition">¶</a></dt>
<dd><p>For values which can either accept a literal value, or be keyed by some
attributes, perform that lookup and return the result.</p>
<p>For example, given item:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">by</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span>
    <span class="n">macosx</span><span class="o">-</span><span class="mf">10.11</span><span class="o">/</span><span class="n">debug</span><span class="p">:</span> <span class="mi">13</span>
    <span class="n">win</span><span class="o">.*</span><span class="p">:</span> <span class="mi">6</span>
    <span class="n">default</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>a call to <cite>evaluate_keyed_by(item, ‘thing-name’, {‘test-platform’: ‘linux96’)</cite>
would return <cite>12</cite>.</p>
<p>The <cite>item_name</cite> parameter is used to generate useful error messages.
Items can be nested as deeply as desired:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">by</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span>
    <span class="n">win</span><span class="o">.*</span><span class="p">:</span>
        <span class="n">by</span><span class="o">-</span><span class="n">project</span><span class="p">:</span>
            <span class="n">ash</span><span class="p">:</span> <span class="o">..</span>
            <span class="n">cedar</span><span class="p">:</span> <span class="o">..</span>
    <span class="n">linux</span><span class="p">:</span> <span class="mi">13</span>
    <span class="n">default</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>The <cite>defer</cite> parameter allows evaluating a by-* entry at a later time. In the
example above it’s possible that the project attribute hasn’t been set
yet, in which case we’d want to stop before resolving that subkey and then
call this function again later. This can be accomplished by setting
<cite>defer=[“project”]</cite> in this example.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.parameterization">
<span id="taskgraph-util-parameterization-module"></span><h2>taskgraph.util.parameterization module<a class="headerlink" href="#module-taskgraph.util.parameterization" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.parameterization.resolve_task_references">
<code class="sig-prename descclassname">taskgraph.util.parameterization.</code><code class="sig-name descname">resolve_task_references</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">task_def</span></em>, <em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">decision_task_id</span></em>, <em class="sig-param"><span class="n">dependencies</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.parameterization.resolve_task_references" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Resolve all instances of</dt><dd><p>{‘task-reference’: ‘..&lt;..&gt;..’}</p>
</dd>
<dt>and</dt><dd><p>{‘artifact-reference`: ‘..&lt;dependency/artifact/path&gt;..’}</p>
</dd>
</dl>
<p>in the given task definition, using the given dependencies</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.parameterization.resolve_timestamps">
<code class="sig-prename descclassname">taskgraph.util.parameterization.</code><code class="sig-name descname">resolve_timestamps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">now</span></em>, <em class="sig-param"><span class="n">task_def</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.parameterization.resolve_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolve all instances of <cite>{‘relative-datestamp’: ‘..’}</cite> in the given task definition</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.partials">
<span id="taskgraph-util-partials-module"></span><h2>taskgraph.util.partials module<a class="headerlink" href="#module-taskgraph.util.partials" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.partials.find_localtest">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">find_localtest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fileUrls</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.find_localtest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_balrog_platform_name">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_balrog_platform_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_balrog_platform_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert build platform names into balrog platform names.</p>
<p>Remove known values instead to catch aarch64 and other platforms
that may be added.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_builds">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_builds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">release_history</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">locale</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_builds" title="Permalink to this definition">¶</a></dt>
<dd><p>Examine cached balrog release history and return the list of
builds we need to generate diffs from</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_partials_artifacts_from_params">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_partials_artifacts_from_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">release_history</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">locale</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_partials_artifacts_from_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_partials_info_from_params">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_partials_info_from_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">release_history</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">locale</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_partials_info_from_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_release_builds">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_release_builds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">release</span></em>, <em class="sig-param"><span class="n">branch</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_release_builds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.get_sorted_releases">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">get_sorted_releases</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">product</span></em>, <em class="sig-param"><span class="n">branch</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.get_sorted_releases" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of release names from Balrog.
:param product: product name, AKA appName
:param branch: branch name, e.g. mozilla-central
:return: a sorted list of release names, most recent first.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partials.populate_release_history">
<code class="sig-prename descclassname">taskgraph.util.partials.</code><code class="sig-name descname">populate_release_history</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">product</span></em>, <em class="sig-param"><span class="n">branch</span></em>, <em class="sig-param"><span class="n">maxbuilds</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">maxsearch</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">partial_updates</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partials.populate_release_history" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.partners">
<span id="taskgraph-util-partners-module"></span><h2>taskgraph.util.partners module<a class="headerlink" href="#module-taskgraph.util.partners" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt id="taskgraph.util.partners.GITHUB_API_ENDPOINT">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">GITHUB_API_ENDPOINT</code><em class="property"> = 'https://api.github.com/graphql'</em><a class="headerlink" href="#taskgraph.util.partners.GITHUB_API_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd><p>LOGIN_QUERY, MANIFEST_QUERY, and REPACK_CFG_QUERY are all written to the Github v4 API,
which users GraphQL. See <a class="reference external" href="https://developer.github.com/v4/">https://developer.github.com/v4/</a></p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.apply_partner_priority">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">apply_partner_priority</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">jobs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.apply_partner_priority" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.check_if_partners_enabled">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">check_if_partners_enabled</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">tasks</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.check_if_partners_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.check_login">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">check_login</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.check_login" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.fix_partner_config">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">fix_partner_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orig_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.fix_partner_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.generate_attribution_code">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">generate_attribution_code</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">defaults</span></em>, <em class="sig-param"><span class="n">partner</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.generate_attribution_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_attribution_config">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_attribution_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manifestRepo</span></em>, <em class="sig-param"><span class="n">token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_attribution_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_ftp_platform">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_ftp_platform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_ftp_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_partner_config_by_kind">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_partner_config_by_kind</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">kind</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_partner_config_by_kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve partner data starting from the manifest url, which points to a repository
containing a default.xml that is intended to be drive the Google tool ‘repo’. It
descends into each partner repo to lookup and parse the repack.cfg file(s).</p>
<p>Supports caching data by kind to avoid repeated requests, relying on the related kinds for
partner repacking, signing, repackage, repackage signing all having the same kind prefix.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_partner_config_by_url">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_partner_config_by_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manifest_url</span></em>, <em class="sig-param"><span class="n">kind</span></em>, <em class="sig-param"><span class="n">token</span></em>, <em class="sig-param"><span class="n">partner_subset</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_partner_config_by_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve partner data starting from the manifest url, which points to a repository
containing a default.xml that is intended to be drive the Google tool ‘repo’. It
descends into each partner repo to lookup and parse the repack.cfg file(s).</p>
<p>If partner_subset is a list of sub_config names only return data for those.</p>
<p>Supports caching data by kind to avoid repeated requests, relying on the related kinds for
partner repacking, signing, repackage, repackage signing all having the same kind prefix.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_partner_url_config">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_partner_url_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">graph_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_partner_url_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_partners">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_partners</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">manifestRepo</span></em>, <em class="sig-param"><span class="n">token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_partners" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the url to a manifest repository, retrieve the default.xml and parse it into a
list of partner repos.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_partners_to_be_published">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_partners_to_be_published</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_partners_to_be_published" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_repack_configs">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_repack_configs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repackRepo</span></em>, <em class="sig-param"><span class="n">token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_repack_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>For a partner repository, retrieve all the repack.cfg files and parse them into a dict</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_repack_ids_by_platform">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_repack_ids_by_platform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">build_platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_repack_ids_by_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_repo_params">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_repo_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repo</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_repo_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the organisation and repo name from an https or git url for a repo</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.get_token">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">get_token</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.get_token" title="Permalink to this definition">¶</a></dt>
<dd><p>We use a Personal Access Token from Github to lookup partner config. No extra scopes are
needed on the token to read public repositories, but need the ‘repo’ scope to see private
repositories. This is not fine grained and also grants r/w access, but is revoked at the repo
level.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.locales_per_build_platform">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">locales_per_build_platform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em>, <em class="sig-param"><span class="n">locales</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.locales_per_build_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.parse_config">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">parse_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.parse_config" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Parse a single repack.cfg file into a python dictionary.</dt><dd><p>data is contents of the file, in “foo=bar</p>
</dd>
<dt>baz=buzz” style. We do some translation on</dt><dd><p>locales and platforms data, otherwise passthrough</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.partners.query_api">
<code class="sig-prename descclassname">taskgraph.util.partners.</code><code class="sig-name descname">query_api</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">query</span></em>, <em class="sig-param"><span class="n">token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.partners.query_api" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a query with a Github auth header, returning the json</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.perfile">
<span id="taskgraph-util-perfile-module"></span><h2>taskgraph.util.perfile module<a class="headerlink" href="#module-taskgraph.util.perfile" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.perfile.perfile_number_of_chunks">
<code class="sig-prename descclassname">taskgraph.util.perfile.</code><code class="sig-name descname">perfile_number_of_chunks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">is_try</span></em>, <em class="sig-param"><span class="n">try_task_config</span></em>, <em class="sig-param"><span class="n">head_repository</span></em>, <em class="sig-param"><span class="n">head_rev</span></em>, <em class="sig-param"><span class="n">type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.perfile.perfile_number_of_chunks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.platforms">
<span id="taskgraph-util-platforms-module"></span><h2>taskgraph.util.platforms module<a class="headerlink" href="#module-taskgraph.util.platforms" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.platforms.architecture">
<code class="sig-prename descclassname">taskgraph.util.platforms.</code><code class="sig-name descname">architecture</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.platforms.architecture" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.platforms.archive_format">
<code class="sig-prename descclassname">taskgraph.util.platforms.</code><code class="sig-name descname">archive_format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.platforms.archive_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a build platform, return the archive format used on the platform.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.platforms.executable_extension">
<code class="sig-prename descclassname">taskgraph.util.platforms.</code><code class="sig-name descname">executable_extension</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.platforms.executable_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a build platform, return the executable extension used on the platform.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.platforms.platform_family">
<code class="sig-prename descclassname">taskgraph.util.platforms.</code><code class="sig-name descname">platform_family</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.platforms.platform_family" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a build platform, return the platform family (linux, macosx, etc.)</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.python_path">
<span id="taskgraph-util-python-path-module"></span><h2>taskgraph.util.python_path module<a class="headerlink" href="#module-taskgraph.util.python_path" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.python_path.find_object">
<code class="sig-prename descclassname">taskgraph.util.python_path.</code><code class="sig-name descname">find_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.python_path.find_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a Python object given a path of the form &lt;modulepath&gt;:&lt;objectpath&gt;.
Conceptually equivalent to</p>
<blockquote>
<div><dl class="simple">
<dt>def find_object(modulepath, objectpath):</dt><dd><p>import &lt;modulepath&gt; as mod
return mod.&lt;objectpath&gt;</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.python_path.import_sibling_modules">
<code class="sig-prename descclassname">taskgraph.util.python_path.</code><code class="sig-name descname">import_sibling_modules</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exceptions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.python_path.import_sibling_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>Import all Python modules that are siblings of the calling module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exceptions</strong> (<em>list</em>) – A list of file names to exclude (caller and
__init__.py are implicitly excluded).</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.schema">
<span id="taskgraph-util-schema-module"></span><h2>taskgraph.util.schema module<a class="headerlink" href="#module-taskgraph.util.schema" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="taskgraph.util.schema.Schema">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.schema.</code><code class="sig-name descname">Schema</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.Schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">voluptuous.schema_builder.Schema</span></code></p>
<p>Operates identically to voluptuous.Schema, but applying some taskgraph-specific checks
in the process.</p>
<dl class="py method">
<dt id="taskgraph.util.schema.Schema.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.Schema.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new <cite>Schema</cite> by merging this and the provided <cite>schema</cite>.</p>
<p>Neither this <cite>Schema</cite> nor the provided <cite>schema</cite> are modified. The
resulting <cite>Schema</cite> inherits the <cite>required</cite> and <cite>extra</cite> parameters of
this, unless overridden.</p>
<p>Both schemas must be dictionary-based.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema</strong> – dictionary to extend this <cite>Schema</cite> with</p></li>
<li><p><strong>required</strong> – if set, overrides <cite>required</cite> of this <cite>Schema</cite></p></li>
<li><p><strong>extra</strong> – if set, overrides <cite>extra</cite> of this <cite>Schema</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.schema.check_schema">
<code class="sig-prename descclassname">taskgraph.util.schema.</code><code class="sig-name descname">check_schema</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.check_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.schema.optionally_keyed_by">
<code class="sig-prename descclassname">taskgraph.util.schema.</code><code class="sig-name descname">optionally_keyed_by</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">arguments</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.optionally_keyed_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a schema value as optionally keyed by any of a number of fields.  The
schema is the last argument, and the remaining fields are taken to be the
field names.  For example:</p>
<blockquote>
<div><dl class="simple">
<dt>‘some-value’: optionally_keyed_by(</dt><dd><p>‘test-platform’, ‘build-platform’,
Any(‘a’, ‘b’, ‘c’))</p>
</dd>
</dl>
</div></blockquote>
<p>The resulting schema will allow nesting of <cite>by-test-platform</cite> and
<cite>by-build-platform</cite> in either order.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.schema.resolve_keyed_by">
<code class="sig-prename descclassname">taskgraph.util.schema.</code><code class="sig-name descname">resolve_keyed_by</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em>, <em class="sig-param"><span class="n">field</span></em>, <em class="sig-param"><span class="n">item_name</span></em>, <em class="sig-param"><span class="n">defer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">extra_values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.resolve_keyed_by" title="Permalink to this definition">¶</a></dt>
<dd><p>For values which can either accept a literal value, or be keyed by some
other attribute of the item, perform that lookup and replacement in-place
(modifying <cite>item</cite> directly).  The field is specified using dotted notation
to traverse dictionaries.</p>
<p>For example, given item:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">job</span><span class="p">:</span>
    <span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span> <span class="n">linux128</span>
    <span class="n">chunks</span><span class="p">:</span>
        <span class="n">by</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span>
            <span class="n">macosx</span><span class="o">-</span><span class="mf">10.11</span><span class="o">/</span><span class="n">debug</span><span class="p">:</span> <span class="mi">13</span>
            <span class="n">win</span><span class="o">.*</span><span class="p">:</span> <span class="mi">6</span>
            <span class="n">default</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>a call to <cite>resolve_keyed_by(item, ‘job.chunks’, item[‘thing-name’])</cite>
would mutate item in-place to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">job</span><span class="p">:</span>
    <span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span> <span class="n">linux128</span>
    <span class="n">chunks</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>The <cite>item_name</cite> parameter is used to generate useful error messages.</p>
<p>If extra_values are supplied, they represent additional values available
for reference from by-&lt;field&gt;.</p>
<p>Items can be nested as deeply as the schema will allow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">chunks</span><span class="p">:</span>
    <span class="n">by</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="n">platform</span><span class="p">:</span>
        <span class="n">win</span><span class="o">.*</span><span class="p">:</span>
            <span class="n">by</span><span class="o">-</span><span class="n">project</span><span class="p">:</span>
                <span class="n">ash</span><span class="p">:</span> <span class="o">..</span>
                <span class="n">cedar</span><span class="p">:</span> <span class="o">..</span>
        <span class="n">linux</span><span class="p">:</span> <span class="mi">13</span>
        <span class="n">default</span><span class="p">:</span> <span class="mi">12</span>
</pre></div>
</div>
<p>The <cite>defer</cite> parameter allows evaluating a by-* entry at a later time. In the
example above it’s possible that the project attribute hasn’t been set
yet, in which case we’d want to stop before resolving that subkey and then
call this function again later. This can be accomplished by setting
<cite>defer=[“project”]</cite> in this example.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.schema.validate_schema">
<code class="sig-prename descclassname">taskgraph.util.schema.</code><code class="sig-name descname">validate_schema</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">msg_prefix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.schema.validate_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that object satisfies schema.  If not, generate a useful exception
beginning with msg_prefix.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.scriptworker">
<span id="taskgraph-util-scriptworker-module"></span><h2>taskgraph.util.scriptworker module<a class="headerlink" href="#module-taskgraph.util.scriptworker" title="Permalink to this headline">¶</a></h2>
<p>Make scriptworker.cot.verify more user friendly by making scopes dynamic.</p>
<p>Scriptworker uses certain scopes to determine which sets of credentials to use.
Certain scopes are restricted by branch in chain of trust verification, and are
checked again at the script level.  This file provides functions to adjust
these scopes automatically by project; this makes pushing to try, forking a
project branch, and merge day uplifts more user friendly.</p>
<p>In the future, we may adjust scopes by other settings as well, e.g. different
scopes for <cite>push-to-candidates</cite> rather than <cite>push-to-releases</cite>, even if both
happen on mozilla-beta and mozilla-release.</p>
<p>Additional configuration is found in the <a class="reference internal" href="../taskcluster/taskgraph.html#taskgraph-graph-config"><span class="std std-ref">graph config</span></a>.</p>
<dl class="py data">
<dt id="taskgraph.util.scriptworker.BALROG_ACTIONS">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BALROG_ACTIONS</code><em class="property"> = ('submit-locale', 'submit-toplevel', 'schedule', 'v2-submit-locale', 'v2-submit-toplevel')</em><a class="headerlink" href="#taskgraph.util.scriptworker.BALROG_ACTIONS" title="Permalink to this definition">¶</a></dt>
<dd><p>Map balrog scope aliases to sets of projects.</p>
<p>This is a list of list-pairs, for ordering.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.BALROG_SCOPE_ALIAS_TO_PROJECT">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BALROG_SCOPE_ALIAS_TO_PROJECT</code><em class="property"> = [['nightly', {'oak', 'comm-central', 'mozilla-central'}], ['beta', {'comm-beta', 'mozilla-beta'}], ['release', {'comm-esr78', 'mozilla-release'}], ['esr78', {'mozilla-esr78'}]]</em><a class="headerlink" href="#taskgraph.util.scriptworker.BALROG_SCOPE_ALIAS_TO_PROJECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the balrog scope aliases to the actual scopes.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.BALROG_SERVER_SCOPES">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BALROG_SERVER_SCOPES</code><em class="property"> = {'aurora': 'balrog:server:aurora', 'beta': 'balrog:server:beta', 'default': 'balrog:server:dep', 'esr78': 'balrog:server:esr', 'nightly': 'balrog:server:nightly', 'release': 'balrog:server:release'}</em><a class="headerlink" href="#taskgraph.util.scriptworker.BALROG_SERVER_SCOPES" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of the release promotion phases which we send notifications for</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.BEETMOVER_ACTION_SCOPES">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BEETMOVER_ACTION_SCOPES</code><em class="property"> = {'default': 'beetmover:action:push-to-candidates', 'nightly': 'beetmover:action:push-to-nightly', 'nightly-oak': 'beetmover:action:push-to-nightly'}</em><a class="headerlink" href="#taskgraph.util.scriptworker.BEETMOVER_ACTION_SCOPES" title="Permalink to this definition">¶</a></dt>
<dd><p>Known balrog actions.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.BEETMOVER_BUCKET_SCOPES">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BEETMOVER_BUCKET_SCOPES</code><em class="property"> = {'all-nightly-branches': 'beetmover:bucket:nightly', 'all-release-branches': 'beetmover:bucket:release', 'default': 'beetmover:bucket:dep'}</em><a class="headerlink" href="#taskgraph.util.scriptworker.BEETMOVER_BUCKET_SCOPES" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the beetmover tasks aliases to the actual action scopes.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.BEETMOVER_SCOPE_ALIAS_TO_PROJECT">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">BEETMOVER_SCOPE_ALIAS_TO_PROJECT</code><em class="property"> = [['all-nightly-branches', {'oak', 'comm-central', 'mozilla-central'}], ['all-release-branches', {'comm-esr78', 'comm-beta', 'mozilla-release', 'mozilla-beta', 'mozilla-esr78'}]]</em><a class="headerlink" href="#taskgraph.util.scriptworker.BEETMOVER_SCOPE_ALIAS_TO_PROJECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the beetmover scope aliases to the actual scopes.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.DEVEDITION_SIGNING_CERT_SCOPES">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">DEVEDITION_SIGNING_CERT_SCOPES</code><em class="property"> = {'beta': 'signing:cert:nightly-signing', 'default': 'signing:cert:dep-signing'}</em><a class="headerlink" href="#taskgraph.util.scriptworker.DEVEDITION_SIGNING_CERT_SCOPES" title="Permalink to this definition">¶</a></dt>
<dd><p>Map beetmover scope aliases to sets of projects.</p>
</dd></dl>

<dl class="py data">
<dt id="taskgraph.util.scriptworker.SIGNING_SCOPE_ALIAS_TO_PROJECT">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">SIGNING_SCOPE_ALIAS_TO_PROJECT</code><em class="property"> = [['all-nightly-branches', {'oak', 'comm-central', 'mozilla-central'}], ['all-release-branches', {'comm-esr78', 'comm-beta', 'mozilla-release', 'mozilla-beta', 'mozilla-esr78'}]]</em><a class="headerlink" href="#taskgraph.util.scriptworker.SIGNING_SCOPE_ALIAS_TO_PROJECT" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the signing scope aliases to the actual scopes.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.add_scope_prefix">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">add_scope_prefix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">scope</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.add_scope_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepends the scriptworker scope prefix from the <a class="reference internal" href="../taskcluster/taskgraph.html#taskgraph-graph-config"><span class="std std-ref">graph config</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>scope</strong> (<em>string</em>) – The suffix of the scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.generate_beetmover_artifact_map">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">generate_beetmover_artifact_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.generate_beetmover_artifact_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the beetmover artifact map.</p>
<p>Currently only applies to beetmover tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>config</em>) – Current taskgraph configuration.</p></li>
<li><p><strong>job</strong> (<em>dict</em>) – The current job being generated</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Common kwargs:</dt><dd><p>platform (str): The current build platform
locale (str): The current locale being beetmoved.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list of dictionaries containing source-&gt;destination</dt><dd><p>maps for beetmover.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.generate_beetmover_partials_artifact_map">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">generate_beetmover_partials_artifact_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">partials_info</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.generate_beetmover_partials_artifact_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the beetmover partials artifact map.</p>
<p>Currently only applies to beetmover tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>)</strong> (<em>config</em>) – Current taskgraph configuration.</p></li>
<li><p><strong>job</strong> (<em>dict</em>) – The current job being generated</p></li>
<li><p><strong>partials_info</strong> (<em>dict</em>) – Current partials and information about them in a dict</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Common kwargs:</dt><dd><p>platform (str): The current build platform
locale (str): The current locale being beetmoved.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list of dictionaries containing source-&gt;destination</dt><dd><p>maps for beetmover.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.generate_beetmover_upstream_artifacts">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">generate_beetmover_upstream_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">platform</span></em>, <em class="sig-param"><span class="n">locale</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dependencies</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.generate_beetmover_upstream_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the upstream artifacts for beetmover, using the artifact map.</p>
<p>Currently only applies to beetmover tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job</strong> (<em>dict</em>) – The current job being generated</p></li>
<li><p><strong>dependencies</strong> (<em>list</em>) – A list of the job’s dependency labels.</p></li>
<li><p><strong>platform</strong> (<em>str</em>) – The current build platform</p></li>
<li><p><strong>locale</strong> (<em>str</em>) – The current locale being beetmoved.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of dictionaries conforming to the upstream_artifacts spec.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_balrog_action_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_balrog_action_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">action</span><span class="o">=</span><span class="default_value">'submit'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_balrog_action_scope" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_balrog_server_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_balrog_server_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">alias_to_project_map</span><span class="o">=</span><span class="default_value">[['nightly', {'oak', 'comm-central', 'mozilla-central'}], ['beta', {'comm-beta', 'mozilla-beta'}], ['release', {'comm-esr78', 'mozilla-release'}], ['esr78', {'mozilla-esr78'}]]</span></em>, <em class="sig-param"><span class="n">alias_to_scope_map</span><span class="o">=</span><span class="default_value">{'aurora': 'balrog:server:aurora', 'beta': 'balrog:server:beta', 'default': 'balrog:server:dep', 'esr78': 'balrog:server:esr', 'nightly': 'balrog:server:nightly', 'release': 'balrog:server:release'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_balrog_server_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘project’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_project_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of projects that match.  This is ordered.</p></li>
<li><p><strong>alias_to_scope_map</strong> (<em>dict</em>) – the alias alias to scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_beetmover_action_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_beetmover_action_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">release_type_to_scope_map</span><span class="o">=</span><span class="default_value">{'default': 'beetmover:action:push-to-candidates', 'nightly': 'beetmover:action:push-to-nightly', 'nightly-oak': 'beetmover:action:push-to-nightly'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_beetmover_action_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘target_tasks_method’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>release_type_to_scope_map</strong> (<em>dict</em>) – the maps release types to scopes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_beetmover_bucket_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_beetmover_bucket_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">alias_to_project_map</span><span class="o">=</span><span class="default_value">[['all-nightly-branches', {'oak', 'comm-central', 'mozilla-central'}], ['all-release-branches', {'comm-esr78', 'comm-beta', 'mozilla-release', 'mozilla-beta', 'mozilla-esr78'}]]</span></em>, <em class="sig-param"><span class="n">alias_to_scope_map</span><span class="o">=</span><span class="default_value">{'all-nightly-branches': 'beetmover:bucket:nightly', 'all-release-branches': 'beetmover:bucket:release', 'default': 'beetmover:bucket:dep'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_beetmover_bucket_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘project’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_project_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of projects that match.  This is ordered.</p></li>
<li><p><strong>alias_to_scope_map</strong> (<em>dict</em>) – the alias alias to scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_devedition_signing_cert_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_devedition_signing_cert_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">alias_to_project_map</span><span class="o">=</span><span class="default_value">[['beta', {'mozilla-beta'}]]</span></em>, <em class="sig-param"><span class="n">alias_to_scope_map</span><span class="o">=</span><span class="default_value">{'beta': 'signing:cert:nightly-signing', 'default': 'signing:cert:dep-signing'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_devedition_signing_cert_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘project’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_project_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of projects that match.  This is ordered.</p></li>
<li><p><strong>alias_to_scope_map</strong> (<em>dict</em>) – the alias alias to scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_phase_from_target_method">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_phase_from_target_method</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">alias_to_tasks_map</span></em>, <em class="sig-param"><span class="n">alias_to_phase_map</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_phase_from_target_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the phase from <cite>config.params[‘target_tasks_method’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_tasks_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of target methods that match. This is ordered.</p></li>
<li><p><strong>alias_to_phase_map</strong> (<em>dict</em>) – the alias to phase map</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the phase to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_release_config">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_release_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_release_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the build number and version for a release task.</p>
<p>Currently only applies to beetmover tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>containing both <cite>build_number</cite> and <cite>version</cite>.  This can be used to</dt><dd><p>update <cite>task.payload</cite>.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_scope_from_project">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_scope_from_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">alias_to_project_map</span></em>, <em class="sig-param"><span class="n">alias_to_scope_map</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_scope_from_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘project’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_project_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of projects that match.  This is ordered.</p></li>
<li><p><strong>alias_to_scope_map</strong> (<em>dict</em>) – the alias alias to scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_scope_from_release_type">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_scope_from_release_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">release_type_to_scope_map</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_scope_from_release_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘target_tasks_method’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>release_type_to_scope_map</strong> (<em>dict</em>) – the maps release types to scopes</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_signing_cert_scope">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_signing_cert_scope</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">alias_to_project_map</span><span class="o">=</span><span class="default_value">[['all-nightly-branches', {'oak', 'comm-central', 'mozilla-central'}], ['all-release-branches', {'comm-esr78', 'comm-beta', 'mozilla-release', 'mozilla-beta', 'mozilla-esr78'}]]</span></em>, <em class="sig-param"><span class="n">alias_to_scope_map</span><span class="o">=</span><span class="default_value">{'all-nightly-branches': 'signing:cert:nightly-signing', 'all-release-branches': 'signing:cert:release-signing', 'default': 'signing:cert:dep-signing'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_signing_cert_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the restricted scope from <cite>config.params[‘project’]</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="taskgraph.transforms.html#taskgraph.transforms.base.TransformConfig" title="taskgraph.transforms.base.TransformConfig"><em>TransformConfig</em></a>) – The configuration for the kind being transformed.</p></li>
<li><p><strong>alias_to_project_map</strong> (<em>list of lists</em>) – each list pair contains the
alias and the set of projects that match.  This is ordered.</p></li>
<li><p><strong>alias_to_scope_map</strong> (<em>dict</em>) – the alias alias to scope</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the scope to use.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.get_signing_cert_scope_per_platform">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">get_signing_cert_scope_per_platform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">build_platform</span></em>, <em class="sig-param"><span class="n">is_shippable</span></em>, <em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.get_signing_cert_scope_per_platform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.scriptworker.with_scope_prefix">
<code class="sig-prename descclassname">taskgraph.util.scriptworker.</code><code class="sig-name descname">with_scope_prefix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.scriptworker.with_scope_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps a function, calling <a class="reference internal" href="#taskgraph.util.scriptworker.add_scope_prefix" title="taskgraph.util.scriptworker.add_scope_prefix"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_scope_prefix()</span></code></a> on the result of
calling the wrapped function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>callable</em>) – A function that takes a <code class="docutils literal notranslate"><span class="pre">config</span></code> and some keyword
arguments, and returns a scope suffix.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the wrapped function</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.signed_artifacts">
<span id="taskgraph-util-signed-artifacts-module"></span><h2>taskgraph.util.signed_artifacts module<a class="headerlink" href="#module-taskgraph.util.signed_artifacts" title="Permalink to this headline">¶</a></h2>
<p>Defines artifacts to sign before repackage.</p>
<dl class="py function">
<dt id="taskgraph.util.signed_artifacts.generate_specifications_of_artifacts_to_sign">
<code class="sig-prename descclassname">taskgraph.util.signed_artifacts.</code><code class="sig-name descname">generate_specifications_of_artifacts_to_sign</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">keep_locale_template</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dep_kind</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.signed_artifacts.generate_specifications_of_artifacts_to_sign" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.signed_artifacts.get_geckoview_artifacts_to_sign">
<code class="sig-prename descclassname">taskgraph.util.signed_artifacts.</code><code class="sig-name descname">get_geckoview_artifacts_to_sign</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">config</span></em>, <em class="sig-param"><span class="n">job</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.signed_artifacts.get_geckoview_artifacts_to_sign" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.signed_artifacts.get_signed_artifacts">
<code class="sig-prename descclassname">taskgraph.util.signed_artifacts.</code><code class="sig-name descname">get_signed_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em>, <em class="sig-param"><span class="n">formats</span></em>, <em class="sig-param"><span class="n">behavior</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.signed_artifacts.get_signed_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of signed artifacts for the given input and formats.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.signed_artifacts.is_notarization_kind">
<code class="sig-prename descclassname">taskgraph.util.signed_artifacts.</code><code class="sig-name descname">is_notarization_kind</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kind</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.signed_artifacts.is_notarization_kind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.signed_artifacts.is_partner_kind">
<code class="sig-prename descclassname">taskgraph.util.signed_artifacts.</code><code class="sig-name descname">is_partner_kind</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kind</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.signed_artifacts.is_partner_kind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.taskcluster">
<span id="taskgraph-util-taskcluster-module"></span><h2>taskgraph.util.taskcluster module<a class="headerlink" href="#module-taskgraph.util.taskcluster" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.taskcluster.cancel_task">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">cancel_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.cancel_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a task given a task_id. In testing mode, just logs that it would
have cancelled.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.find_task_id">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">find_task_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.find_task_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_artifact">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_artifact</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_artifact" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the artifact with the given path for the given task id.</p>
<p>If the path ends with “.json” or “.yml”, the content is deserialized as,
respectively, json or yaml, and the corresponding python data (usually
dict) is returned.
For other types of content, a file-like object is returned.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_artifact_from_index">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_artifact_from_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index_path</span></em>, <em class="sig-param"><span class="n">artifact_path</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_artifact_from_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_artifact_path">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_artifact_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_artifact_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_artifact_prefix">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_artifact_prefix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_artifact_prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_artifact_url">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_artifact_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_artifact_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_current_scopes">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_current_scopes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_current_scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current scopes.  This only makes sense in a task with the Taskcluster
proxy enabled, where it returns the actual scopes accorded to the task.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_index_url">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_index_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index_path</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multiple</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_index_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_purge_cache_url">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_purge_cache_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">provisioner_id</span></em>, <em class="sig-param"><span class="n">worker_type</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_purge_cache_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_root_url">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_root_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">use_proxy</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_root_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current TASKCLUSTER_ROOT_URL.  When running in a task, this must
come from $TASKCLUSTER_ROOT_URL; when run on the command line, we apply a
defualt that points to the production deployment of Taskcluster.  If use_proxy
is set, this attempts to get TASKCLUSTER_PROXY_URL instead, failing if it
is not set.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_session">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_task_definition">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_task_definition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_task_definition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.get_task_url">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">get_task_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.get_task_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.insert_index">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">insert_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index_path</span></em>, <em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.insert_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.list_artifacts">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">list_artifacts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.list_artifacts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.list_task_group_incomplete_task_ids">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">list_task_group_incomplete_task_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_group_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.list_task_group_incomplete_task_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.list_task_group_tasks">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">list_task_group_tasks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_group_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.list_task_group_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the tasks in a task group</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.list_tasks">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">list_tasks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index_path</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.list_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of task_ids where each task_id is indexed under a path
in the index. Results are sorted by expiration date from oldest to newest.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.parse_time">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">parse_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.parse_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a “JSON timestamp” as used in TC APIs into a datetime</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.purge_cache">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">purge_cache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">provisioner_id</span></em>, <em class="sig-param"><span class="n">worker_type</span></em>, <em class="sig-param"><span class="n">cache_name</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.purge_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests a cache purge from the purge-caches service.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.requests_retry_session">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">requests_retry_session</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">retries</span></em>, <em class="sig-param"><span class="n">backoff_factor</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">status_forcelist</span><span class="o">=</span><span class="default_value">500, 502, 504</span></em>, <em class="sig-param"><span class="n">concurrency</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">session</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.requests_retry_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.rerun_task">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">rerun_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.rerun_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Reruns a task given a task_id. In testing mode, just logs that it would
have reran.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.send_email">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">send_email</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">address</span></em>, <em class="sig-param"><span class="n">subject</span></em>, <em class="sig-param"><span class="n">content</span></em>, <em class="sig-param"><span class="n">link</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.send_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an email using the notify service</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.status_task">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">status_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task_id</span></em>, <em class="sig-param"><span class="n">use_proxy</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.status_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the status of a task given a task_id. In testing mode, just logs that it would
have retrieved status.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskcluster.trigger_hook">
<code class="sig-prename descclassname">taskgraph.util.taskcluster.</code><code class="sig-name descname">trigger_hook</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hook_group_id</span></em>, <em class="sig-param"><span class="n">hook_id</span></em>, <em class="sig-param"><span class="n">hook_payload</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskcluster.trigger_hook" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.taskgraph">
<span id="taskgraph-util-taskgraph-module"></span><h2>taskgraph.util.taskgraph module<a class="headerlink" href="#module-taskgraph.util.taskgraph" title="Permalink to this headline">¶</a></h2>
<p>Tools for interacting with existing taskgraphs.</p>
<dl class="py function">
<dt id="taskgraph.util.taskgraph.find_decision_task">
<code class="sig-prename descclassname">taskgraph.util.taskgraph.</code><code class="sig-name descname">find_decision_task</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parameters</span></em>, <em class="sig-param"><span class="n">graph_config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskgraph.find_decision_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the parameters for this action, find the taskId of the decision
task</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskgraph.find_existing_tasks">
<code class="sig-prename descclassname">taskgraph.util.taskgraph.</code><code class="sig-name descname">find_existing_tasks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">previous_graph_ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskgraph.find_existing_tasks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.taskgraph.find_existing_tasks_from_previous_kinds">
<code class="sig-prename descclassname">taskgraph.util.taskgraph.</code><code class="sig-name descname">find_existing_tasks_from_previous_kinds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">full_task_graph</span></em>, <em class="sig-param"><span class="n">previous_graph_ids</span></em>, <em class="sig-param"><span class="n">rebuild_kinds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.taskgraph.find_existing_tasks_from_previous_kinds" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of previous decision/action taskIds and kinds to ignore
from the previous graphs, return a dictionary of labels-to-taskids to use
as <code class="docutils literal notranslate"><span class="pre">existing_tasks</span></code> in the optimization step.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.templates">
<span id="taskgraph-util-templates-module"></span><h2>taskgraph.util.templates module<a class="headerlink" href="#module-taskgraph.util.templates" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.templates.merge">
<code class="sig-prename descclassname">taskgraph.util.templates.</code><code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">objects</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.templates.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge the given objects, using the semantics described for merge_to, with
objects later in the list taking precedence.  From an inheritance
perspective, “parents” should be listed before “children”.</p>
<p>Returns the result without modifying any arguments.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.templates.merge_to">
<code class="sig-prename descclassname">taskgraph.util.templates.</code><code class="sig-name descname">merge_to</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span></em>, <em class="sig-param"><span class="n">dest</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.templates.merge_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge dict and arrays (override scalar values)</p>
<p>Keys from source override keys from dest, and elements from lists in source
are appended to lists in dest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>dict</em>) – to copy from</p></li>
<li><p><strong>dest</strong> (<em>dict</em>) – to copy to (modified in place)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.time">
<span id="taskgraph-util-time-module"></span><h2>taskgraph.util.time module<a class="headerlink" href="#module-taskgraph.util.time" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt id="taskgraph.util.time.InvalidString">
<em class="property">exception </em><code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">InvalidString</code><a class="headerlink" href="#taskgraph.util.time.InvalidString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="taskgraph.util.time.UnknownTimeMeasurement">
<em class="property">exception </em><code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">UnknownTimeMeasurement</code><a class="headerlink" href="#taskgraph.util.time.UnknownTimeMeasurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.current_json_time">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">current_json_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datetime_format</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.current_json_time" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>datetime_format</strong> (<em>boolean</em>) – Set <cite>True</cite> to get a <cite>datetime</cite> output</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON string representation of the current time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.days">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">days</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.hours">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">hours</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.hours" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.json_time_from_now">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">json_time_from_now</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_str</span></em>, <em class="sig-param"><span class="n">now</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datetime_format</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.json_time_from_now" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_str</strong> (<em>str</em>) – Input string (see value of)</p></li>
<li><p><strong>now</strong> (<em>datetime</em>) – Optionally set the definition of <cite>now</cite></p></li>
<li><p><strong>datetime_format</strong> (<em>boolean</em>) – Set <cite>True</cite> to get a <cite>datetime</cite> output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON string representation of time in future.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.minutes">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">minutes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.minutes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.months">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">months</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.months" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.seconds">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">seconds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.seconds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.value_of">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">value_of</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.value_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string to a json date in the future
:param str input_str: (ex: 1d, 2d, 6years, 2 seconds)
:returns: Unit given in seconds</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.time.years">
<code class="sig-prename descclassname">taskgraph.util.time.</code><code class="sig-name descname">years</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.time.years" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-taskgraph.util.treeherder">
<span id="taskgraph-util-treeherder-module"></span><h2>taskgraph.util.treeherder module<a class="headerlink" href="#module-taskgraph.util.treeherder" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.treeherder.add_suffix">
<code class="sig-prename descclassname">taskgraph.util.treeherder.</code><code class="sig-name descname">add_suffix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">treeherder_symbol</span></em>, <em class="sig-param"><span class="n">suffix</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.treeherder.add_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a suffix to a treeherder symbol that may contain a group.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.treeherder.inherit_treeherder_from_dep">
<code class="sig-prename descclassname">taskgraph.util.treeherder.</code><code class="sig-name descname">inherit_treeherder_from_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">job</span></em>, <em class="sig-param"><span class="n">dep_job</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.treeherder.inherit_treeherder_from_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit treeherder defaults from dep_job</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.treeherder.join_symbol">
<code class="sig-prename descclassname">taskgraph.util.treeherder.</code><code class="sig-name descname">join_symbol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">symbol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.treeherder.join_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the reverse of split_symbol, combining the given group and
symbol.  If the group is ‘?’, then it is omitted.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.treeherder.replace_group">
<code class="sig-prename descclassname">taskgraph.util.treeherder.</code><code class="sig-name descname">replace_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">treeherder_symbol</span></em>, <em class="sig-param"><span class="n">new_group</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.treeherder.replace_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a suffix to a treeherder symbol that may contain a group.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.treeherder.split_symbol">
<code class="sig-prename descclassname">taskgraph.util.treeherder.</code><code class="sig-name descname">split_symbol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">treeherder_symbol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.treeherder.split_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a symbol expressed as grp(sym) into its two parts.  If no group is
given, the returned group is ‘?’</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.verify">
<span id="taskgraph-util-verify-module"></span><h2>taskgraph.util.verify module<a class="headerlink" href="#module-taskgraph.util.verify" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="taskgraph.util.verify.DocPaths">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">DocPaths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paths</span><span class="o">=</span><span class="default_value">NOTHING</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.DocPaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="taskgraph.util.verify.DocPaths.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.DocPaths.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Projects that make use of Firefox’s taskgraph can extend it with
their own task kinds by registering additional paths for documentation.
documentation_paths.add() needs to be called by the project’s Taskgraph
registration function. See taskgraph.config.</p>
</dd></dl>

<dl class="py method">
<dt id="taskgraph.util.verify.DocPaths.get_files">
<code class="sig-name descname">get_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.DocPaths.get_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.verify.Verification">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">Verification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verify</span></em>, <em class="sig-param"><span class="n">run_on_projects</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.Verification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt id="taskgraph.util.verify.VerificationSequence">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">VerificationSequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">verifications</span><span class="o">=</span><span class="default_value">NOTHING</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.VerificationSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container for a sequence of verifications over a TaskGraph. Each
verification is represented as a callable taking (task, taskgraph,
scratch_pad), called for each task in the taskgraph, and one more
time with no task but with the taskgraph and the same scratch_pad
that was passed for each task.</p>
<dl class="py method">
<dt id="taskgraph.util.verify.VerificationSequence.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph_name</span></em>, <em class="sig-param"><span class="n">run_on_projects</span><span class="o">=</span><span class="default_value">{'all'}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.VerificationSequence.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_always_optimized">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_always_optimized</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_always_optimized" title="Permalink to this definition">¶</a></dt>
<dd><p>This function ensures that always-optimized tasks have been optimized.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_dependency_tiers">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_dependency_tiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_dependency_tiers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_docs">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_docs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">identifiers</span></em>, <em class="sig-param"><span class="n">appearing_as</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for identifiers of the type appearing_as in the files
returned by documentation_paths.get_files(). Firefox will have
a single file in a list, but projects such as Thunderbird can have
documentation in another location and may return multiple files.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_local_toolchains">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_local_toolchains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_local_toolchains" title="Permalink to this definition">¶</a></dt>
<dd><p>Toolchains that are used for local development need to be built on a
level-3 branch to installable via <cite>mach bootstrap</cite>. We ensure here that all
such tasks run on at least trunk projects, even if they aren’t pulled in as
a dependency of other tasks in the graph.</p>
<p>There is code in <cite>mach artifact toolchain</cite> that verifies that anything
installed via <cite>mach bootstrap</cite> has the attribute set.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_required_signoffs">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_required_signoffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_required_signoffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Task with required signoffs can’t be dependencies of tasks with less
required signoffs.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_routes_notification_filters">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_routes_notification_filters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_routes_notification_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>This function ensures that only understood filters for notifications are
specified.</p>
<p>See: <a class="reference external" href="https://firefox-ci-tc.services.mozilla.com/docs/manual/using/task-notifications">https://firefox-ci-tc.services.mozilla.com/docs/manual/using/task-notifications</a></p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_run_known_projects">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_run_known_projects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_run_known_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the inputs in run-on-projects.</p>
<p>We should never let ‘try’ (or ‘try-comm-central’) be in run-on-projects even though it
is valid because it is not considered for try pushes.  While here we also validate for
other unknown projects or typos.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_shippable_no_sccache">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_shippable_no_sccache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_shippable_no_sccache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_task_graph_symbol">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_task_graph_symbol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_task_graph_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies that tuple
(collection.keys(), machine.platform, groupSymbol, symbol) is unique
for a target task graph.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_test_packaging">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_test_packaging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_test_packaging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_toolchain_alias">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_toolchain_alias</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_toolchain_alias" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies that toolchain aliases are not reused.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.verify.verify_trust_domain_v2_routes">
<code class="sig-prename descclassname">taskgraph.util.verify.</code><code class="sig-name descname">verify_trust_domain_v2_routes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">taskgraph</span></em>, <em class="sig-param"><span class="n">scratch_pad</span></em>, <em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">parameters</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.verify.verify_trust_domain_v2_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>This function ensures that any two tasks have distinct <code class="docutils literal notranslate"><span class="pre">index.{trust-domain}.v2</span></code> routes.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.workertypes">
<span id="taskgraph-util-workertypes-module"></span><h2>taskgraph.util.workertypes module<a class="headerlink" href="#module-taskgraph.util.workertypes" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="taskgraph.util.workertypes.get_worker_type">
<code class="sig-prename descclassname">taskgraph.util.workertypes.</code><code class="sig-name descname">get_worker_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">worker_type</span></em>, <em class="sig-param"><span class="n">level</span></em>, <em class="sig-param"><span class="n">release_level</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.workertypes.get_worker_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker type provisioner and worker-type, optionally evaluating
aliases from the graph config.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.workertypes.worker_type_implementation">
<code class="sig-prename descclassname">taskgraph.util.workertypes.</code><code class="sig-name descname">worker_type_implementation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">graph_config</span></em>, <em class="sig-param"><span class="n">worker_type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.workertypes.worker_type_implementation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the worker implementation and OS for the given workerType, where the
OS represents the host system, not the target OS, in the case of
cross-compiles.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util.yaml">
<span id="taskgraph-util-yaml-module"></span><h2>taskgraph.util.yaml module<a class="headerlink" href="#module-taskgraph.util.yaml" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="taskgraph.util.yaml.UnicodeLoader">
<em class="property">class </em><code class="sig-prename descclassname">taskgraph.util.yaml.</code><code class="sig-name descname">UnicodeLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stream</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.yaml.UnicodeLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">yaml.loader.SafeLoader</span></code></p>
<dl class="py method">
<dt id="taskgraph.util.yaml.UnicodeLoader.construct_yaml_str">
<code class="sig-name descname">construct_yaml_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.yaml.UnicodeLoader.construct_yaml_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="taskgraph.util.yaml.UnicodeLoader.yaml_constructors">
<code class="sig-name descname">yaml_constructors</code><em class="property"> = {'tag:yaml.org,2002:null': &lt;function SafeConstructor.construct_yaml_null&gt;, 'tag:yaml.org,2002:bool': &lt;function SafeConstructor.construct_yaml_bool&gt;, 'tag:yaml.org,2002:int': &lt;function SafeConstructor.construct_yaml_int&gt;, 'tag:yaml.org,2002:float': &lt;function SafeConstructor.construct_yaml_float&gt;, 'tag:yaml.org,2002:binary': &lt;function SafeConstructor.construct_yaml_binary&gt;, 'tag:yaml.org,2002:timestamp': &lt;function SafeConstructor.construct_yaml_timestamp&gt;, 'tag:yaml.org,2002:omap': &lt;function SafeConstructor.construct_yaml_omap&gt;, 'tag:yaml.org,2002:pairs': &lt;function SafeConstructor.construct_yaml_pairs&gt;, 'tag:yaml.org,2002:set': &lt;function SafeConstructor.construct_yaml_set&gt;, 'tag:yaml.org,2002:str': &lt;function UnicodeLoader.construct_yaml_str&gt;, 'tag:yaml.org,2002:seq': &lt;function SafeConstructor.construct_yaml_seq&gt;, 'tag:yaml.org,2002:map': &lt;function SafeConstructor.construct_yaml_map&gt;, None: &lt;function SafeConstructor.construct_undefined&gt;}</em><a class="headerlink" href="#taskgraph.util.yaml.UnicodeLoader.yaml_constructors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.yaml.load_stream">
<code class="sig-prename descclassname">taskgraph.util.yaml.</code><code class="sig-name descname">load_stream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stream</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.yaml.load_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the first YAML document in a stream
and produce the corresponding Python object.</p>
</dd></dl>

<dl class="py function">
<dt id="taskgraph.util.yaml.load_yaml">
<code class="sig-prename descclassname">taskgraph.util.yaml.</code><code class="sig-name descname">load_yaml</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">parts</span></em><span class="sig-paren">)</span><a class="headerlink" href="#taskgraph.util.yaml.load_yaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to load a YAML file in the given path.  This is
useful for loading kind configuration files from the kind path.</p>
</dd></dl>

</div>
<div class="section" id="module-taskgraph.util">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-taskgraph.util" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>