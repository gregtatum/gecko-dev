

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Build Telemetry &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Distributed sccache (sccache-dist)" href="sccache-dist.html" />
    <link rel="prev" title="GN support in the build system" href="gn.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Build System</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#important-concepts">Important Concepts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="glossary.html">Build Glossary</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-overview.html">Build System Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="supported-configurations.html">Supported build targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="mozconfigs.html">Mozconfig Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="mozbuild-files.html">moz.build Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="mozbuild-symbols.html">mozbuild Sandbox Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="files-metadata.html">Files Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="pgo.html">Profile Guided Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="slow.html">Why the Build System is Slow</a></li>
<li class="toctree-l3"><a class="reference internal" href="environment-variables.html">Environment Variables Impacting the Build System</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-targets.html">Build Targets</a></li>
<li class="toctree-l3"><a class="reference internal" href="python.html">Python and the Build System</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_manifests.html">Test Manifests</a></li>
<li class="toctree-l3"><a class="reference internal" href="mozinfo.html">mozinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="preprocessor.html">Text Preprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="jar-manifests.html">JAR Manifests</a></li>
<li class="toctree-l3"><a class="reference internal" href="defining-binaries.html">Defining Binaries for the Build System</a></li>
<li class="toctree-l3"><a class="reference internal" href="defining-xpcom-components.html">Defining XPCOM C++-implemented Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="toolchains.html">Creating Toolchain Archives</a></li>
<li class="toctree-l3"><a class="reference internal" href="locales.html">Localized Builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="rust.html">Including Rust Code in Firefox</a></li>
<li class="toctree-l3"><a class="reference internal" href="sparse.html">Sparse Checkouts</a></li>
<li class="toctree-l3"><a class="reference internal" href="gn.html">Support for projects building with GN</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Build Telemetry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#telemetry">Telemetry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#glean-telemetry">Glean Telemetry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-reporting">Error Reporting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sccache-dist.html">Distributed sccache (sccache-dist)</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_certificates.html">Adding Certificates for Testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#integrated-development-environment-ide">integrated development environment (IDE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#mozbuild">mozbuild</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web-platform/index.html">web-platform-tests documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Build System</a> &raquo;</li>
        
      <li>Build Telemetry</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/build/buildsystem/telemetry.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-telemetry">
<span id="buildtelemetry"></span><h1>Build Telemetry<a class="headerlink" href="#build-telemetry" title="Permalink to this headline">¶</a></h1>
<p>The build system (specifically, all the build tooling hooked
up to <code class="docutils literal notranslate"><span class="pre">./mach</span></code>) has been configured to collect metrics data
points and errors for various build system actions. This data
helps drive team planning for the build team and ensure that
resources are applied to build processes that need them most.
You can opt-in to send telemetry to Mozilla during
<code class="docutils literal notranslate"><span class="pre">./mach</span> <span class="pre">bootstrap</span></code> or by editing your <code class="docutils literal notranslate"><span class="pre">.mozbuild/machrc</span></code>
file.</p>
<div class="section" id="telemetry">
<h2>Telemetry<a class="headerlink" href="#telemetry" title="Permalink to this headline">¶</a></h2>
<p>The build telemetry schema can be found in-tree under
<code class="docutils literal notranslate"><span class="pre">python/mozbuild/mozbuild/telemetry.py</span></code> in Voluptuous schema
format. You can use the <code class="docutils literal notranslate"><span class="pre">export_telemetry_schema.py</span></code> script in
that same directory to get the schema in JSON-schema format.
Details of the schema are specified below:</p>
<dl class="field-list simple" id="telemetry-json">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
</dd>
<dt class="field-even">Required</dt>
<dd class="field-even"><p><a class="reference internal" href="#telemetry-json-properties-argv"><span class="std std-ref">argv</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts"><span class="std std-ref">build_opts</span></a>, <a class="reference internal" href="#telemetry-json-properties-client-id"><span class="std std-ref">client_id</span></a>, <a class="reference internal" href="#telemetry-json-properties-command"><span class="std std-ref">command</span></a>, <a class="reference internal" href="#telemetry-json-properties-duration-ms"><span class="std std-ref">duration_ms</span></a>, <a class="reference internal" href="#telemetry-json-properties-success"><span class="std std-ref">success</span></a>, <a class="reference internal" href="#telemetry-json-properties-system"><span class="std std-ref">system</span></a>, <a class="reference internal" href="#telemetry-json-properties-time"><span class="std std-ref">time</span></a></p>
</dd>
</dl>
<p><strong>Properties:</strong> <a class="reference internal" href="#telemetry-json-properties-argv"><span class="std std-ref">argv</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts"><span class="std std-ref">build_opts</span></a>, <a class="reference internal" href="#telemetry-json-properties-client-id"><span class="std std-ref">client_id</span></a>, <a class="reference internal" href="#telemetry-json-properties-command"><span class="std std-ref">command</span></a>, <a class="reference internal" href="#telemetry-json-properties-duration-ms"><span class="std std-ref">duration_ms</span></a>, <a class="reference internal" href="#telemetry-json-properties-exception"><span class="std std-ref">exception</span></a>, <a class="reference internal" href="#telemetry-json-properties-file-types-changed"><span class="std std-ref">file_types_changed</span></a>, <a class="reference internal" href="#telemetry-json-properties-success"><span class="std std-ref">success</span></a>, <a class="reference internal" href="#telemetry-json-properties-system"><span class="std std-ref">system</span></a>, <a class="reference internal" href="#telemetry-json-properties-time"><span class="std std-ref">time</span></a></p>
<div class="section" id="argv">
<span id="telemetry-json-properties-argv"></span><h3>argv<a class="headerlink" href="#argv" title="Permalink to this headline">¶</a></h3>
<p>Full mach commandline. If the commandline contains absolute paths they will be sanitized.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p>
</dd>
</dl>
<div class="sub-title docutils container">
<p>Every element of <strong>argv</strong>  is:</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="build-opts">
<span id="telemetry-json-properties-build-opts"></span><h3>build_opts<a class="headerlink" href="#build-opts" title="Permalink to this headline">¶</a></h3>
<p>Selected build options</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
</dd>
</dl>
<p><strong>Properties:</strong> <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-artifact"><span class="std std-ref">artifact</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-ccache"><span class="std std-ref">ccache</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-compiler"><span class="std std-ref">compiler</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-debug"><span class="std std-ref">debug</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-icecream"><span class="std std-ref">icecream</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-opt"><span class="std std-ref">opt</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-opts-properties-sccache"><span class="std std-ref">sccache</span></a></p>
<div class="section" id="artifact">
<span id="telemetry-json-properties-build-opts-properties-artifact"></span><h4>artifact<a class="headerlink" href="#artifact" title="Permalink to this headline">¶</a></h4>
<p>true if –enable-artifact-builds</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="ccache">
<span id="telemetry-json-properties-build-opts-properties-ccache"></span><h4>ccache<a class="headerlink" href="#ccache" title="Permalink to this headline">¶</a></h4>
<p>true if ccache is in use (–with-ccache)</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="compiler">
<span id="telemetry-json-properties-build-opts-properties-compiler"></span><h4>compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h4>
<p>The compiler type in use (CC_TYPE)</p>
<p><strong>Allowed values:</strong></p>
<ul class="simple">
<li><p>clang</p></li>
<li><p>clang-cl</p></li>
<li><p>gcc</p></li>
<li><p>msvc</p></li>
</ul>
</div>
<div class="section" id="debug">
<span id="telemetry-json-properties-build-opts-properties-debug"></span><h4>debug<a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h4>
<p>true if build is debug (–enable-debug)</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="icecream">
<span id="telemetry-json-properties-build-opts-properties-icecream"></span><h4>icecream<a class="headerlink" href="#icecream" title="Permalink to this headline">¶</a></h4>
<p>true if icecream in use</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="opt">
<span id="telemetry-json-properties-build-opts-properties-opt"></span><h4>opt<a class="headerlink" href="#opt" title="Permalink to this headline">¶</a></h4>
<p>true if build is optimized (–enable-optimize)</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="sccache">
<span id="telemetry-json-properties-build-opts-properties-sccache"></span><h4>sccache<a class="headerlink" href="#sccache" title="Permalink to this headline">¶</a></h4>
<p>true if ccache in use is sccache</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
</div>
<div class="section" id="build-attrs">
<span id="telemetry-json-properties-build-attrs"></span><h3>build_attrs<a class="headerlink" href="#build-attrs" title="Permalink to this headline">¶</a></h3>
<p>Selected runtime attributes of the build</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
</dd>
</dl>
<p><strong>Properties:</strong> <a class="reference internal" href="#telemetry-json-properties-build-attrs-properties-cpu-percent"><span class="std std-ref">cpu_percent</span></a>, <a class="reference internal" href="#telemetry-json-properties-build-attrs-properties-clobber"><span class="std std-ref">clobber</span></a></p>
<div class="section" id="cpu-percent">
<span id="telemetry-json-properties-build-attrs-properties-cpu-percent"></span><h4>cpu_percent<a class="headerlink" href="#cpu-percent" title="Permalink to this headline">¶</a></h4>
<p>cpu utilization observed during the build</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="clobber">
<span id="telemetry-json-properties-build-attrs-properties-clobber"></span><h4>clobber<a class="headerlink" href="#clobber" title="Permalink to this headline">¶</a></h4>
<p>true if the build was a clobber/full build</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
</div>
<div class="section" id="client-id">
<span id="telemetry-json-properties-client-id"></span><h3>client_id<a class="headerlink" href="#client-id" title="Permalink to this headline">¶</a></h3>
<p>A UUID to uniquely identify a client</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="command">
<span id="telemetry-json-properties-command"></span><h3>command<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h3>
<p>The mach command that was invoked</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="duration-ms">
<span id="telemetry-json-properties-duration-ms"></span><h3>duration_ms<a class="headerlink" href="#duration-ms" title="Permalink to this headline">¶</a></h3>
<p>Command duration in milliseconds</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="exception">
<span id="telemetry-json-properties-exception"></span><h3>exception<a class="headerlink" href="#exception" title="Permalink to this headline">¶</a></h3>
<p>If a Python exception was encountered during the execution of the command, this value contains the result of calling <cite>repr</cite> on the exception object.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="file-types-changed">
<span id="telemetry-json-properties-file-types-changed"></span><h3>file_types_changed<a class="headerlink" href="#file-types-changed" title="Permalink to this headline">¶</a></h3>
<p>This array contains a list of objects with {ext, count} properties giving the count of files changed since the last invocation grouped by file type</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">array</span></code></p>
</dd>
</dl>
<div class="sub-title docutils container">
<p>Every element of <strong>file_types_changed</strong>  is:</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
</dd>
<dt class="field-even">Required</dt>
<dd class="field-even"><p><a class="reference internal" href="#telemetry-json-properties-file-types-changed-items-properties-count"><span class="std std-ref">count</span></a>, <a class="reference internal" href="#telemetry-json-properties-file-types-changed-items-properties-ext"><span class="std std-ref">ext</span></a></p>
</dd>
</dl>
<p><strong>Properties:</strong> <a class="reference internal" href="#telemetry-json-properties-file-types-changed-items-properties-count"><span class="std std-ref">count</span></a>, <a class="reference internal" href="#telemetry-json-properties-file-types-changed-items-properties-ext"><span class="std std-ref">ext</span></a></p>
<div class="section" id="count">
<span id="telemetry-json-properties-file-types-changed-items-properties-count"></span><h4>count<a class="headerlink" href="#count" title="Permalink to this headline">¶</a></h4>
<p>Count of changed files with this extension</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="ext">
<span id="telemetry-json-properties-file-types-changed-items-properties-ext"></span><h4>ext<a class="headerlink" href="#ext" title="Permalink to this headline">¶</a></h4>
<p>File extension</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
</div>
<div class="section" id="success">
<span id="telemetry-json-properties-success"></span><h3>success<a class="headerlink" href="#success" title="Permalink to this headline">¶</a></h3>
<p>true if the command succeeded</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="system">
<span id="telemetry-json-properties-system"></span><h3>system<a class="headerlink" href="#system" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
</dd>
<dt class="field-even">Required</dt>
<dd class="field-even"><p><a class="reference internal" href="#telemetry-json-properties-system-properties-os"><span class="std std-ref">os</span></a></p>
</dd>
</dl>
<p><strong>Properties:</strong> <a class="reference internal" href="#telemetry-json-properties-system-properties-cpu-brand"><span class="std std-ref">cpu_brand</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-drive-is-ssd"><span class="std std-ref">drive_is_ssd</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-logical-cores"><span class="std std-ref">logical_cores</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-memory-gb"><span class="std std-ref">memory_gb</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-os"><span class="std std-ref">os</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-physical-cores"><span class="std std-ref">physical_cores</span></a>, <a class="reference internal" href="#telemetry-json-properties-system-properties-virtual-machine"><span class="std std-ref">virtual_machine</span></a></p>
<div class="section" id="cpu-brand">
<span id="telemetry-json-properties-system-properties-cpu-brand"></span><h4>cpu_brand<a class="headerlink" href="#cpu-brand" title="Permalink to this headline">¶</a></h4>
<p>CPU brand string from CPUID</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="drive-is-ssd">
<span id="telemetry-json-properties-system-properties-drive-is-ssd"></span><h4>drive_is_ssd<a class="headerlink" href="#drive-is-ssd" title="Permalink to this headline">¶</a></h4>
<p>true if the source directory is on a solid-state disk</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="logical-cores">
<span id="telemetry-json-properties-system-properties-logical-cores"></span><h4>logical_cores<a class="headerlink" href="#logical-cores" title="Permalink to this headline">¶</a></h4>
<p>Number of logical CPU cores present</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="memory-gb">
<span id="telemetry-json-properties-system-properties-memory-gb"></span><h4>memory_gb<a class="headerlink" href="#memory-gb" title="Permalink to this headline">¶</a></h4>
<p>System memory in GB</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="os">
<span id="telemetry-json-properties-system-properties-os"></span><h4>os<a class="headerlink" href="#os" title="Permalink to this headline">¶</a></h4>
<p>Operating system</p>
<p><strong>Allowed values:</strong></p>
<ul class="simple">
<li><p>windows</p></li>
<li><p>macos</p></li>
<li><p>linux</p></li>
<li><p>other</p></li>
</ul>
</div>
<div class="section" id="physical-cores">
<span id="telemetry-json-properties-system-properties-physical-cores"></span><h4>physical_cores<a class="headerlink" href="#physical-cores" title="Permalink to this headline">¶</a></h4>
<p>Number of physical CPU cores present</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="virtual-machine">
<span id="telemetry-json-properties-system-properties-virtual-machine"></span><h4>virtual_machine<a class="headerlink" href="#virtual-machine" title="Permalink to this headline">¶</a></h4>
<p>true if the OS appears to be running in a virtual machine</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p>
</dd>
</dl>
</div>
</div>
<div class="section" id="time">
<span id="telemetry-json-properties-time"></span><h3>time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h3>
<p>Time at which this event happened</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p>
</dd>
<dt class="field-even">format</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">date-time</span></code></p>
</dd>
</dl>
</div>
</div>
<div class="section" id="glean-telemetry">
<h2>Glean Telemetry<a class="headerlink" href="#glean-telemetry" title="Permalink to this headline">¶</a></h2>
<p>In addition to the existing build-specific telemetry, Mozbuild is also reporting data using
<a class="reference external" href="https://mozilla.github.io/glean/">Glean</a> via <a class="reference internal" href="../../mach/telemetry.html#mach-telemetry"><span class="std std-ref">Mach Telemetry</span></a>.
The metrics collected are documented <a class="reference internal" href="../../metrics/index.html#metrics"><span class="std std-ref">here</span></a>.
As Python 2 is phased out, the old telemetry will be replaced by the new Glean implementation.</p>
</div>
<div class="section" id="error-reporting">
<h2>Error Reporting<a class="headerlink" href="#error-reporting" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">./mach</span></code> uses <a class="reference external" href="https://sentry.io/welcome/">Sentry</a>
to automatically report errors to <a class="reference external" href="https://sentry.prod.mozaws.net/operations/mach/">our issue-tracking dashboard</a>.</p>
<div class="section" id="information-captured">
<h3>Information captured<a class="headerlink" href="#information-captured" title="Permalink to this headline">¶</a></h3>
<p>Sentry automatically collects useful information surrounding
the error to help the build team discover what caused the
issue and how to reproduce it. This information includes:</p>
<ul>
<li><p>Environmental information, such as the computer name, timestamp, Python runtime and Python module versions</p></li>
<li><p>Process arguments</p></li>
<li><p>The stack trace of the error, including contextual information:</p>
<blockquote>
<div><ul class="simple">
<li><p>The data contained in the exception</p></li>
<li><p>Functions and their respective source file names, line numbers</p></li>
<li><p>Variables in each frame</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://docs.sentry.io/platforms/python/default-integrations/">Sentry “Breadcrumbs”</a>,
which are important events that have happened which help contextualize the error, such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>An HTTP request has occurred</p></li>
<li><p>A subprocess has been spawned</p></li>
<li><p>Logging has occurred</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Note that file paths may be captured, which include absolute paths (potentially including usernames).</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sccache-dist.html" class="btn btn-neutral float-right" title="Distributed sccache (sccache-dist)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gn.html" class="btn btn-neutral float-left" title="GN support in the build system" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>