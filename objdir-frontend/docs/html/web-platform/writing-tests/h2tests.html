

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Writing H2 Tests &mdash; Firefox Source Docs  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/firefox.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Command-line utility scripts" href="tools.html" />
    <link rel="prev" title="CSS User Stylesheets" href="css-user-styles.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Firefox Source Docs
          

          
            
            <img src="../../_static/firefox-wordmark.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">Getting Set Up To Work On The Firefox Codebase</a></li>
</ul>
<p class="caption"><span class="caption-text">Working On Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Working on Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bug-mgmt/index.html">Bug Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Source Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../browser/index.html">Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/index.html">DOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layout/index.html">Layout &amp; CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gfx/index.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Firefox DevTools Contributor Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../toolkit/index.html">Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../js/index.html">SpiderMonkey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mobile/android/geckoview/index.html">Welcome to GeckoView’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dom/bindings/webidl/index.html">WebIDL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/libpref/index.html">libpref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../remote/index.html">Remote Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/common/services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../uriloader/index.html">File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widget/cocoa/index.html">Firefox on macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code-quality/index.html">Code quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../writing-rust-code/index.html">Writing Rust Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler/index.html">Gecko Profiler</a></li>
</ul>
<p class="caption"><span class="caption-text">The Firefox Build System</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mach/index.html">Mach</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/try/index.html">Try Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build/buildsystem/index.html">Build System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../taskcluster/index.html">TaskCluster Task-Graph Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/moztreedocs/index.html">Managing Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Testing &amp; Test Infrastructure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../testing/testing-policy/index.html">Testing Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/marionette/index.html">Marionette</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/geckodriver/index.html">geckodriver</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">web-platform-tests documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#video-introduction-transcript">Video Introduction (transcript)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#github">GitHub</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#table-of-contents">Table of Contents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../test-suite-design.html">Test Suite Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro-video-transcript.html">“Introduction to WPT” video transcript</a></li>
<li class="toctree-l3"><a class="reference internal" href="../running-tests/index.html">Running Tests</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Writing Tests</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#test-types">Test Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#submitting-tests">Submitting Tests</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#table-of-contents">Table of Contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reviewing-tests/index.html">Reviewing Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin/index.html">Project Administration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/fuzzing/index.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sanitizer/index.html">Sanitizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing/perfdocs/index.html">Performance Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/code-coverage/index.html">Code coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testing-rust-code/index.html">Testing &amp; Debugging Rust Code</a></li>
</ul>
<p class="caption"><span class="caption-text">Localization &amp; Internationalization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intl/index.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../l10n/index.html">Localization</a></li>
</ul>
<p class="caption"><span class="caption-text">Firefox and Python</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mozbase/index.html">mozbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Using third-party Python packages</a></li>
</ul>
<p class="caption"><span class="caption-text">Metrics Collected in Firefox</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metrics/index.html#pings">Pings</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Firefox Source Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">web-platform-tests documentation</a> &raquo;</li>
        
          <li><a href="index.html">Writing Tests</a> &raquo;</li>
        
      <li>Writing H2 Tests</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/web-platform/writing-tests/h2tests.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="writing-h2-tests">
<h1>Writing H2 Tests<a class="headerlink" href="#writing-h2-tests" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p><b>Important:</b> The HTTP/2.0 server requires you to have Python 2.7.10+
and OpenSSL 1.0.2+. This is because HTTP/2.0 is negotiated using the
<a class="reference external" href="https://tools.ietf.org/html/rfc7301">TLS ALPN</a> extension, which is only supported in <a class="reference external" href="https://www.openssl.org/news/openssl-1.0.2-notes.html">OpenSSL 1.0.2</a> and up.</p>
</div></blockquote>
<p>These instructions assume you are already familiar with the testing
infrastructure and know how to write a standard HTTP/1.1 test.</p>
<p>On top of the standard <code class="docutils literal notranslate"><span class="pre">main</span></code> handler that the H1 server offers, the
H2 server also offers support for specific frame handlers in the Python
scripts. Currently there is support for for <code class="docutils literal notranslate"><span class="pre">handle_headers</span></code> and <code class="docutils literal notranslate"><span class="pre">handle_data</span></code>.
Unlike the <code class="docutils literal notranslate"><span class="pre">main</span></code> handler, these  are run whenever the server receives a
HEADERS frame (RequestReceived event) or a DATA frame (DataReceived event).
<code class="docutils literal notranslate"><span class="pre">main</span></code> can still be used, but it will be run after the server has received
the request in its entirety.</p>
<p>Here is what a Python script for a test might look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">handle_headers</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;pass&quot;</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">([(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;passed&#39;</span><span class="p">)])</span>
        <span class="n">response</span><span class="o">.</span><span class="n">write_status_headers</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">response</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="mi">403</span>
        <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">([(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;failed&#39;</span><span class="p">)])</span>
        <span class="n">response</span><span class="o">.</span><span class="n">write_status_headers</span><span class="p">()</span>
        <span class="n">response</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">end_stream</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">handle_data</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="n">response</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">write_data</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="n">response</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">write_data</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">End of File&#39;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The above script is fairly simple:</p>
<ol class="simple">
<li><p>Upon receiving the HEADERS frame, <code class="docutils literal notranslate"><span class="pre">handle_headers</span></code> is run.</p>
<ul class="simple">
<li><p>This checks for a header called ‘test’ and checks if it is set to ‘pass’.
If true, it will immediately send a response header, otherwise it responds
with a 403 and ends the stream.</p></li>
</ul>
</li>
<li><p>Any DATA frames received will then be handled by <code class="docutils literal notranslate"><span class="pre">handle_data</span></code>. This will
simply reverse the data and send it back.</p></li>
<li><p>Once the request has been fully received, <code class="docutils literal notranslate"><span class="pre">main</span></code> is run which will send
one last DATA frame and signal its the end of the stream.</p></li>
</ol>
<div class="section" id="response-writer-api">
<h2>Response Writer API<a class="headerlink" href="#response-writer-api" title="Permalink to this headline">¶</a></h2>
<p>The H2Response API is pretty much the same as the H1 variant, the main API
difference lies in the H2ResponseWriter which is accessed through <code class="docutils literal notranslate"><span class="pre">response.writer</span></code></p>
<hr class="docutils" />
<div class="section" id="write-headers-self-headers-status-code-status-message-none-stream-id-none-last-false">
<h3><code class="docutils literal notranslate"><span class="pre">write_headers(self,</span> <span class="pre">headers,</span> <span class="pre">status_code,</span> <span class="pre">status_message=None,</span> <span class="pre">stream_id=None,</span> <span class="pre">last=False):</span></code><a class="headerlink" href="#write-headers-self-headers-status-code-status-message-none-stream-id-none-last-false" title="Permalink to this headline">¶</a></h3>
<p>Write a HEADER frame using the H2 Connection object, will only work if the
stream is in a state to send HEADER frames. This will automatically format
the headers so that pseudo headers are at the start of the list and correctly
prefixed with ‘:’. Since this using the H2 Connection object, it requires that
the stream is in the correct state to be sending this frame.</p>
<blockquote>
<div><p><b>Note</b>: Will raise ProtocolErrors if pseudo headers are missing.</p>
</div></blockquote>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>headers</b>: List of (header, value) tuples</p></li>
<li><p><b>status_code</b>: The HTTP status code of the response</p></li>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
<li><p><b>last</b>: Flag to signal if this is the last frame in stream.</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="write-data-self-item-last-false-stream-id-none">
<h3><code class="docutils literal notranslate"><span class="pre">write_data(self,</span> <span class="pre">item,</span> <span class="pre">last=False,</span> <span class="pre">stream_id=None):</span></code><a class="headerlink" href="#write-data-self-item-last-false-stream-id-none" title="Permalink to this headline">¶</a></h3>
<p>Write a DATA frame using the H2 Connection object, will only work if the
stream is in a state to send DATA frames. Uses flow control to split data
into multiple data frames if it exceeds the size that can be in a single frame.
Since this using the H2 Connection object, it requires that the stream is in
the correct state to be sending this frame.</p>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>item</b>: The content of the DATA frame</p></li>
<li><p><b>last</b>: Flag to signal if this is the last frame in stream.</p></li>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="write-push-self-promise-headers-push-stream-id-none-status-none-response-headers-none-response-data-none">
<h3><code class="docutils literal notranslate"><span class="pre">write_push(self,</span> <span class="pre">promise_headers,</span> <span class="pre">push_stream_id=None,</span> <span class="pre">status=None,</span> <span class="pre">response_headers=None,</span> <span class="pre">response_data=None):</span></code><a class="headerlink" href="#write-push-self-promise-headers-push-stream-id-none-status-none-response-headers-none-response-data-none" title="Permalink to this headline">¶</a></h3>
<p>This will write a push promise to the request stream. If you do not provide
headers and data for the response, then no response will be pushed, and you
should send them yourself using the ID returned from this function.</p>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>promise_headers</b>: A list of header tuples that matches what the client would use to
request the pushed response</p></li>
<li><p><b>push_stream_id</b>: The ID of the stream the response should be pushed to. If none given, will
use the next available id.</p></li>
<li><p><b>status</b>: The status code of the response, REQUIRED if response_headers given</p></li>
<li><p><b>response_headers</b>: The headers of the response</p></li>
<li><p><b>response_data</b>: The response data.</p></li>
</ul>
</li>
<li><p><b>Returns</b>: The ID of the push stream</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="write-raw-header-frame-self-headers-stream-id-none-end-stream-false-end-headers-false-frame-cls-headersframe">
<h3><code class="docutils literal notranslate"><span class="pre">write_raw_header_frame(self,</span> <span class="pre">headers,</span> <span class="pre">stream_id=None,</span> <span class="pre">end_stream=False,</span> <span class="pre">end_headers=False,</span> <span class="pre">frame_cls=HeadersFrame):</span></code><a class="headerlink" href="#write-raw-header-frame-self-headers-stream-id-none-end-stream-false-end-headers-false-frame-cls-headersframe" title="Permalink to this headline">¶</a></h3>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">write_headers</span></code>, this does not check to see if a stream is in the
correct state to have HEADER frames sent through to it. It also won’t force
the order of the headers or make sure pseudo headers are prefixed with ‘:’.
It will build a HEADER frame and send it without using the H2 Connection
object other than to HPACK encode the headers.</p>
<blockquote>
<div><p><b>Note</b>: The <code class="docutils literal notranslate"><span class="pre">frame_cls</span></code> parameter is so that this class can be reused
by <code class="docutils literal notranslate"><span class="pre">write_raw_continuation_frame</span></code>, as their construction is identical.</p>
</div></blockquote>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>headers</b>: List of (header, value) tuples</p></li>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
<li><p><b>end_stream</b>: Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to add END_STREAM flag to frame</p></li>
<li><p><b>end_headers</b>: Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to add END_HEADERS flag to frame</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="write-raw-data-frame-self-data-stream-id-none-end-stream-false">
<h3><code class="docutils literal notranslate"><span class="pre">write_raw_data_frame(self,</span> <span class="pre">data,</span> <span class="pre">stream_id=None,</span> <span class="pre">end_stream=False):</span></code><a class="headerlink" href="#write-raw-data-frame-self-data-stream-id-none-end-stream-false" title="Permalink to this headline">¶</a></h3>
<p>Unlike <code class="docutils literal notranslate"><span class="pre">write_data</span></code>, this does not check to see if a stream is in the correct
state to have DATA frames sent through to it. It will build a DATA frame and
send it without using the H2 Connection object. It will not perform any flow control checks.</p>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>data</b>: The data to be sent in the frame</p></li>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
<li><p><b>end_stream</b>: Set to True to add END_STREAM flag to frame</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="write-raw-continuation-frame-self-headers-stream-id-none-end-headers-false">
<h3><code class="docutils literal notranslate"><span class="pre">write_raw_continuation_frame(self,</span> <span class="pre">headers,</span> <span class="pre">stream_id=None,</span> <span class="pre">end_headers=False):</span></code><a class="headerlink" href="#write-raw-continuation-frame-self-headers-stream-id-none-end-headers-false" title="Permalink to this headline">¶</a></h3>
<p>This provides the ability to create and write a CONTINUATION frame to the
stream, which is not exposed by <code class="docutils literal notranslate"><span class="pre">write_headers</span></code> as the h2 library handles
the split between HEADER and CONTINUATION internally. Will perform HPACK
encoding on the headers. It also ignores the state of the stream.</p>
<p>This calls <code class="docutils literal notranslate"><span class="pre">write_raw_data_frame</span></code> with <code class="docutils literal notranslate"><span class="pre">frame_cls=ContinuationFrame</span></code> since
the HEADER and CONTINUATION frames are constructed in the same way.</p>
<ul class="simple">
<li><p><b>Parameters</b>:</p>
<ul>
<li><p><b>headers</b>: List of (header, value) tuples</p></li>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
<li><p><b>end_headers</b>: Set to True to add END_HEADERS flag to frame</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="end-stream-self-stream-id-none">
<h3><code class="docutils literal notranslate"><span class="pre">end_stream(self,</span> <span class="pre">stream_id=None):</span></code><a class="headerlink" href="#end-stream-self-stream-id-none" title="Permalink to this headline">¶</a></h3>
<p>Ends the stream with the given ID, or the one that request was made on if no ID given.</p>
<ul class="simple">
<li><p><b>Parameters</b></p>
<ul>
<li><p><b>stream_id</b>: Id of stream to send frame on. Will use the request stream ID if None</p></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tools.html" class="btn btn-neutral float-right" title="Command-line utility scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="css-user-styles.html" class="btn btn-neutral float-left" title="CSS User Stylesheets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>